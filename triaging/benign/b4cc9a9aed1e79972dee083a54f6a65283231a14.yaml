statistics:
  total_files: 1
  skipped_files: 0.0
  processed_objects: 1
  malicious_objects: 0
details:
- path: .repo_cache/malicious_repos/pypi_malregistry/discord-py-v13/1.3/discord_py_v13-1.3-py3-none-any/discord-py-v13/invite.py
  contents:
  - name: PartialInviteGuild.splash_url_as
    score: 0.0
    code: |-
      def splash_url_as(self, *, format='webp', size=2048):
              """The same operation as :meth:`Guild.splash_url_as`.

              Returns
              --------
              :class:`Asset`
                  The resulting CDN asset.
              """
              return Asset._from_guild_image(self._state, self.id, self.splash, 'splashes', format=format, size=size)
    tokens: resume load_global Asset load_attr STRING_LEN_S_ENT_HIGH load_fast self load_attr _state load_fast self load_attr id load_fast self load_attr splash load_const splashes load_fast format load_fast size kw_names format size call return_value
    hash: 974790ec10da18e283bb6868cde436d67a7a20157bcd88da845473c7fddbfa85
sources:
  .repo_cache/malicious_repos/pypi_malregistry/discord-py-v13/1.3/discord_py_v13-1.3-py3-none-any/discord-py-v13/invite.py: IyAtKi0gY29kaW5nOiB1dGYtOCAtKi0KCiIiIgpUaGUgTUlUIExpY2Vuc2UgKE1JVCkKCkNvcHlyaWdodCAoYykgMjAxNS1wcmVzZW50IFJhcHB0egoKUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEKY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSAiU29mdHdhcmUiKSwKdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbgp0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwKYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlClNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6CgpUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpbgphbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS4KClRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCAiQVMgSVMiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTCk9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLApGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUKQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUgpMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORwpGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSCkRFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS4KIiIiCgpmcm9tIC5hc3NldCBpbXBvcnQgQXNzZXQKZnJvbSAudXRpbHMgaW1wb3J0IHBhcnNlX3RpbWUsIHNub3dmbGFrZV90aW1lLCBfZ2V0X2FzX3Nub3dmbGFrZQpmcm9tIC5vYmplY3QgaW1wb3J0IE9iamVjdApmcm9tIC5taXhpbnMgaW1wb3J0IEhhc2hhYmxlCmZyb20gLmVudW1zIGltcG9ydCBDaGFubmVsVHlwZSwgVmVyaWZpY2F0aW9uTGV2ZWwsIHRyeV9lbnVtCgpjbGFzcyBQYXJ0aWFsSW52aXRlQ2hhbm5lbDoKICAgICIiIlJlcHJlc2VudHMgYSAicGFydGlhbCIgaW52aXRlIGNoYW5uZWwuCgogICAgVGhpcyBtb2RlbCB3aWxsIGJlIGdpdmVuIHdoZW4gdGhlIHVzZXIgaXMgbm90IHBhcnQgb2YgdGhlCiAgICBndWlsZCB0aGUgOmNsYXNzOmBJbnZpdGVgIHJlc29sdmVzIHRvLgoKICAgIC4uIGNvbnRhaW5lcjo6IG9wZXJhdGlvbnMKCiAgICAgICAgLi4gZGVzY3JpYmU6OiB4ID09IHkKCiAgICAgICAgICAgIENoZWNrcyBpZiB0d28gcGFydGlhbCBjaGFubmVscyBhcmUgdGhlIHNhbWUuCgogICAgICAgIC4uIGRlc2NyaWJlOjogeCAhPSB5CgogICAgICAgICAgICBDaGVja3MgaWYgdHdvIHBhcnRpYWwgY2hhbm5lbHMgYXJlIG5vdCB0aGUgc2FtZS4KCiAgICAgICAgLi4gZGVzY3JpYmU6OiBoYXNoKHgpCgogICAgICAgICAgICBSZXR1cm4gdGhlIHBhcnRpYWwgY2hhbm5lbCdzIGhhc2guCgogICAgICAgIC4uIGRlc2NyaWJlOjogc3RyKHgpCgogICAgICAgICAgICBSZXR1cm5zIHRoZSBwYXJ0aWFsIGNoYW5uZWwncyBuYW1lLgoKICAgIEF0dHJpYnV0ZXMKICAgIC0tLS0tLS0tLS0tCiAgICBuYW1lOiA6Y2xhc3M6YHN0cmAKICAgICAgICBUaGUgcGFydGlhbCBjaGFubmVsJ3MgbmFtZS4KICAgIGlkOiA6Y2xhc3M6YGludGAKICAgICAgICBUaGUgcGFydGlhbCBjaGFubmVsJ3MgSUQuCiAgICB0eXBlOiA6Y2xhc3M6YENoYW5uZWxUeXBlYAogICAgICAgIFRoZSBwYXJ0aWFsIGNoYW5uZWwncyB0eXBlLgogICAgIiIiCgogICAgX19zbG90c19fID0gKCdpZCcsICduYW1lJywgJ3R5cGUnKQoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCAqKmt3YXJncyk6CiAgICAgICAgc2VsZi5pZCA9IGt3YXJncy5wb3AoJ2lkJykKICAgICAgICBzZWxmLm5hbWUgPSBrd2FyZ3MucG9wKCduYW1lJykKICAgICAgICBzZWxmLnR5cGUgPSBrd2FyZ3MucG9wKCd0eXBlJykKCiAgICBkZWYgX19zdHJfXyhzZWxmKToKICAgICAgICByZXR1cm4gc2VsZi5uYW1lCgogICAgZGVmIF9fcmVwcl9fKHNlbGYpOgogICAgICAgIHJldHVybiAnPFBhcnRpYWxJbnZpdGVDaGFubmVsIGlkPXswLmlkfSBuYW1lPXswLm5hbWV9IHR5cGU9ezAudHlwZSFyfT4nLmZvcm1hdChzZWxmKQoKICAgIEBwcm9wZXJ0eQogICAgZGVmIG1lbnRpb24oc2VsZik6CiAgICAgICAgIiIiOmNsYXNzOmBzdHJgOiBUaGUgc3RyaW5nIHRoYXQgYWxsb3dzIHlvdSB0byBtZW50aW9uIHRoZSBjaGFubmVsLiIiIgogICAgICAgIHJldHVybiAnPCMlcz4nICUgc2VsZi5pZAoKICAgIEBwcm9wZXJ0eQogICAgZGVmIGNyZWF0ZWRfYXQoc2VsZik6CiAgICAgICAgIiIiOmNsYXNzOmBkYXRldGltZS5kYXRldGltZWA6IFJldHVybnMgdGhlIGNoYW5uZWwncyBjcmVhdGlvbiB0aW1lIGluIFVUQy4iIiIKICAgICAgICByZXR1cm4gc25vd2ZsYWtlX3RpbWUoc2VsZi5pZCkKCmNsYXNzIFBhcnRpYWxJbnZpdGVHdWlsZDoKICAgICIiIlJlcHJlc2VudHMgYSAicGFydGlhbCIgaW52aXRlIGd1aWxkLgoKICAgIFRoaXMgbW9kZWwgd2lsbCBiZSBnaXZlbiB3aGVuIHRoZSB1c2VyIGlzIG5vdCBwYXJ0IG9mIHRoZQogICAgZ3VpbGQgdGhlIDpjbGFzczpgSW52aXRlYCByZXNvbHZlcyB0by4KCiAgICAuLiBjb250YWluZXI6OiBvcGVyYXRpb25zCgogICAgICAgIC4uIGRlc2NyaWJlOjogeCA9PSB5CgogICAgICAgICAgICBDaGVja3MgaWYgdHdvIHBhcnRpYWwgZ3VpbGRzIGFyZSB0aGUgc2FtZS4KCiAgICAgICAgLi4gZGVzY3JpYmU6OiB4ICE9IHkKCiAgICAgICAgICAgIENoZWNrcyBpZiB0d28gcGFydGlhbCBndWlsZHMgYXJlIG5vdCB0aGUgc2FtZS4KCiAgICAgICAgLi4gZGVzY3JpYmU6OiBoYXNoKHgpCgogICAgICAgICAgICBSZXR1cm4gdGhlIHBhcnRpYWwgZ3VpbGQncyBoYXNoLgoKICAgICAgICAuLiBkZXNjcmliZTo6IHN0cih4KQoKICAgICAgICAgICAgUmV0dXJucyB0aGUgcGFydGlhbCBndWlsZCdzIG5hbWUuCgogICAgQXR0cmlidXRlcwogICAgLS0tLS0tLS0tLS0KICAgIG5hbWU6IDpjbGFzczpgc3RyYAogICAgICAgIFRoZSBwYXJ0aWFsIGd1aWxkJ3MgbmFtZS4KICAgIGlkOiA6Y2xhc3M6YGludGAKICAgICAgICBUaGUgcGFydGlhbCBndWlsZCdzIElELgogICAgdmVyaWZpY2F0aW9uX2xldmVsOiA6Y2xhc3M6YFZlcmlmaWNhdGlvbkxldmVsYAogICAgICAgIFRoZSBwYXJ0aWFsIGd1aWxkJ3MgdmVyaWZpY2F0aW9uIGxldmVsLgogICAgZmVhdHVyZXM6IExpc3RbOmNsYXNzOmBzdHJgXQogICAgICAgIEEgbGlzdCBvZiBmZWF0dXJlcyB0aGUgZ3VpbGQgaGFzLiBTZWUgOmF0dHI6YEd1aWxkLmZlYXR1cmVzYCBmb3IgbW9yZSBpbmZvcm1hdGlvbi4KICAgIGljb246IE9wdGlvbmFsWzpjbGFzczpgc3RyYF0KICAgICAgICBUaGUgcGFydGlhbCBndWlsZCdzIGljb24uCiAgICBiYW5uZXI6IE9wdGlvbmFsWzpjbGFzczpgc3RyYF0KICAgICAgICBUaGUgcGFydGlhbCBndWlsZCdzIGJhbm5lci4KICAgIHNwbGFzaDogT3B0aW9uYWxbOmNsYXNzOmBzdHJgXQogICAgICAgIFRoZSBwYXJ0aWFsIGd1aWxkJ3MgaW52aXRlIHNwbGFzaC4KICAgIGRlc2NyaXB0aW9uOiBPcHRpb25hbFs6Y2xhc3M6YHN0cmBdCiAgICAgICAgVGhlIHBhcnRpYWwgZ3VpbGQncyBkZXNjcmlwdGlvbi4KICAgICIiIgoKICAgIF9fc2xvdHNfXyA9ICgnX3N0YXRlJywgJ2ZlYXR1cmVzJywgJ2ljb24nLCAnYmFubmVyJywgJ2lkJywgJ25hbWUnLCAnc3BsYXNoJywKICAgICAgICAgICAgICAgICAndmVyaWZpY2F0aW9uX2xldmVsJywgJ2Rlc2NyaXB0aW9uJykKCiAgICBkZWYgX19pbml0X18oc2VsZiwgc3RhdGUsIGRhdGEsIGlkKToKICAgICAgICBzZWxmLl9zdGF0ZSA9IHN0YXRlCiAgICAgICAgc2VsZi5pZCA9IGlkCiAgICAgICAgc2VsZi5uYW1lID0gZGF0YVsnbmFtZSddCiAgICAgICAgc2VsZi5mZWF0dXJlcyA9IGRhdGEuZ2V0KCdmZWF0dXJlcycsIFtdKQogICAgICAgIHNlbGYuaWNvbiA9IGRhdGEuZ2V0KCdpY29uJykKICAgICAgICBzZWxmLmJhbm5lciA9IGRhdGEuZ2V0KCdiYW5uZXInKQogICAgICAgIHNlbGYuc3BsYXNoID0gZGF0YS5nZXQoJ3NwbGFzaCcpCiAgICAgICAgc2VsZi52ZXJpZmljYXRpb25fbGV2ZWwgPSB0cnlfZW51bShWZXJpZmljYXRpb25MZXZlbCwgZGF0YS5nZXQoJ3ZlcmlmaWNhdGlvbl9sZXZlbCcpKQogICAgICAgIHNlbGYuZGVzY3JpcHRpb24gPSBkYXRhLmdldCgnZGVzY3JpcHRpb24nKQoKICAgIGRlZiBfX3N0cl9fKHNlbGYpOgogICAgICAgIHJldHVybiBzZWxmLm5hbWUKCiAgICBkZWYgX19yZXByX18oc2VsZik6CiAgICAgICAgcmV0dXJuICc8ezAuX19jbGFzc19fLl9fbmFtZV9ffSBpZD17MC5pZH0gbmFtZT17MC5uYW1lIXJ9IGZlYXR1cmVzPXswLmZlYXR1cmVzfSAnIFwKICAgICAgICAgICAgICAgJ2Rlc2NyaXB0aW9uPXswLmRlc2NyaXB0aW9uIXJ9PicuZm9ybWF0KHNlbGYpCgogICAgQHByb3BlcnR5CiAgICBkZWYgY3JlYXRlZF9hdChzZWxmKToKICAgICAgICAiIiI6Y2xhc3M6YGRhdGV0aW1lLmRhdGV0aW1lYDogUmV0dXJucyB0aGUgZ3VpbGQncyBjcmVhdGlvbiB0aW1lIGluIFVUQy4iIiIKICAgICAgICByZXR1cm4gc25vd2ZsYWtlX3RpbWUoc2VsZi5pZCkKCiAgICBAcHJvcGVydHkKICAgIGRlZiBpY29uX3VybChzZWxmKToKICAgICAgICAiIiI6Y2xhc3M6YEFzc2V0YDogUmV0dXJucyB0aGUgZ3VpbGQncyBpY29uIGFzc2V0LiIiIgogICAgICAgIHJldHVybiBzZWxmLmljb25fdXJsX2FzKCkKCiAgICBkZWYgaXNfaWNvbl9hbmltYXRlZChzZWxmKToKICAgICAgICAiIiI6Y2xhc3M6YGJvb2xgOiBSZXR1cm5zIGBgVHJ1ZWBgIGlmIHRoZSBndWlsZCBoYXMgYW4gYW5pbWF0ZWQgaWNvbi4KCiAgICAgICAgLi4gdmVyc2lvbmFkZGVkOjogMS40CiAgICAgICAgIiIiCiAgICAgICAgcmV0dXJuIGJvb2woc2VsZi5pY29uIGFuZCBzZWxmLmljb24uc3RhcnRzd2l0aCgnYV8nKSkKCiAgICBkZWYgaWNvbl91cmxfYXMoc2VsZiwgKiwgZm9ybWF0PU5vbmUsIHN0YXRpY19mb3JtYXQ9J3dlYnAnLCBzaXplPTEwMjQpOgogICAgICAgICIiIlRoZSBzYW1lIG9wZXJhdGlvbiBhcyA6bWV0aDpgR3VpbGQuaWNvbl91cmxfYXNgLgoKICAgICAgICBSZXR1cm5zCiAgICAgICAgLS0tLS0tLS0KICAgICAgICA6Y2xhc3M6YEFzc2V0YAogICAgICAgICAgICBUaGUgcmVzdWx0aW5nIENETiBhc3NldC4KICAgICAgICAiIiIKICAgICAgICByZXR1cm4gQXNzZXQuX2Zyb21fZ3VpbGRfaWNvbihzZWxmLl9zdGF0ZSwgc2VsZiwgZm9ybWF0PWZvcm1hdCwgc3RhdGljX2Zvcm1hdD1zdGF0aWNfZm9ybWF0LCBzaXplPXNpemUpCgogICAgQHByb3BlcnR5CiAgICBkZWYgYmFubmVyX3VybChzZWxmKToKICAgICAgICAiIiI6Y2xhc3M6YEFzc2V0YDogUmV0dXJucyB0aGUgZ3VpbGQncyBiYW5uZXIgYXNzZXQuIiIiCiAgICAgICAgcmV0dXJuIHNlbGYuYmFubmVyX3VybF9hcygpCgogICAgZGVmIGJhbm5lcl91cmxfYXMoc2VsZiwgKiwgZm9ybWF0PSd3ZWJwJywgc2l6ZT0yMDQ4KToKICAgICAgICAiIiJUaGUgc2FtZSBvcGVyYXRpb24gYXMgOm1ldGg6YEd1aWxkLmJhbm5lcl91cmxfYXNgLgoKICAgICAgICBSZXR1cm5zCiAgICAgICAgLS0tLS0tLS0KICAgICAgICA6Y2xhc3M6YEFzc2V0YAogICAgICAgICAgICBUaGUgcmVzdWx0aW5nIENETiBhc3NldC4KICAgICAgICAiIiIKICAgICAgICByZXR1cm4gQXNzZXQuX2Zyb21fZ3VpbGRfaW1hZ2Uoc2VsZi5fc3RhdGUsIHNlbGYuaWQsIHNlbGYuYmFubmVyLCAnYmFubmVycycsIGZvcm1hdD1mb3JtYXQsIHNpemU9c2l6ZSkKCiAgICBAcHJvcGVydHkKICAgIGRlZiBzcGxhc2hfdXJsKHNlbGYpOgogICAgICAgICIiIjpjbGFzczpgQXNzZXRgOiBSZXR1cm5zIHRoZSBndWlsZCdzIGludml0ZSBzcGxhc2ggYXNzZXQuIiIiCiAgICAgICAgcmV0dXJuIHNlbGYuc3BsYXNoX3VybF9hcygpCgogICAgZGVmIHNwbGFzaF91cmxfYXMoc2VsZiwgKiwgZm9ybWF0PSd3ZWJwJywgc2l6ZT0yMDQ4KToKICAgICAgICAiIiJUaGUgc2FtZSBvcGVyYXRpb24gYXMgOm1ldGg6YEd1aWxkLnNwbGFzaF91cmxfYXNgLgoKICAgICAgICBSZXR1cm5zCiAgICAgICAgLS0tLS0tLS0KICAgICAgICA6Y2xhc3M6YEFzc2V0YAogICAgICAgICAgICBUaGUgcmVzdWx0aW5nIENETiBhc3NldC4KICAgICAgICAiIiIKICAgICAgICByZXR1cm4gQXNzZXQuX2Zyb21fZ3VpbGRfaW1hZ2Uoc2VsZi5fc3RhdGUsIHNlbGYuaWQsIHNlbGYuc3BsYXNoLCAnc3BsYXNoZXMnLCBmb3JtYXQ9Zm9ybWF0LCBzaXplPXNpemUpCgpjbGFzcyBJbnZpdGUoSGFzaGFibGUpOgogICAgciIiIlJlcHJlc2VudHMgYSBEaXNjb3JkIDpjbGFzczpgR3VpbGRgIG9yIDpjbGFzczpgYWJjLkd1aWxkQ2hhbm5lbGAgaW52aXRlLgoKICAgIERlcGVuZGluZyBvbiB0aGUgd2F5IHRoaXMgb2JqZWN0IHdhcyBjcmVhdGVkLCBzb21lIG9mIHRoZSBhdHRyaWJ1dGVzIGNhbgogICAgaGF2ZSBhIHZhbHVlIG9mIGBgTm9uZWBgLgoKICAgIC4uIGNvbnRhaW5lcjo6IG9wZXJhdGlvbnMKCiAgICAgICAgLi4gZGVzY3JpYmU6OiB4ID09IHkKCiAgICAgICAgICAgIENoZWNrcyBpZiB0d28gaW52aXRlcyBhcmUgZXF1YWwuCgogICAgICAgIC4uIGRlc2NyaWJlOjogeCAhPSB5CgogICAgICAgICAgICBDaGVja3MgaWYgdHdvIGludml0ZXMgYXJlIG5vdCBlcXVhbC4KCiAgICAgICAgLi4gZGVzY3JpYmU6OiBoYXNoKHgpCgogICAgICAgICAgICBSZXR1cm5zIHRoZSBpbnZpdGUgaGFzaC4KCiAgICAgICAgLi4gZGVzY3JpYmU6OiBzdHIoeCkKCiAgICAgICAgICAgIFJldHVybnMgdGhlIGludml0ZSBVUkwuCgogICAgVGhlIGZvbGxvd2luZyB0YWJsZSBpbGx1c3RyYXRlcyB3aGF0IG1ldGhvZHMgd2lsbCBvYnRhaW4gdGhlIGF0dHJpYnV0ZXM6CgogICAgKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKwogICAgfCAgICAgICAgICAgICBBdHRyaWJ1dGUgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgIE1ldGhvZCAgICAgICAgICAgICAgICAgICAgICAgICAgfAogICAgKz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSs9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09KwogICAgfCA6YXR0cjpgbWF4X2FnZWAgICAgICAgICAgICAgICAgICAgIHwgOm1ldGg6YGFiYy5HdWlsZENoYW5uZWwuaW52aXRlc2BcLCA6bWV0aDpgR3VpbGQuaW52aXRlc2AgfAogICAgKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKwogICAgfCA6YXR0cjpgbWF4X3VzZXNgICAgICAgICAgICAgICAgICAgIHwgOm1ldGg6YGFiYy5HdWlsZENoYW5uZWwuaW52aXRlc2BcLCA6bWV0aDpgR3VpbGQuaW52aXRlc2AgfAogICAgKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKwogICAgfCA6YXR0cjpgY3JlYXRlZF9hdGAgICAgICAgICAgICAgICAgIHwgOm1ldGg6YGFiYy5HdWlsZENoYW5uZWwuaW52aXRlc2BcLCA6bWV0aDpgR3VpbGQuaW52aXRlc2AgfAogICAgKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKwogICAgfCA6YXR0cjpgdGVtcG9yYXJ5YCAgICAgICAgICAgICAgICAgIHwgOm1ldGg6YGFiYy5HdWlsZENoYW5uZWwuaW52aXRlc2BcLCA6bWV0aDpgR3VpbGQuaW52aXRlc2AgfAogICAgKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKwogICAgfCA6YXR0cjpgdXNlc2AgICAgICAgICAgICAgICAgICAgICAgIHwgOm1ldGg6YGFiYy5HdWlsZENoYW5uZWwuaW52aXRlc2BcLCA6bWV0aDpgR3VpbGQuaW52aXRlc2AgfAogICAgKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKwogICAgfCA6YXR0cjpgYXBwcm94aW1hdGVfbWVtYmVyX2NvdW50YCAgIHwgOm1ldGg6YENsaWVudC5mZXRjaF9pbnZpdGVgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfAogICAgKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKwogICAgfCA6YXR0cjpgYXBwcm94aW1hdGVfcHJlc2VuY2VfY291bnRgIHwgOm1ldGg6YENsaWVudC5mZXRjaF9pbnZpdGVgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfAogICAgKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKwoKICAgIElmIGl0J3Mgbm90IGluIHRoZSB0YWJsZSBhYm92ZSB0aGVuIGl0IGlzIGF2YWlsYWJsZSBieSBhbGwgbWV0aG9kcy4KCiAgICBBdHRyaWJ1dGVzCiAgICAtLS0tLS0tLS0tLQogICAgbWF4X2FnZTogOmNsYXNzOmBpbnRgCiAgICAgICAgSG93IGxvbmcgdGhlIGJlZm9yZSB0aGUgaW52aXRlIGV4cGlyZXMgaW4gc2Vjb25kcy4KICAgICAgICBBIHZhbHVlIG9mIGBgMGBgIGluZGljYXRlcyB0aGF0IGl0IGRvZXNuJ3QgZXhwaXJlLgogICAgY29kZTogOmNsYXNzOmBzdHJgCiAgICAgICAgVGhlIFVSTCBmcmFnbWVudCB1c2VkIGZvciB0aGUgaW52aXRlLgogICAgZ3VpbGQ6IE9wdGlvbmFsW1VuaW9uWzpjbGFzczpgR3VpbGRgLCA6Y2xhc3M6YE9iamVjdGAsIDpjbGFzczpgUGFydGlhbEludml0ZUd1aWxkYF1dCiAgICAgICAgVGhlIGd1aWxkIHRoZSBpbnZpdGUgaXMgZm9yLiBDYW4gYmUgYGBOb25lYGAgaWYgaXQncyBmcm9tIGEgZ3JvdXAgZGlyZWN0IG1lc3NhZ2UuCiAgICByZXZva2VkOiA6Y2xhc3M6YGJvb2xgCiAgICAgICAgSW5kaWNhdGVzIGlmIHRoZSBpbnZpdGUgaGFzIGJlZW4gcmV2b2tlZC4KICAgIGNyZWF0ZWRfYXQ6IDpjbGFzczpgZGF0ZXRpbWUuZGF0ZXRpbWVgCiAgICAgICAgQSBkYXRldGltZSBvYmplY3QgZGVub3RpbmcgdGhlIHRpbWUgdGhlIGludml0ZSB3YXMgY3JlYXRlZC4KICAgIHRlbXBvcmFyeTogOmNsYXNzOmBib29sYAogICAgICAgIEluZGljYXRlcyB0aGF0IHRoZSBpbnZpdGUgZ3JhbnRzIHRlbXBvcmFyeSBtZW1iZXJzaGlwLgogICAgICAgIElmIGBgVHJ1ZWBgLCBtZW1iZXJzIHdobyBqb2luZWQgdmlhIHRoaXMgaW52aXRlIHdpbGwgYmUga2lja2VkIHVwb24gZGlzY29ubmVjdC4KICAgIHVzZXM6IDpjbGFzczpgaW50YAogICAgICAgIEhvdyBtYW55IHRpbWVzIHRoZSBpbnZpdGUgaGFzIGJlZW4gdXNlZC4KICAgIG1heF91c2VzOiA6Y2xhc3M6YGludGAKICAgICAgICBIb3cgbWFueSB0aW1lcyB0aGUgaW52aXRlIGNhbiBiZSB1c2VkLgogICAgICAgIEEgdmFsdWUgb2YgYGAwYGAgaW5kaWNhdGVzIHRoYXQgaXQgaGFzIHVubGltaXRlZCB1c2VzLgogICAgaW52aXRlcjogOmNsYXNzOmBVc2VyYAogICAgICAgIFRoZSB1c2VyIHdobyBjcmVhdGVkIHRoZSBpbnZpdGUuCiAgICBhcHByb3hpbWF0ZV9tZW1iZXJfY291bnQ6IE9wdGlvbmFsWzpjbGFzczpgaW50YF0KICAgICAgICBUaGUgYXBwcm94aW1hdGUgbnVtYmVyIG9mIG1lbWJlcnMgaW4gdGhlIGd1aWxkLgogICAgYXBwcm94aW1hdGVfcHJlc2VuY2VfY291bnQ6IE9wdGlvbmFsWzpjbGFzczpgaW50YF0KICAgICAgICBUaGUgYXBwcm94aW1hdGUgbnVtYmVyIG9mIG1lbWJlcnMgY3VycmVudGx5IGFjdGl2ZSBpbiB0aGUgZ3VpbGQuCiAgICAgICAgVGhpcyBpbmNsdWRlcyBpZGxlLCBkbmQsIG9ubGluZSwgYW5kIGludmlzaWJsZSBtZW1iZXJzLiBPZmZsaW5lIG1lbWJlcnMgYXJlIGV4Y2x1ZGVkLgogICAgY2hhbm5lbDogVW5pb25bOmNsYXNzOmBhYmMuR3VpbGRDaGFubmVsYCwgOmNsYXNzOmBPYmplY3RgLCA6Y2xhc3M6YFBhcnRpYWxJbnZpdGVDaGFubmVsYF0KICAgICAgICBUaGUgY2hhbm5lbCB0aGUgaW52aXRlIGlzIGZvci4KICAgICIiIgoKICAgIF9fc2xvdHNfXyA9ICgnbWF4X2FnZScsICdjb2RlJywgJ2d1aWxkJywgJ3Jldm9rZWQnLCAnY3JlYXRlZF9hdCcsICd1c2VzJywKICAgICAgICAgICAgICAgICAndGVtcG9yYXJ5JywgJ21heF91c2VzJywgJ2ludml0ZXInLCAnY2hhbm5lbCcsICdfc3RhdGUnLAogICAgICAgICAgICAgICAgICdhcHByb3hpbWF0ZV9tZW1iZXJfY291bnQnLCAnYXBwcm94aW1hdGVfcHJlc2VuY2VfY291bnQnICkKCiAgICBCQVNFID0gJ2h0dHBzOi8vZGlzY29yZC5nZycKCiAgICBkZWYgX19pbml0X18oc2VsZiwgKiwgc3RhdGUsIGRhdGEpOgogICAgICAgIHNlbGYuX3N0YXRlID0gc3RhdGUKICAgICAgICBzZWxmLm1heF9hZ2UgPSBkYXRhLmdldCgnbWF4X2FnZScpCiAgICAgICAgc2VsZi5jb2RlID0gZGF0YS5nZXQoJ2NvZGUnKQogICAgICAgIHNlbGYuZ3VpbGQgPSBkYXRhLmdldCgnZ3VpbGQnKQogICAgICAgIHNlbGYucmV2b2tlZCA9IGRhdGEuZ2V0KCdyZXZva2VkJykKICAgICAgICBzZWxmLmNyZWF0ZWRfYXQgPSBwYXJzZV90aW1lKGRhdGEuZ2V0KCdjcmVhdGVkX2F0JykpCiAgICAgICAgc2VsZi50ZW1wb3JhcnkgPSBkYXRhLmdldCgndGVtcG9yYXJ5JykKICAgICAgICBzZWxmLnVzZXMgPSBkYXRhLmdldCgndXNlcycpCiAgICAgICAgc2VsZi5tYXhfdXNlcyA9IGRhdGEuZ2V0KCdtYXhfdXNlcycpCiAgICAgICAgc2VsZi5hcHByb3hpbWF0ZV9wcmVzZW5jZV9jb3VudCA9IGRhdGEuZ2V0KCdhcHByb3hpbWF0ZV9wcmVzZW5jZV9jb3VudCcpCiAgICAgICAgc2VsZi5hcHByb3hpbWF0ZV9tZW1iZXJfY291bnQgPSBkYXRhLmdldCgnYXBwcm94aW1hdGVfbWVtYmVyX2NvdW50JykKCiAgICAgICAgaW52aXRlcl9kYXRhID0gZGF0YS5nZXQoJ2ludml0ZXInKQogICAgICAgIHNlbGYuaW52aXRlciA9IE5vbmUgaWYgaW52aXRlcl9kYXRhIGlzIE5vbmUgZWxzZSBzZWxmLl9zdGF0ZS5zdG9yZV91c2VyKGludml0ZXJfZGF0YSkKICAgICAgICBzZWxmLmNoYW5uZWwgPSBkYXRhLmdldCgnY2hhbm5lbCcpCgogICAgQGNsYXNzbWV0aG9kCiAgICBkZWYgZnJvbV9pbmNvbXBsZXRlKGNscywgKiwgc3RhdGUsIGRhdGEpOgogICAgICAgIHRyeToKICAgICAgICAgICAgZ3VpbGRfaWQgPSBpbnQoZGF0YVsnZ3VpbGQnXVsnaWQnXSkKICAgICAgICBleGNlcHQgS2V5RXJyb3I6CiAgICAgICAgICAgICMgSWYgd2UncmUgaGVyZSwgdGhlbiB0aGlzIGlzIGEgZ3JvdXAgRE0KICAgICAgICAgICAgZ3VpbGQgPSBOb25lCiAgICAgICAgZWxzZToKICAgICAgICAgICAgZ3VpbGQgPSBzdGF0ZS5fZ2V0X2d1aWxkKGd1aWxkX2lkKQogICAgICAgICAgICBpZiBndWlsZCBpcyBOb25lOgogICAgICAgICAgICAgICAgIyBJZiBpdCdzIG5vdCBjYWNoZWQsIHRoZW4gaXQgaGFzIHRvIGJlIGEgcGFydGlhbCBndWlsZAogICAgICAgICAgICAgICAgZ3VpbGRfZGF0YSA9IGRhdGFbJ2d1aWxkJ10KICAgICAgICAgICAgICAgIGd1aWxkID0gUGFydGlhbEludml0ZUd1aWxkKHN0YXRlLCBndWlsZF9kYXRhLCBndWlsZF9pZCkKCiAgICAgICAgIyBBcyBmYXIgYXMgSSBrbm93LCBpbnZpdGVzIGFsd2F5cyBuZWVkIGEgY2hhbm5lbAogICAgICAgICMgU28gdGhpcyBzaG91bGQgbmV2ZXIgcmFpc2UuCiAgICAgICAgY2hhbm5lbF9kYXRhID0gZGF0YVsnY2hhbm5lbCddCiAgICAgICAgY2hhbm5lbF9pZCA9IGludChjaGFubmVsX2RhdGFbJ2lkJ10pCiAgICAgICAgY2hhbm5lbF90eXBlID0gdHJ5X2VudW0oQ2hhbm5lbFR5cGUsIGNoYW5uZWxfZGF0YVsndHlwZSddKQogICAgICAgIGNoYW5uZWwgPSBQYXJ0aWFsSW52aXRlQ2hhbm5lbChpZD1jaGFubmVsX2lkLCBuYW1lPWNoYW5uZWxfZGF0YVsnbmFtZSddLCB0eXBlPWNoYW5uZWxfdHlwZSkKICAgICAgICBpZiBndWlsZCBpcyBub3QgTm9uZSBhbmQgbm90IGlzaW5zdGFuY2UoZ3VpbGQsIFBhcnRpYWxJbnZpdGVHdWlsZCk6CiAgICAgICAgICAgICMgVXBncmFkZSB0aGUgcGFydGlhbCBkYXRhIGlmIGFwcGxpY2FibGUKICAgICAgICAgICAgY2hhbm5lbCA9IGd1aWxkLmdldF9jaGFubmVsKGNoYW5uZWxfaWQpIG9yIGNoYW5uZWwKCiAgICAgICAgZGF0YVsnZ3VpbGQnXSA9IGd1aWxkCiAgICAgICAgZGF0YVsnY2hhbm5lbCddID0gY2hhbm5lbAogICAgICAgIHJldHVybiBjbHMoc3RhdGU9c3RhdGUsIGRhdGE9ZGF0YSkKCiAgICBAY2xhc3NtZXRob2QKICAgIGRlZiBmcm9tX2dhdGV3YXkoY2xzLCAqLCBzdGF0ZSwgZGF0YSk6CiAgICAgICAgZ3VpbGRfaWQgPSBfZ2V0X2FzX3Nub3dmbGFrZShkYXRhLCAnZ3VpbGRfaWQnKQogICAgICAgIGd1aWxkID0gc3RhdGUuX2dldF9ndWlsZChndWlsZF9pZCkKICAgICAgICBjaGFubmVsX2lkID0gX2dldF9hc19zbm93Zmxha2UoZGF0YSwgJ2NoYW5uZWxfaWQnKQogICAgICAgIGlmIGd1aWxkIGlzIG5vdCBOb25lOgogICAgICAgICAgICBjaGFubmVsID0gZ3VpbGQuZ2V0X2NoYW5uZWwoY2hhbm5lbF9pZCkgb3IgT2JqZWN0KGlkPWNoYW5uZWxfaWQpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgZ3VpbGQgPSBPYmplY3QoaWQ9Z3VpbGRfaWQpCiAgICAgICAgICAgIGNoYW5uZWwgPSBPYmplY3QoaWQ9Y2hhbm5lbF9pZCkKCiAgICAgICAgZGF0YVsnZ3VpbGQnXSA9IGd1aWxkCiAgICAgICAgZGF0YVsnY2hhbm5lbCddID0gY2hhbm5lbAogICAgICAgIHJldHVybiBjbHMoc3RhdGU9c3RhdGUsIGRhdGE9ZGF0YSkKCiAgICBkZWYgX19zdHJfXyhzZWxmKToKICAgICAgICByZXR1cm4gc2VsZi51cmwKCiAgICBkZWYgX19yZXByX18oc2VsZik6CiAgICAgICAgcmV0dXJuICc8SW52aXRlIGNvZGU9ezAuY29kZSFyfSBndWlsZD17MC5ndWlsZCFyfSAnIFwKICAgICAgICAgICAgICAgICdvbmxpbmU9ezAuYXBwcm94aW1hdGVfcHJlc2VuY2VfY291bnR9ICcgXAogICAgICAgICAgICAgICAgJ21lbWJlcnM9ezAuYXBwcm94aW1hdGVfbWVtYmVyX2NvdW50fT4nLmZvcm1hdChzZWxmKQoKICAgIGRlZiBfX2hhc2hfXyhzZWxmKToKICAgICAgICByZXR1cm4gaGFzaChzZWxmLmNvZGUpCgogICAgQHByb3BlcnR5CiAgICBkZWYgaWQoc2VsZik6CiAgICAgICAgIiIiOmNsYXNzOmBzdHJgOiBSZXR1cm5zIHRoZSBwcm9wZXIgY29kZSBwb3J0aW9uIG9mIHRoZSBpbnZpdGUuIiIiCiAgICAgICAgcmV0dXJuIHNlbGYuY29kZQoKICAgIEBwcm9wZXJ0eQogICAgZGVmIHVybChzZWxmKToKICAgICAgICAiIiI6Y2xhc3M6YHN0cmA6IEEgcHJvcGVydHkgdGhhdCByZXRyaWV2ZXMgdGhlIGludml0ZSBVUkwuIiIiCiAgICAgICAgcmV0dXJuIHNlbGYuQkFTRSArICcvJyArIHNlbGYuY29kZQoKICAgIGFzeW5jIGRlZiBkZWxldGUoc2VsZiwgKiwgcmVhc29uPU5vbmUpOgogICAgICAgICIiInxjb3JvfAoKICAgICAgICBSZXZva2VzIHRoZSBpbnN0YW50IGludml0ZS4KCiAgICAgICAgWW91IG11c3QgaGF2ZSB0aGUgOmF0dHI6YH5QZXJtaXNzaW9ucy5tYW5hZ2VfY2hhbm5lbHNgIHBlcm1pc3Npb24gdG8gZG8gdGhpcy4KCiAgICAgICAgUGFyYW1ldGVycwogICAgICAgIC0tLS0tLS0tLS0tCiAgICAgICAgcmVhc29uOiBPcHRpb25hbFs6Y2xhc3M6YHN0cmBdCiAgICAgICAgICAgIFRoZSByZWFzb24gZm9yIGRlbGV0aW5nIHRoaXMgaW52aXRlLiBTaG93cyB1cCBvbiB0aGUgYXVkaXQgbG9nLgoKICAgICAgICBSYWlzZXMKICAgICAgICAtLS0tLS0tCiAgICAgICAgRm9yYmlkZGVuCiAgICAgICAgICAgIFlvdSBkbyBub3QgaGF2ZSBwZXJtaXNzaW9ucyB0byByZXZva2UgaW52aXRlcy4KICAgICAgICBOb3RGb3VuZAogICAgICAgICAgICBUaGUgaW52aXRlIGlzIGludmFsaWQgb3IgZXhwaXJlZC4KICAgICAgICBIVFRQRXhjZXB0aW9uCiAgICAgICAgICAgIFJldm9raW5nIHRoZSBpbnZpdGUgZmFpbGVkLgogICAgICAgICIiIgoKICAgICAgICBhd2FpdCBzZWxmLl9zdGF0ZS5odHRwLmRlbGV0ZV9pbnZpdGUoc2VsZi5jb2RlLCByZWFzb249cmVhc29uKQo=
