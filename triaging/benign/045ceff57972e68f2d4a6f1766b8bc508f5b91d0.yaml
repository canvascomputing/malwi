statistics:
  total_files: 1
  skipped_files: 0.0
  processed_objects: 1
  malicious_objects: 0
details:
- path: .repo_cache/malicious_repos/pypi_malregistry/awscl/1.27.67/awscl-1.27.67/awscl-1.27.67/awscli/help.py
  contents:
  - name: ServiceHelpCommand.name
    score: null
    code: |-
      @property
          def name(self):
              return self._name
    tokens: resume load_fast self load_attr _name return_value
    hash: 2c2423e4d704c54b659b9b0fe2a88200d100bf971f62e2b0a00dcb9970d78207
sources:
  .repo_cache/malicious_repos/pypi_malregistry/awscl/1.27.67/awscl-1.27.67/awscl-1.27.67/awscli/help.py: IyBDb3B5cmlnaHQgMjAxMi0yMDE1IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuCiMKIyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKS4gWW91CiMgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIEEgY29weSBvZgojIHRoZSBMaWNlbnNlIGlzIGxvY2F0ZWQgYXQKIwojICAgICBodHRwOi8vYXdzLmFtYXpvbi5jb20vYXBhY2hlMi4wLwojCiMgb3IgaW4gdGhlICJsaWNlbnNlIiBmaWxlIGFjY29tcGFueWluZyB0aGlzIGZpbGUuIFRoaXMgZmlsZSBpcwojIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GCiMgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljCiMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KaW1wb3J0IGxvZ2dpbmcKaW1wb3J0IG9zCmltcG9ydCBzeXMKaW1wb3J0IHBsYXRmb3JtCmltcG9ydCBzaGxleApmcm9tIHN1YnByb2Nlc3MgaW1wb3J0IFBvcGVuLCBQSVBFCgpmcm9tIGRvY3V0aWxzLmNvcmUgaW1wb3J0IHB1Ymxpc2hfc3RyaW5nCmZyb20gZG9jdXRpbHMud3JpdGVycyBpbXBvcnQgbWFucGFnZQoKZnJvbSBhd3NjbGkuY2xpZG9jcyBpbXBvcnQgUHJvdmlkZXJEb2N1bWVudEV2ZW50SGFuZGxlcgpmcm9tIGF3c2NsaS5jbGlkb2NzIGltcG9ydCBTZXJ2aWNlRG9jdW1lbnRFdmVudEhhbmRsZXIKZnJvbSBhd3NjbGkuY2xpZG9jcyBpbXBvcnQgT3BlcmF0aW9uRG9jdW1lbnRFdmVudEhhbmRsZXIKZnJvbSBhd3NjbGkuY2xpZG9jcyBpbXBvcnQgVG9waWNMaXN0ZXJEb2N1bWVudEV2ZW50SGFuZGxlcgpmcm9tIGF3c2NsaS5jbGlkb2NzIGltcG9ydCBUb3BpY0RvY3VtZW50RXZlbnRIYW5kbGVyCmZyb20gYXdzY2xpLmJjZG9jIGltcG9ydCBkb2NldmVudHMKZnJvbSBhd3NjbGkuYmNkb2MucmVzdGRvYyBpbXBvcnQgUmVTVERvY3VtZW50CmZyb20gYXdzY2xpLmJjZG9jLnRleHR3cml0ZXIgaW1wb3J0IFRleHRXcml0ZXIKZnJvbSBhd3NjbGkuYXJncHJvY2VzcyBpbXBvcnQgUGFyYW1TaG9ydGhhbmRQYXJzZXIKZnJvbSBhd3NjbGkuYXJncGFyc2VyIGltcG9ydCBBcmdUYWJsZUFyZ1BhcnNlcgpmcm9tIGF3c2NsaS50b3BpY3RhZ3MgaW1wb3J0IFRvcGljVGFnREIKZnJvbSBhd3NjbGkudXRpbHMgaW1wb3J0IGlnbm9yZV9jdHJsX2MKCgpMT0cgPSBsb2dnaW5nLmdldExvZ2dlcignYXdzY2xpLmhlbHAnKQoKCmNsYXNzIEV4ZWN1dGFibGVOb3RGb3VuZEVycm9yKEV4Y2VwdGlvbik6CiAgICBkZWYgX19pbml0X18oc2VsZiwgZXhlY3V0YWJsZV9uYW1lKToKICAgICAgICBzdXBlcihFeGVjdXRhYmxlTm90Rm91bmRFcnJvciwgc2VsZikuX19pbml0X18oCiAgICAgICAgICAgICdDb3VsZCBub3QgZmluZCBleGVjdXRhYmxlIG5hbWVkICIlcyInICUgZXhlY3V0YWJsZV9uYW1lKQoKCmRlZiBnZXRfcmVuZGVyZXIoKToKICAgICIiIgogICAgUmV0dXJuIHRoZSBhcHByb3ByaWF0ZSBIZWxwUmVuZGVyZXIgaW1wbGVtZW50YXRpb24gZm9yIHRoZQogICAgY3VycmVudCBwbGF0Zm9ybS4KICAgICIiIgogICAgaWYgcGxhdGZvcm0uc3lzdGVtKCkgPT0gJ1dpbmRvd3MnOgogICAgICAgIHJldHVybiBXaW5kb3dzSGVscFJlbmRlcmVyKCkKICAgIGVsc2U6CiAgICAgICAgcmV0dXJuIFBvc2l4SGVscFJlbmRlcmVyKCkKCgpjbGFzcyBQYWdpbmdIZWxwUmVuZGVyZXIob2JqZWN0KToKICAgICIiIgogICAgSW50ZXJmYWNlIGZvciBhIGhlbHAgcmVuZGVyZXIuCgogICAgVGhlIHJlbmRlcmVyIGlzIHJlc3BvbnNpYmxlIGZvciBkaXNwbGF5aW5nIHRoZSBoZWxwIGNvbnRlbnQgb24KICAgIGEgcGFydGljdWxhciBwbGF0Zm9ybS4KCiAgICAiIiIKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBvdXRwdXRfc3RyZWFtPXN5cy5zdGRvdXQpOgogICAgICAgIHNlbGYub3V0cHV0X3N0cmVhbSA9IG91dHB1dF9zdHJlYW0KCiAgICBQQUdFUiA9IE5vbmUKCiAgICBkZWYgZ2V0X3BhZ2VyX2NtZGxpbmUoc2VsZik6CiAgICAgICAgcGFnZXIgPSBzZWxmLlBBR0VSCiAgICAgICAgaWYgJ01BTlBBR0VSJyBpbiBvcy5lbnZpcm9uOgogICAgICAgICAgICBwYWdlciA9IG9zLmVudmlyb25bJ01BTlBBR0VSJ10KICAgICAgICBlbGlmICdQQUdFUicgaW4gb3MuZW52aXJvbjoKICAgICAgICAgICAgcGFnZXIgPSBvcy5lbnZpcm9uWydQQUdFUiddCiAgICAgICAgcmV0dXJuIHNobGV4LnNwbGl0KHBhZ2VyKQoKICAgIGRlZiByZW5kZXIoc2VsZiwgY29udGVudHMpOgogICAgICAgICIiIgogICAgICAgIEVhY2ggaW1wbGVtZW50YXRpb24gb2YgSGVscFJlbmRlcmVyIG11c3QgaW1wbGVtZW50IHRoaXMKICAgICAgICByZW5kZXIgbWV0aG9kLgogICAgICAgICIiIgogICAgICAgIGNvbnZlcnRlZF9jb250ZW50ID0gc2VsZi5fY29udmVydF9kb2NfY29udGVudChjb250ZW50cykKICAgICAgICBzZWxmLl9zZW5kX291dHB1dF90b19wYWdlcihjb252ZXJ0ZWRfY29udGVudCkKCiAgICBkZWYgX3NlbmRfb3V0cHV0X3RvX3BhZ2VyKHNlbGYsIG91dHB1dCk6CiAgICAgICAgY21kbGluZSA9IHNlbGYuZ2V0X3BhZ2VyX2NtZGxpbmUoKQogICAgICAgIExPRy5kZWJ1ZygiUnVubmluZyBjb21tYW5kOiAlcyIsIGNtZGxpbmUpCiAgICAgICAgcCA9IHNlbGYuX3BvcGVuKGNtZGxpbmUsIHN0ZGluPVBJUEUpCiAgICAgICAgcC5jb21tdW5pY2F0ZShpbnB1dD1vdXRwdXQpCgogICAgZGVmIF9wb3BlbihzZWxmLCAqYXJncywgKiprd2FyZ3MpOgogICAgICAgIHJldHVybiBQb3BlbigqYXJncywgKiprd2FyZ3MpCgogICAgZGVmIF9jb252ZXJ0X2RvY19jb250ZW50KHNlbGYsIGNvbnRlbnRzKToKICAgICAgICByZXR1cm4gY29udGVudHMKCgpjbGFzcyBQb3NpeEhlbHBSZW5kZXJlcihQYWdpbmdIZWxwUmVuZGVyZXIpOgogICAgIiIiCiAgICBSZW5kZXIgaGVscCBjb250ZW50IG9uIGEgUG9zaXgtbGlrZSBzeXN0ZW0uICBUaGlzIGluY2x1ZGVzCiAgICBMaW51eCBhbmQgTWFjT1MgWC4KICAgICIiIgoKICAgIFBBR0VSID0gJ2xlc3MgLVInCgogICAgZGVmIF9jb252ZXJ0X2RvY19jb250ZW50KHNlbGYsIGNvbnRlbnRzKToKICAgICAgICBtYW5fY29udGVudHMgPSBwdWJsaXNoX3N0cmluZyhjb250ZW50cywgd3JpdGVyPW1hbnBhZ2UuV3JpdGVyKCkpCiAgICAgICAgaWYgc2VsZi5fZXhpc3RzX29uX3BhdGgoJ2dyb2ZmJyk6CiAgICAgICAgICAgIGNtZGxpbmUgPSBbJ2dyb2ZmJywgJy1tJywgJ21hbicsICctVCcsICdhc2NpaSddCiAgICAgICAgZWxpZiBzZWxmLl9leGlzdHNfb25fcGF0aCgnbWFuZG9jJyk6CiAgICAgICAgICAgIGNtZGxpbmUgPSBbJ21hbmRvYycsICctVCcsICdhc2NpaSddCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmFpc2UgRXhlY3V0YWJsZU5vdEZvdW5kRXJyb3IoJ2dyb2ZmIG9yIG1hbmRvYycpCiAgICAgICAgTE9HLmRlYnVnKCJSdW5uaW5nIGNvbW1hbmQ6ICVzIiwgY21kbGluZSkKICAgICAgICBwMyA9IHNlbGYuX3BvcGVuKGNtZGxpbmUsIHN0ZGluPVBJUEUsIHN0ZG91dD1QSVBFLCBzdGRlcnI9UElQRSkKICAgICAgICBvdXRwdXQgPSBwMy5jb21tdW5pY2F0ZShpbnB1dD1tYW5fY29udGVudHMpWzBdCiAgICAgICAgcmV0dXJuIG91dHB1dAoKICAgIGRlZiBfc2VuZF9vdXRwdXRfdG9fcGFnZXIoc2VsZiwgb3V0cHV0KToKICAgICAgICBjbWRsaW5lID0gc2VsZi5nZXRfcGFnZXJfY21kbGluZSgpCiAgICAgICAgaWYgbm90IHNlbGYuX2V4aXN0c19vbl9wYXRoKGNtZGxpbmVbMF0pOgogICAgICAgICAgICBMT0cuZGVidWcoIlBhZ2VyICclcycgbm90IGZvdW5kIGluIFBBVEgsIHByaW50aW5nIHJhdyBoZWxwLiIgJQogICAgICAgICAgICAgICAgICAgICAgY21kbGluZVswXSkKICAgICAgICAgICAgc2VsZi5vdXRwdXRfc3RyZWFtLndyaXRlKG91dHB1dC5kZWNvZGUoJ3V0Zi04JykgKyAiXG4iKQogICAgICAgICAgICBzZWxmLm91dHB1dF9zdHJlYW0uZmx1c2goKQogICAgICAgICAgICByZXR1cm4KICAgICAgICBMT0cuZGVidWcoIlJ1bm5pbmcgY29tbWFuZDogJXMiLCBjbWRsaW5lKQogICAgICAgIHdpdGggaWdub3JlX2N0cmxfYygpOgogICAgICAgICAgICAjIFdlIGNhbid0IHJlbHkgb24gdGhlIEtleWJvYXJkSW50ZXJydXB0IGZyb20KICAgICAgICAgICAgIyB0aGUgQ0xJRHJpdmVyIGJlaW5nIGNhdWdodCBiZWNhdXNlIHdoZW4gd2UKICAgICAgICAgICAgIyBzZW5kIHRoZSBvdXRwdXQgdG8gYSBwYWdlciBpdCB3aWxsIHVzZSB2YXJpb3VzCiAgICAgICAgICAgICMgY29udHJvbCBjaGFyYWN0ZXJzIHRoYXQgbmVlZCB0byBiZSBjbGVhbmVkCiAgICAgICAgICAgICMgdXAgZ3JhY2VmdWxseS4gIE90aGVyd2lzZSBpZiB3ZSBzaW1wbHkgY2F0Y2gKICAgICAgICAgICAgIyB0aGUgQ3RybC1DIGFuZCBleGl0LCBpdCB3aWxsIGxpa2VseSBsZWF2ZSB0aGUKICAgICAgICAgICAgIyB1c2VycyB0ZXJtaW5hbHMgaW4gYSBiYWQgc3RhdGUgYW5kIHRoZXknbGwgbmVlZAogICAgICAgICAgICAjIHRvIG1hbnVhbGx5IHJ1biBgYHJlc2V0YGAgdG8gZml4IHRoaXMgaXNzdWUuCiAgICAgICAgICAgICMgSWdub3JpbmcgQ3RybC1DIHNvbHZlcyB0aGlzIGlzc3VlLiAgSXQncyBhbHNvCiAgICAgICAgICAgICMgdGhlIGRlZmF1bHQgYmVoYXZpb3Igb2YgbGVzcyAoeW91IGNhbid0IGN0cmwtYwogICAgICAgICAgICAjIG91dCBvZiBhIG1hbnBhZ2UpLgogICAgICAgICAgICBwID0gc2VsZi5fcG9wZW4oY21kbGluZSwgc3RkaW49UElQRSkKICAgICAgICAgICAgcC5jb21tdW5pY2F0ZShpbnB1dD1vdXRwdXQpCgogICAgZGVmIF9leGlzdHNfb25fcGF0aChzZWxmLCBuYW1lKToKICAgICAgICAjIFNpbmNlIHdlJ3JlIG9ubHkgZGVhbGluZyB3aXRoIFBPU0lYIHN5c3RlbXMsIHdlIGNhbgogICAgICAgICMgaWdub3JlIHRoaW5ncyBsaWtlIFBBVEhFWFQuCiAgICAgICAgcmV0dXJuIGFueShbb3MucGF0aC5leGlzdHMob3MucGF0aC5qb2luKHAsIG5hbWUpKQogICAgICAgICAgICAgICAgICAgIGZvciBwIGluIG9zLmVudmlyb24uZ2V0KCdQQVRIJywgJycpLnNwbGl0KG9zLnBhdGhzZXApXSkKCgpjbGFzcyBXaW5kb3dzSGVscFJlbmRlcmVyKFBhZ2luZ0hlbHBSZW5kZXJlcik6CiAgICAiIiJSZW5kZXIgaGVscCBjb250ZW50IG9uIGEgV2luZG93cyBwbGF0Zm9ybS4iIiIKCiAgICBQQUdFUiA9ICdtb3JlJwoKICAgIGRlZiBfY29udmVydF9kb2NfY29udGVudChzZWxmLCBjb250ZW50cyk6CiAgICAgICAgdGV4dF9vdXRwdXQgPSBwdWJsaXNoX3N0cmluZyhjb250ZW50cywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlcj1UZXh0V3JpdGVyKCkpCiAgICAgICAgcmV0dXJuIHRleHRfb3V0cHV0CgogICAgZGVmIF9wb3BlbihzZWxmLCAqYXJncywgKiprd2FyZ3MpOgogICAgICAgICMgQWxzbyBzZXQgdGhlIHNoZWxsIHZhbHVlIHRvIFRydWUuICBUbyBnZXQgYW55IG9mIHRoZQogICAgICAgICMgcGlwaW5nIHRvIGEgcGFnZXIgdG8gd29yaywgd2UgbmVlZCB0byB1c2Ugc2hlbGw9VHJ1ZS4KICAgICAgICBrd2FyZ3NbJ3NoZWxsJ10gPSBUcnVlCiAgICAgICAgcmV0dXJuIFBvcGVuKCphcmdzLCAqKmt3YXJncykKCgpjbGFzcyBIZWxwQ29tbWFuZChvYmplY3QpOgogICAgIiIiCiAgICBIZWxwQ29tbWFuZCBJbnRlcmZhY2UKICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgQSBIZWxwQ29tbWFuZCBvYmplY3QgYWN0cyBhcyB0aGUgaW50ZXJmYWNlIGJldHdlZW4gb2JqZWN0cyBpbiB0aGUKICAgIENMSSAoZS5nLiBQcm92aWRlcnMsIFNlcnZpY2VzLCBPcGVyYXRpb25zLCBldGMuKSBhbmQgdGhlIGRvY3VtZW50YXRpb24KICAgIHN5c3RlbSAoYmNkb2MpLgoKICAgIEEgSGVscENvbW1hbmQgb2JqZWN0IHdyYXBzIHRoZSBvYmplY3QgZnJvbSB0aGUgQ0xJIHNwYWNlIGFuZCBwcm92aWRlcwogICAgYSBjb25zaXN0ZW50IGludGVyZmFjZSB0byBjcml0aWNhbCBpbmZvcm1hdGlvbiBuZWVkZWQgYnkgdGhlCiAgICBkb2N1bWVudGF0aW9uIHBpcGVsaW5lIHN1Y2ggYXMgdGhlIG9iamVjdCdzIG5hbWUsIGRlc2NyaXB0aW9uLCBldGMuCgogICAgVGhlIEhlbHBDb21tYW5kIG9iamVjdCBpcyBwYXNzZWQgdG8gdGhlIGNvbXBvbmVudCBvZiB0aGUKICAgIGRvY3VtZW50YXRpb24gcGlwZWxpbmUgdGhhdCBmaXJlcyBkb2N1bWVudGF0aW9uIGV2ZW50cy4gIEl0IGlzCiAgICB0aGVuIHBhc3NlZCBvbiB0byBlYWNoIGRvY3VtZW50IGV2ZW50IGhhbmRsZXIgdGhhdCBoYXMgcmVnaXN0ZXJlZAogICAgZm9yIHRoZSBldmVudHMuCgogICAgQWxsIEhlbHBDb21tYW5kIG9iamVjdHMgY29udGFpbiB0aGUgZm9sbG93aW5nIGF0dHJpYnV0ZXM6CgogICAgICAgICsgYGBzZXNzaW9uYGAgLSBBIGBgYm90b2NvcmVgYCBgYFNlc3Npb25gYCBvYmplY3QuCiAgICAgICAgKyBgYG9iamBgIC0gVGhlIG9iamVjdCB0aGF0IGlzIGJlaW5nIGRvY3VtZW50ZWQuCiAgICAgICAgKyBgYGNvbW1hbmRfdGFibGVgYCAtIEEgZGljdCBtYXBwaW5nIGNvbW1hbmQgbmFtZXMgdG8KICAgICAgICAgICAgICBjYWxsYWJsZSBvYmplY3RzLgogICAgICAgICsgYGBhcmdfdGFibGVgYCAtIEEgZGljdCBtYXBwaW5nIGFyZ3VtZW50IG5hbWVzIHRvIGNhbGxhYmxlIG9iamVjdHMuCiAgICAgICAgKyBgYGRvY2BgIC0gQSBgYERvY3VtZW50YGAgb2JqZWN0IHRoYXQgaXMgdXNlZCB0byBjb2xsZWN0IHRoZQogICAgICAgICAgICAgIGdlbmVyYXRlZCBkb2N1bWVudGF0aW9uLgoKICAgIEluIGFkZGl0aW9uLCBwbGVhc2Ugbm90ZSB0aGUgYHByb3BlcnRpZXNgIGRlZmluZWQgYmVsb3cgd2hpY2ggYXJlCiAgICByZXF1aXJlZCB0byBhbGxvdyB0aGUgb2JqZWN0IHRvIGJlIHVzZWQgaW4gdGhlIGRvY3VtZW50IHBpcGVsaW5lLgoKICAgIEltcGxlbWVudGF0aW9ucyBvZiBIZWxwQ29tbWFuZCBhcmUgcHJvdmlkZWQgaGVyZSBmb3IgUHJvdmlkZXIsCiAgICBTZXJ2aWNlIGFuZCBPcGVyYXRpb24gb2JqZWN0cy4gIE90aGVyIGltcGxlbWVudGF0aW9ucyBmb3Igb3RoZXIKICAgIHR5cGVzIG9mIG9iamVjdHMgbWlnaHQgYmUgbmVlZGVkIGZvciBjdXN0b21pemF0aW9uIGluIHBsdWdpbnMuCiAgICBBcyBsb25nIGFzIHRoZSBpbXBsZW1lbnRhdGlvbnMgY29uZm9ybSB0byB0aGlzIGJhc2ljIGludGVyZmFjZQogICAgaXQgc2hvdWxkIGJlIHBvc3NpYmxlIHRvIHBhc3MgdGhlbSB0byB0aGUgZG9jdW1lbnRhdGlvbiBzeXN0ZW0KICAgIGFuZCBnZW5lcmF0ZSBpbnRlcmFjdGl2ZSBhbmQgc3RhdGljIGhlbHAgZmlsZXMuCiAgICAiIiIKCiAgICBFdmVudEhhbmRsZXJDbGFzcyA9IE5vbmUKICAgICIiIgogICAgRWFjaCBzdWJjbGFzcyBzaG91bGQgZGVmaW5lIHRoaXMgY2xhc3MgdmFyaWFibGUgdG8gcG9pbnQgdG8gdGhlCiAgICBFdmVudEhhbmRsZXIgY2xhc3MgdXNlZCBieSB0aGlzIEhlbHBDb21tYW5kLgogICAgIiIiCgogICAgZGVmIF9faW5pdF9fKHNlbGYsIHNlc3Npb24sIG9iaiwgY29tbWFuZF90YWJsZSwgYXJnX3RhYmxlKToKICAgICAgICBzZWxmLnNlc3Npb24gPSBzZXNzaW9uCiAgICAgICAgc2VsZi5vYmogPSBvYmoKICAgICAgICBpZiBjb21tYW5kX3RhYmxlIGlzIE5vbmU6CiAgICAgICAgICAgIGNvbW1hbmRfdGFibGUgPSB7fQogICAgICAgIHNlbGYuY29tbWFuZF90YWJsZSA9IGNvbW1hbmRfdGFibGUKICAgICAgICBpZiBhcmdfdGFibGUgaXMgTm9uZToKICAgICAgICAgICAgYXJnX3RhYmxlID0ge30KICAgICAgICBzZWxmLmFyZ190YWJsZSA9IGFyZ190YWJsZQogICAgICAgIHNlbGYuX3N1YmNvbW1hbmRfdGFibGUgPSB7fQogICAgICAgIHNlbGYuX3JlbGF0ZWRfaXRlbXMgPSBbXQogICAgICAgIHNlbGYucmVuZGVyZXIgPSBnZXRfcmVuZGVyZXIoKQogICAgICAgIHNlbGYuZG9jID0gUmVTVERvY3VtZW50KHRhcmdldD0nbWFuJykKCiAgICBAcHJvcGVydHkKICAgIGRlZiBldmVudF9jbGFzcyhzZWxmKToKICAgICAgICAiIiIKICAgICAgICBSZXR1cm4gdGhlIGBgZXZlbnRfY2xhc3NgYCBmb3IgdGhpcyBvYmplY3QuCgogICAgICAgIFRoZSBgYGV2ZW50X2NsYXNzYGAgaXMgdXNlZCBieSB0aGUgZG9jdW1lbnRhdGlvbiBwaXBlbGluZQogICAgICAgIHdoZW4gZ2VuZXJhdGluZyBkb2N1bWVudGF0aW9uIGV2ZW50cy4gIEZvciB0aGUgZXZlbnQgYmVsb3c6OgoKICAgICAgICAgICAgZG9jLXRpdGxlLjxldmVudF9jbGFzcz4uPG5hbWU+CgogICAgICAgIFRoZSBkb2N1bWVudCBwaXBlbGluZSB3b3VsZCB1c2UgdGhpcyBwcm9wZXJ0eSB0byBkZXRlcm1pbmUKICAgICAgICB0aGUgYGBldmVudF9jbGFzc2BgIHZhbHVlLgogICAgICAgICIiIgogICAgICAgIHBhc3MKCiAgICBAcHJvcGVydHkKICAgIGRlZiBuYW1lKHNlbGYpOgogICAgICAgICIiIgogICAgICAgIFJldHVybiB0aGUgbmFtZSBvZiB0aGUgd3JhcHBlZCBvYmplY3QuCgogICAgICAgIFRoaXMgd291bGQgYmUgY2FsbGVkIGJ5IHRoZSBkb2N1bWVudCBwaXBlbGluZSB0byBkZXRlcm1pbmUKICAgICAgICB0aGUgYGBuYW1lYGAgdG8gYmUgaW5zZXJ0ZWQgaW50byB0aGUgZXZlbnQsIGFzIHNob3duIGFib3ZlLgogICAgICAgICIiIgogICAgICAgIHBhc3MKCiAgICBAcHJvcGVydHkKICAgIGRlZiBzdWJjb21tYW5kX3RhYmxlKHNlbGYpOgogICAgICAgICIiIlRoZXNlIGFyZSB0aGUgY29tbWFuZHMgdGhhdCBtYXkgZm9sbG93IGFmdGVyIHRoZSBoZWxwIGNvbW1hbmQiIiIKICAgICAgICByZXR1cm4gc2VsZi5fc3ViY29tbWFuZF90YWJsZQoKICAgIEBwcm9wZXJ0eQogICAgZGVmIHJlbGF0ZWRfaXRlbXMoc2VsZik6CiAgICAgICAgIiIiVGhpcyBpcyBsaXN0IG9mIGl0ZW1zIHRoYXQgYXJlIHJlbGF0ZWQgdG8gdGhlIGhlbHAgY29tbWFuZCIiIgogICAgICAgIHJldHVybiBzZWxmLl9yZWxhdGVkX2l0ZW1zCgogICAgZGVmIF9fY2FsbF9fKHNlbGYsIGFyZ3MsIHBhcnNlZF9nbG9iYWxzKToKICAgICAgICBpZiBhcmdzOgogICAgICAgICAgICBzdWJjb21tYW5kX3BhcnNlciA9IEFyZ1RhYmxlQXJnUGFyc2VyKHt9LCBzZWxmLnN1YmNvbW1hbmRfdGFibGUpCiAgICAgICAgICAgIHBhcnNlZCwgcmVtYWluaW5nID0gc3ViY29tbWFuZF9wYXJzZXIucGFyc2Vfa25vd25fYXJncyhhcmdzKQogICAgICAgICAgICBpZiBnZXRhdHRyKHBhcnNlZCwgJ3N1YmNvbW1hbmQnLCBOb25lKSBpcyBub3QgTm9uZToKICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLnN1YmNvbW1hbmRfdGFibGVbcGFyc2VkLnN1YmNvbW1hbmRdKHJlbWFpbmluZywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlZF9nbG9iYWxzKQoKICAgICAgICAjIENyZWF0ZSBhbiBldmVudCBoYW5kbGVyIGZvciBhIFByb3ZpZGVyIERvY3VtZW50CiAgICAgICAgaW5zdGFuY2UgPSBzZWxmLkV2ZW50SGFuZGxlckNsYXNzKHNlbGYpCiAgICAgICAgIyBOb3cgZ2VuZXJhdGUgYWxsIG9mIHRoZSBldmVudHMgZm9yIGEgUHJvdmlkZXIgZG9jdW1lbnQuCiAgICAgICAgIyBXZSBwYXNzIG91cnNlbHZlcyBhbG9uZyBzbyB0aGF0IHdlIGNhbiwgaW4gdHVybiwgZ2V0IHBhc3NlZAogICAgICAgICMgdG8gYWxsIGV2ZW50IGhhbmRsZXJzLgogICAgICAgIGRvY2V2ZW50cy5nZW5lcmF0ZV9ldmVudHMoc2VsZi5zZXNzaW9uLCBzZWxmKQogICAgICAgIHNlbGYucmVuZGVyZXIucmVuZGVyKHNlbGYuZG9jLmdldHZhbHVlKCkpCiAgICAgICAgaW5zdGFuY2UudW5yZWdpc3RlcigpCgoKY2xhc3MgUHJvdmlkZXJIZWxwQ29tbWFuZChIZWxwQ29tbWFuZCk6CiAgICAiIiJJbXBsZW1lbnRzIHRvcCBsZXZlbCBoZWxwIGNvbW1hbmQuCgogICAgVGhpcyBpcyB3aGF0IGlzIGNhbGxlZCB3aGVuIGBgYXdzIGhlbHBgYCBpcyBydW4uCgogICAgIiIiCiAgICBFdmVudEhhbmRsZXJDbGFzcyA9IFByb3ZpZGVyRG9jdW1lbnRFdmVudEhhbmRsZXIKCiAgICBkZWYgX19pbml0X18oc2VsZiwgc2Vzc2lvbiwgY29tbWFuZF90YWJsZSwgYXJnX3RhYmxlLAogICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uLCBzeW5vcHNpcywgdXNhZ2UpOgogICAgICAgIEhlbHBDb21tYW5kLl9faW5pdF9fKHNlbGYsIHNlc3Npb24sIE5vbmUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tbWFuZF90YWJsZSwgYXJnX3RhYmxlKQogICAgICAgIHNlbGYuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbgogICAgICAgIHNlbGYuc3lub3BzaXMgPSBzeW5vcHNpcwogICAgICAgIHNlbGYuaGVscF91c2FnZSA9IHVzYWdlCiAgICAgICAgc2VsZi5fc3ViY29tbWFuZF90YWJsZSA9IE5vbmUKICAgICAgICBzZWxmLl90b3BpY190YWdfZGIgPSBOb25lCiAgICAgICAgc2VsZi5fcmVsYXRlZF9pdGVtcyA9IFsnYXdzIGhlbHAgdG9waWNzJ10KCiAgICBAcHJvcGVydHkKICAgIGRlZiBldmVudF9jbGFzcyhzZWxmKToKICAgICAgICByZXR1cm4gJ2F3cycKCiAgICBAcHJvcGVydHkKICAgIGRlZiBuYW1lKHNlbGYpOgogICAgICAgIHJldHVybiAnYXdzJwoKICAgIEBwcm9wZXJ0eQogICAgZGVmIHN1YmNvbW1hbmRfdGFibGUoc2VsZik6CiAgICAgICAgaWYgc2VsZi5fc3ViY29tbWFuZF90YWJsZSBpcyBOb25lOgogICAgICAgICAgICBpZiBzZWxmLl90b3BpY190YWdfZGIgaXMgTm9uZToKICAgICAgICAgICAgICAgIHNlbGYuX3RvcGljX3RhZ19kYiA9IFRvcGljVGFnREIoKQogICAgICAgICAgICBzZWxmLl90b3BpY190YWdfZGIubG9hZF9qc29uX2luZGV4KCkKICAgICAgICAgICAgc2VsZi5fc3ViY29tbWFuZF90YWJsZSA9IHNlbGYuX2NyZWF0ZV9zdWJjb21tYW5kX3RhYmxlKCkKICAgICAgICByZXR1cm4gc2VsZi5fc3ViY29tbWFuZF90YWJsZQoKICAgIGRlZiBfY3JlYXRlX3N1YmNvbW1hbmRfdGFibGUoc2VsZik6CiAgICAgICAgc3ViY29tbWFuZF90YWJsZSA9IHt9CiAgICAgICAgIyBBZGQgdGhlIGBgYXdzIGhlbHAgdG9waWNzYGAgY29tbWFuZCB0byB0aGUgYGB0b3BpY190YWJsZWBgCiAgICAgICAgdG9waWNfbGlzdGVyX2NvbW1hbmQgPSBUb3BpY0xpc3RlckNvbW1hbmQoc2VsZi5zZXNzaW9uKQogICAgICAgIHN1YmNvbW1hbmRfdGFibGVbJ3RvcGljcyddID0gdG9waWNfbGlzdGVyX2NvbW1hbmQKICAgICAgICB0b3BpY19uYW1lcyA9IHNlbGYuX3RvcGljX3RhZ19kYi5nZXRfYWxsX3RvcGljX25hbWVzKCkKCiAgICAgICAgIyBBZGQgYWxsIG9mIHRoZSBwb3NzaWJsZSB0b3BpY3MgdG8gdGhlIGBgdG9waWNfdGFibGVgYAogICAgICAgIGZvciB0b3BpY19uYW1lIGluIHRvcGljX25hbWVzOgogICAgICAgICAgICB0b3BpY19oZWxwX2NvbW1hbmQgPSBUb3BpY0hlbHBDb21tYW5kKHNlbGYuc2Vzc2lvbiwgdG9waWNfbmFtZSkKICAgICAgICAgICAgc3ViY29tbWFuZF90YWJsZVt0b3BpY19uYW1lXSA9IHRvcGljX2hlbHBfY29tbWFuZAogICAgICAgIHJldHVybiBzdWJjb21tYW5kX3RhYmxlCgoKY2xhc3MgU2VydmljZUhlbHBDb21tYW5kKEhlbHBDb21tYW5kKToKICAgICIiIkltcGxlbWVudHMgc2VydmljZSBsZXZlbCBoZWxwLgoKICAgIFRoaXMgaXMgdGhlIG9iamVjdCBpbnZva2VkIHdoZW5ldmVyIGEgc2VydmljZSBjb21tYW5kCiAgICBoZWxwIGlzIGltcGxlbWVudGVkLCBlLmcuIGBgYXdzIGVjMiBoZWxwYGAuCgogICAgIiIiCgogICAgRXZlbnRIYW5kbGVyQ2xhc3MgPSBTZXJ2aWNlRG9jdW1lbnRFdmVudEhhbmRsZXIKCiAgICBkZWYgX19pbml0X18oc2VsZiwgc2Vzc2lvbiwgb2JqLCBjb21tYW5kX3RhYmxlLCBhcmdfdGFibGUsIG5hbWUsCiAgICAgICAgICAgICAgICAgZXZlbnRfY2xhc3MpOgogICAgICAgIHN1cGVyKFNlcnZpY2VIZWxwQ29tbWFuZCwgc2VsZikuX19pbml0X18oc2Vzc2lvbiwgb2JqLCBjb21tYW5kX3RhYmxlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJnX3RhYmxlKQogICAgICAgIHNlbGYuX25hbWUgPSBuYW1lCiAgICAgICAgc2VsZi5fZXZlbnRfY2xhc3MgPSBldmVudF9jbGFzcwoKICAgIEBwcm9wZXJ0eQogICAgZGVmIGV2ZW50X2NsYXNzKHNlbGYpOgogICAgICAgIHJldHVybiBzZWxmLl9ldmVudF9jbGFzcwoKICAgIEBwcm9wZXJ0eQogICAgZGVmIG5hbWUoc2VsZik6CiAgICAgICAgcmV0dXJuIHNlbGYuX25hbWUKCgpjbGFzcyBPcGVyYXRpb25IZWxwQ29tbWFuZChIZWxwQ29tbWFuZCk6CiAgICAiIiJJbXBsZW1lbnRzIG9wZXJhdGlvbiBsZXZlbCBoZWxwLgoKICAgIFRoaXMgaXMgdGhlIG9iamVjdCBpbnZva2VkIHdoZW5ldmVyIGhlbHAgZm9yIGEgc2VydmljZSBpcyByZXF1ZXN0ZWQsCiAgICBlLmcuIGBgYXdzIGVjMiBkZXNjcmliZS1pbnN0YW5jZXMgaGVscGBgLgoKICAgICIiIgogICAgRXZlbnRIYW5kbGVyQ2xhc3MgPSBPcGVyYXRpb25Eb2N1bWVudEV2ZW50SGFuZGxlcgoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBzZXNzaW9uLCBvcGVyYXRpb25fbW9kZWwsIGFyZ190YWJsZSwgbmFtZSwKICAgICAgICAgICAgICAgICBldmVudF9jbGFzcyk6CiAgICAgICAgSGVscENvbW1hbmQuX19pbml0X18oc2VsZiwgc2Vzc2lvbiwgb3BlcmF0aW9uX21vZGVsLCBOb25lLCBhcmdfdGFibGUpCiAgICAgICAgc2VsZi5wYXJhbV9zaG9ydGhhbmQgPSBQYXJhbVNob3J0aGFuZFBhcnNlcigpCiAgICAgICAgc2VsZi5fbmFtZSA9IG5hbWUKICAgICAgICBzZWxmLl9ldmVudF9jbGFzcyA9IGV2ZW50X2NsYXNzCgogICAgQHByb3BlcnR5CiAgICBkZWYgZXZlbnRfY2xhc3Moc2VsZik6CiAgICAgICAgcmV0dXJuIHNlbGYuX2V2ZW50X2NsYXNzCgogICAgQHByb3BlcnR5CiAgICBkZWYgbmFtZShzZWxmKToKICAgICAgICByZXR1cm4gc2VsZi5fbmFtZQoKCmNsYXNzIFRvcGljTGlzdGVyQ29tbWFuZChIZWxwQ29tbWFuZCk6CiAgICBFdmVudEhhbmRsZXJDbGFzcyA9IFRvcGljTGlzdGVyRG9jdW1lbnRFdmVudEhhbmRsZXIKCiAgICBkZWYgX19pbml0X18oc2VsZiwgc2Vzc2lvbik6CiAgICAgICAgc3VwZXIoVG9waWNMaXN0ZXJDb21tYW5kLCBzZWxmKS5fX2luaXRfXyhzZXNzaW9uLCBOb25lLCB7fSwge30pCgogICAgQHByb3BlcnR5CiAgICBkZWYgZXZlbnRfY2xhc3Moc2VsZik6CiAgICAgICAgcmV0dXJuICd0b3BpY3MnCgogICAgQHByb3BlcnR5CiAgICBkZWYgbmFtZShzZWxmKToKICAgICAgICByZXR1cm4gJ3RvcGljcycKCgpjbGFzcyBUb3BpY0hlbHBDb21tYW5kKEhlbHBDb21tYW5kKToKICAgIEV2ZW50SGFuZGxlckNsYXNzID0gVG9waWNEb2N1bWVudEV2ZW50SGFuZGxlcgoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBzZXNzaW9uLCB0b3BpY19uYW1lKToKICAgICAgICBzdXBlcihUb3BpY0hlbHBDb21tYW5kLCBzZWxmKS5fX2luaXRfXyhzZXNzaW9uLCBOb25lLCB7fSwge30pCiAgICAgICAgc2VsZi5fdG9waWNfbmFtZSA9IHRvcGljX25hbWUKCiAgICBAcHJvcGVydHkKICAgIGRlZiBldmVudF9jbGFzcyhzZWxmKToKICAgICAgICByZXR1cm4gJ3RvcGljcy4nICsgc2VsZi5uYW1lCgogICAgQHByb3BlcnR5CiAgICBkZWYgbmFtZShzZWxmKToKICAgICAgICByZXR1cm4gc2VsZi5fdG9waWNfbmFtZQo=
