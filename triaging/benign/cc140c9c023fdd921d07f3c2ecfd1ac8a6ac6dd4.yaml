statistics:
  total_files: 1
  skipped_files: 0.0
  processed_objects: 1
  malicious_objects: 0
details:
- path: .repo_cache/malicious_repos/pypi_malregistry/awscl/1.27.67/awscl-1.27.67/awscl-1.27.67/awscli/bcdoc/style.py
  contents:
  - name: BaseStyle.indentation
    score: 0.0
    code: |-
      @property
          def indentation(self):
              return self._indent
    tokens: resume load_fast self load_attr _indent return_value
    hash: 97d1358d509dcd6d193683fda207415bcead5c60d8910d2b5e953b6164b54895
sources:
  .repo_cache/malicious_repos/pypi_malregistry/awscl/1.27.67/awscl-1.27.67/awscl-1.27.67/awscli/bcdoc/style.py: IyBDb3B5cmlnaHQgMjAxMi0yMDEzIEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuCiMKIyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKS4gWW91CiMgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIEEgY29weSBvZgojIHRoZSBMaWNlbnNlIGlzIGxvY2F0ZWQgYXQKIwojICAgICBodHRwOi8vYXdzLmFtYXpvbi5jb20vYXBhY2hlMi4wLwojCiMgb3IgaW4gdGhlICJsaWNlbnNlIiBmaWxlIGFjY29tcGFueWluZyB0aGlzIGZpbGUuIFRoaXMgZmlsZSBpcwojIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GCiMgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljCiMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCmltcG9ydCBsb2dnaW5nCgpsb2dnZXIgPSBsb2dnaW5nLmdldExvZ2dlcignYmNkb2NzJykKCgpjbGFzcyBCYXNlU3R5bGUob2JqZWN0KToKCiAgICBkZWYgX19pbml0X18oc2VsZiwgZG9jLCBpbmRlbnRfd2lkdGg9Mik6CiAgICAgICAgc2VsZi5kb2MgPSBkb2MKICAgICAgICBzZWxmLmluZGVudF93aWR0aCA9IGluZGVudF93aWR0aAogICAgICAgIHNlbGYuX2luZGVudCA9IDAKICAgICAgICBzZWxmLmtlZXBfZGF0YSA9IFRydWUKCiAgICBAcHJvcGVydHkKICAgIGRlZiBpbmRlbnRhdGlvbihzZWxmKToKICAgICAgICByZXR1cm4gc2VsZi5faW5kZW50CgogICAgQGluZGVudGF0aW9uLnNldHRlcgogICAgZGVmIGluZGVudGF0aW9uKHNlbGYsIHZhbHVlKToKICAgICAgICBzZWxmLl9pbmRlbnQgPSB2YWx1ZQoKICAgIGRlZiBuZXdfcGFyYWdyYXBoKHNlbGYpOgogICAgICAgIHJldHVybiAnXG4lcycgJSBzZWxmLnNwYWNlcygpCgogICAgZGVmIGluZGVudChzZWxmKToKICAgICAgICBzZWxmLl9pbmRlbnQgKz0gMQoKICAgIGRlZiBkZWRlbnQoc2VsZik6CiAgICAgICAgaWYgc2VsZi5faW5kZW50ID4gMDoKICAgICAgICAgICAgc2VsZi5faW5kZW50IC09IDEKCiAgICBkZWYgc3BhY2VzKHNlbGYpOgogICAgICAgIHJldHVybiAnICcgKiAoc2VsZi5faW5kZW50ICogc2VsZi5pbmRlbnRfd2lkdGgpCgogICAgZGVmIGJvbGQoc2VsZiwgcyk6CiAgICAgICAgcmV0dXJuIHMKCiAgICBkZWYgcmVmKHNlbGYsIGxpbmssIHRpdGxlPU5vbmUpOgogICAgICAgIHJldHVybiBsaW5rCgogICAgZGVmIGgyKHNlbGYsIHMpOgogICAgICAgIHJldHVybiBzCgogICAgZGVmIGgzKHNlbGYsIHMpOgogICAgICAgIHJldHVybiBzCgogICAgZGVmIHVuZGVybGluZShzZWxmLCBzKToKICAgICAgICByZXR1cm4gcwoKICAgIGRlZiBpdGFsaWNzKHNlbGYsIHMpOgogICAgICAgIHJldHVybiBzCgoKY2xhc3MgUmVTVFN0eWxlKEJhc2VTdHlsZSk6CgogICAgZGVmIF9faW5pdF9fKHNlbGYsIGRvYywgaW5kZW50X3dpZHRoPTIpOgogICAgICAgIEJhc2VTdHlsZS5fX2luaXRfXyhzZWxmLCBkb2MsIGluZGVudF93aWR0aCkKICAgICAgICBzZWxmLmRvX3AgPSBUcnVlCiAgICAgICAgc2VsZi5hX2hyZWYgPSBOb25lCiAgICAgICAgc2VsZi5saXN0X2RlcHRoID0gMAoKICAgIGRlZiBuZXdfcGFyYWdyYXBoKHNlbGYpOgogICAgICAgIHNlbGYuZG9jLndyaXRlKCdcblxuJXMnICUgc2VsZi5zcGFjZXMoKSkKCiAgICBkZWYgbmV3X2xpbmUoc2VsZik6CiAgICAgICAgc2VsZi5kb2Mud3JpdGUoJ1xuJXMnICUgc2VsZi5zcGFjZXMoKSkKCiAgICBkZWYgX3N0YXJ0X2lubGluZShzZWxmLCBtYXJrdXApOgogICAgICAgIHNlbGYuZG9jLndyaXRlKG1hcmt1cCkKCiAgICBkZWYgX2VuZF9pbmxpbmUoc2VsZiwgbWFya3VwKToKICAgICAgICAjIFNvbWV0aW1lcyB0aGUgSFRNTCBtYXJrdXAgaGFzIHdoaXRlc3BhY2UgYmV0d2VlbiB0aGUgZW5kCiAgICAgICAgIyBvZiB0aGUgdGV4dCBpbnNpZGUgdGhlIGlubGluZSBtYXJrdXAgYW5kIHRoZSBjbG9zaW5nIGVsZW1lbnQKICAgICAgICAjIChlLmcuIDxiPmZvb2JhciA8L2I+KS4gIFRoaXMgdHJhaWxpbmcgc3BhY2Ugd2lsbCBjYXVzZQogICAgICAgICMgcHJvYmxlbXMgaW4gdGhlIFJlU1QgaW5saW5lIG1hcmt1cCBzbyB3ZSByZW1vdmUgaXQgaGVyZQogICAgICAgICMgYnkgcG9wcGluZyB0aGUgbGFzdCBpdGVtIHdyaXR0ZW4gb2ZmIHRoZSBzdGFjaywgc3RyaXBpbmcKICAgICAgICAjIHRoZSB3aGl0ZXNwYWNlIGFuZCB0aGVuIHB1c2hpbmcgaXQgYmFjayBvbiB0aGUgc3RhY2suCiAgICAgICAgbGFzdF93cml0ZSA9IHNlbGYuZG9jLnBvcF93cml0ZSgpLnJzdHJpcCgnICcpCgogICAgICAgICMgU29tZXRpbWVzLCBmb3Igd2hhdGV2ZXIgcmVhc29uLCBhIHRhZyBsaWtlIDxiLz4gaXMgcHJlc2VudC4gVGhpcwogICAgICAgICMgaXMgcHJvYmxlbWF0aWMgYmVjYXVzZSBpZiB3ZSBzaW1wbHkgdHJhbnNsYXRlIHRoYXQgZGlyZWN0bHkgdGhlbgogICAgICAgICMgd2UgZW5kIHVwIHdpdGggc29tZXRoaW5nIGxpa2UgKioqKiwgd2hpY2ggcnN0IHdpbGwgYXNzdW1lIGlzIGEKICAgICAgICAjIGhlYWRpbmcgaW5zdGVhZCBvZiBhbiBlbXB0eSBib2xkLgogICAgICAgIGlmIGxhc3Rfd3JpdGUgPT0gbWFya3VwOgogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgc2VsZi5kb2MucHVzaF93cml0ZShsYXN0X3dyaXRlKQogICAgICAgIHNlbGYuZG9jLndyaXRlKG1hcmt1cCArICcgJykKCiAgICBkZWYgc3RhcnRfYm9sZChzZWxmLCBhdHRycz1Ob25lKToKICAgICAgICBzZWxmLl9zdGFydF9pbmxpbmUoJyoqJykKCiAgICBkZWYgZW5kX2JvbGQoc2VsZik6CiAgICAgICAgc2VsZi5fZW5kX2lubGluZSgnKionKQoKICAgIGRlZiBzdGFydF9iKHNlbGYsIGF0dHJzPU5vbmUpOgogICAgICAgIHNlbGYuZG9jLmRvX3RyYW5zbGF0aW9uID0gVHJ1ZQogICAgICAgIHNlbGYuc3RhcnRfYm9sZChhdHRycykKCiAgICBkZWYgZW5kX2Ioc2VsZik6CiAgICAgICAgc2VsZi5kb2MuZG9fdHJhbnNsYXRpb24gPSBGYWxzZQogICAgICAgIHNlbGYuZW5kX2JvbGQoKQoKICAgIGRlZiBib2xkKHNlbGYsIHMpOgogICAgICAgIGlmIHM6CiAgICAgICAgICAgIHNlbGYuc3RhcnRfYm9sZCgpCiAgICAgICAgICAgIHNlbGYuZG9jLndyaXRlKHMpCiAgICAgICAgICAgIHNlbGYuZW5kX2JvbGQoKQoKICAgIGRlZiByZWYoc2VsZiwgdGl0bGUsIGxpbms9Tm9uZSk6CiAgICAgICAgaWYgbGluayBpcyBOb25lOgogICAgICAgICAgICBsaW5rID0gdGl0bGUKICAgICAgICBzZWxmLmRvYy53cml0ZSgnOmRvYzpgJXMgPCVzPmAnICUgKHRpdGxlLCBsaW5rKSkKCiAgICBkZWYgX2hlYWRpbmcoc2VsZiwgcywgYm9yZGVyX2NoYXIpOgogICAgICAgIGJvcmRlciA9IGJvcmRlcl9jaGFyICogbGVuKHMpCiAgICAgICAgc2VsZi5uZXdfcGFyYWdyYXBoKCkKICAgICAgICBzZWxmLmRvYy53cml0ZSgnJXNcbiVzXG4lcycgJSAoYm9yZGVyLCBzLCBib3JkZXIpKQogICAgICAgIHNlbGYubmV3X3BhcmFncmFwaCgpCgogICAgZGVmIGgxKHNlbGYsIHMpOgogICAgICAgIHNlbGYuX2hlYWRpbmcocywgJyonKQoKICAgIGRlZiBoMihzZWxmLCBzKToKICAgICAgICBzZWxmLl9oZWFkaW5nKHMsICc9JykKCiAgICBkZWYgaDMoc2VsZiwgcyk6CiAgICAgICAgc2VsZi5faGVhZGluZyhzLCAnLScpCgogICAgZGVmIHN0YXJ0X2l0YWxpY3Moc2VsZiwgYXR0cnM9Tm9uZSk6CiAgICAgICAgc2VsZi5fc3RhcnRfaW5saW5lKCcqJykKCiAgICBkZWYgZW5kX2l0YWxpY3Moc2VsZik6CiAgICAgICAgc2VsZi5fZW5kX2lubGluZSgnKicpCgogICAgZGVmIGl0YWxpY3Moc2VsZiwgcyk6CiAgICAgICAgaWYgczoKICAgICAgICAgICAgc2VsZi5zdGFydF9pdGFsaWNzKCkKICAgICAgICAgICAgc2VsZi5kb2Mud3JpdGUocykKICAgICAgICAgICAgc2VsZi5lbmRfaXRhbGljcygpCgogICAgZGVmIHN0YXJ0X3Aoc2VsZiwgYXR0cnM9Tm9uZSk6CiAgICAgICAgaWYgc2VsZi5kb19wOgogICAgICAgICAgICBzZWxmLmRvYy53cml0ZSgnXG5cbiVzJyAlIHNlbGYuc3BhY2VzKCkpCgogICAgZGVmIGVuZF9wKHNlbGYpOgogICAgICAgIGlmIHNlbGYuZG9fcDoKICAgICAgICAgICAgc2VsZi5kb2Mud3JpdGUoJ1xuXG4lcycgJSBzZWxmLnNwYWNlcygpKQoKICAgIGRlZiBzdGFydF9jb2RlKHNlbGYsIGF0dHJzPU5vbmUpOgogICAgICAgIHNlbGYuZG9jLmRvX3RyYW5zbGF0aW9uID0gVHJ1ZQogICAgICAgIHNlbGYuX3N0YXJ0X2lubGluZSgnYGAnKQoKICAgIGRlZiBlbmRfY29kZShzZWxmKToKICAgICAgICBzZWxmLmRvYy5kb190cmFuc2xhdGlvbiA9IEZhbHNlCiAgICAgICAgc2VsZi5fZW5kX2lubGluZSgnYGAnKQoKICAgIGRlZiBjb2RlKHNlbGYsIHMpOgogICAgICAgIGlmIHM6CiAgICAgICAgICAgIHNlbGYuc3RhcnRfY29kZSgpCiAgICAgICAgICAgIHNlbGYuZG9jLndyaXRlKHMpCiAgICAgICAgICAgIHNlbGYuZW5kX2NvZGUoKQoKICAgIGRlZiBzdGFydF9ub3RlKHNlbGYsIGF0dHJzPU5vbmUpOgogICAgICAgIHNlbGYubmV3X3BhcmFncmFwaCgpCiAgICAgICAgc2VsZi5kb2Mud3JpdGUoJy4uIG5vdGU6OicpCiAgICAgICAgc2VsZi5pbmRlbnQoKQogICAgICAgIHNlbGYubmV3X3BhcmFncmFwaCgpCgogICAgZGVmIGVuZF9ub3RlKHNlbGYpOgogICAgICAgIHNlbGYuZGVkZW50KCkKICAgICAgICBzZWxmLm5ld19wYXJhZ3JhcGgoKQoKICAgIGRlZiBzdGFydF9pbXBvcnRhbnQoc2VsZiwgYXR0cnM9Tm9uZSk6CiAgICAgICAgc2VsZi5uZXdfcGFyYWdyYXBoKCkKICAgICAgICBzZWxmLmRvYy53cml0ZSgnLi4gd2FybmluZzo6JykKICAgICAgICBzZWxmLmluZGVudCgpCiAgICAgICAgc2VsZi5uZXdfcGFyYWdyYXBoKCkKCiAgICBkZWYgZW5kX2ltcG9ydGFudChzZWxmKToKICAgICAgICBzZWxmLmRlZGVudCgpCiAgICAgICAgc2VsZi5uZXdfcGFyYWdyYXBoKCkKCiAgICBkZWYgc3RhcnRfZGFuZ2VyKHNlbGYsIGF0dHJzPU5vbmUpOgogICAgICAgIHNlbGYubmV3X3BhcmFncmFwaCgpCiAgICAgICAgc2VsZi5kb2Mud3JpdGUoJy4uIGRhbmdlcjo6JykKICAgICAgICBzZWxmLmluZGVudCgpCiAgICAgICAgc2VsZi5uZXdfcGFyYWdyYXBoKCkKCiAgICBkZWYgZW5kX2RhbmdlcihzZWxmKToKICAgICAgICBzZWxmLmRlZGVudCgpCiAgICAgICAgc2VsZi5uZXdfcGFyYWdyYXBoKCkKCiAgICBkZWYgc3RhcnRfYShzZWxmLCBhdHRycz1Ob25lKToKICAgICAgICBpZiBhdHRyczoKICAgICAgICAgICAgZm9yIGF0dHJfa2V5LCBhdHRyX3ZhbHVlIGluIGF0dHJzOgogICAgICAgICAgICAgICAgaWYgYXR0cl9rZXkgPT0gJ2hyZWYnOgogICAgICAgICAgICAgICAgICAgIHNlbGYuYV9ocmVmID0gYXR0cl92YWx1ZQogICAgICAgICAgICAgICAgICAgIHNlbGYuZG9jLndyaXRlKCdgJykKICAgICAgICBlbHNlOgogICAgICAgICAgICAjIFRoZXJlIGFyZSBzb21lIG1vZGVsIGRvY3VtZW50YXRpb24gdGhhdAogICAgICAgICAgICAjIGxvb2tzIGxpa2UgdGhpczogPGE+RGVzY3JpYmVJbnN0YW5jZXM8L2E+LgogICAgICAgICAgICAjIEluIHRoaXMgY2FzZSB3ZSBqdXN0IHdyaXRlIG91dCBhbiBlbXB0eQogICAgICAgICAgICAjIHN0cmluZy4KICAgICAgICAgICAgc2VsZi5kb2Mud3JpdGUoJyAnKQogICAgICAgIHNlbGYuZG9jLmRvX3RyYW5zbGF0aW9uID0gVHJ1ZQoKICAgIGRlZiBsaW5rX3RhcmdldF9kZWZpbml0aW9uKHNlbGYsIHJlZm5hbWUsIGxpbmspOgogICAgICAgIHNlbGYuZG9jLndyaXRlbG4oJy4uIF8lczogJXMnICUgKHJlZm5hbWUsIGxpbmspKQoKICAgIGRlZiBzcGhpbnhfcmVmZXJlbmNlX2xhYmVsKHNlbGYsIGxhYmVsLCB0ZXh0PU5vbmUpOgogICAgICAgIGlmIHRleHQgaXMgTm9uZToKICAgICAgICAgICAgdGV4dCA9IGxhYmVsCiAgICAgICAgaWYgc2VsZi5kb2MudGFyZ2V0ID09ICdodG1sJzoKICAgICAgICAgICAgc2VsZi5kb2Mud3JpdGUoJzpyZWY6YCVzIDwlcz5gJyAlICh0ZXh0LCBsYWJlbCkpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgc2VsZi5kb2Mud3JpdGUodGV4dCkKCiAgICBkZWYgZW5kX2Eoc2VsZik6CiAgICAgICAgc2VsZi5kb2MuZG9fdHJhbnNsYXRpb24gPSBGYWxzZQogICAgICAgIGlmIHNlbGYuYV9ocmVmOgogICAgICAgICAgICBsYXN0X3dyaXRlID0gc2VsZi5kb2MucG9wX3dyaXRlKCkKICAgICAgICAgICAgbGFzdF93cml0ZSA9IGxhc3Rfd3JpdGUucnN0cmlwKCcgJykKICAgICAgICAgICAgaWYgbGFzdF93cml0ZSBhbmQgbGFzdF93cml0ZSAhPSAnYCc6CiAgICAgICAgICAgICAgICBpZiAnOicgaW4gbGFzdF93cml0ZToKICAgICAgICAgICAgICAgICAgICBsYXN0X3dyaXRlID0gbGFzdF93cml0ZS5yZXBsYWNlKCc6JywgcidcOicpCiAgICAgICAgICAgICAgICBzZWxmLmRvYy5wdXNoX3dyaXRlKGxhc3Rfd3JpdGUpCiAgICAgICAgICAgICAgICBzZWxmLmRvYy5wdXNoX3dyaXRlKCcgPCVzPmBfXycgJSBzZWxmLmFfaHJlZikKICAgICAgICAgICAgZWxpZiBsYXN0X3dyaXRlID09ICdgJzoKICAgICAgICAgICAgICAgICMgTG9vayBhdCBzdGFydF9hKCkuICBJdCB3aWxsIGRvIGEgc2VsZi5kb2Mud3JpdGUoJ2AnKQogICAgICAgICAgICAgICAgIyB3aGljaCBpcyB0aGUgc3RhcnQgb2YgdGhlIGxpbmsgdGl0bGUuICBJZiB0aGF0IGlzIHRoZQogICAgICAgICAgICAgICAgIyBjYXNlIHRoZW4gdGhlcmUgd2FzIG5vIGxpbmsgdGV4dC4gIFdlIHNob3VsZCBqdXN0CiAgICAgICAgICAgICAgICAjIHVzZSBhbiBpbmxpbmUgbGluay4gIFRoZSBzeW50YXggb2YgdGhpcyBpcwogICAgICAgICAgICAgICAgIyBgPGh0dHA6Ly91cmw+YF8KICAgICAgICAgICAgICAgIHNlbGYuZG9jLnB1c2hfd3JpdGUoJ2A8JXM+YF9fJyAlIHNlbGYuYV9ocmVmKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgc2VsZi5kb2MucHVzaF93cml0ZShzZWxmLmFfaHJlZikKICAgICAgICAgICAgICAgIHNlbGYuZG9jLmhyZWZzW3NlbGYuYV9ocmVmXSA9IHNlbGYuYV9ocmVmCiAgICAgICAgICAgICAgICBzZWxmLmRvYy53cml0ZSgnYF9fJykKICAgICAgICAgICAgc2VsZi5hX2hyZWYgPSBOb25lCiAgICAgICAgc2VsZi5kb2Mud3JpdGUoJyAnKQoKICAgIGRlZiBzdGFydF9pKHNlbGYsIGF0dHJzPU5vbmUpOgogICAgICAgIHNlbGYuZG9jLmRvX3RyYW5zbGF0aW9uID0gVHJ1ZQogICAgICAgIHNlbGYuc3RhcnRfaXRhbGljcygpCgogICAgZGVmIGVuZF9pKHNlbGYpOgogICAgICAgIHNlbGYuZG9jLmRvX3RyYW5zbGF0aW9uID0gRmFsc2UKICAgICAgICBzZWxmLmVuZF9pdGFsaWNzKCkKCiAgICBkZWYgc3RhcnRfbGkoc2VsZiwgYXR0cnM9Tm9uZSk6CiAgICAgICAgc2VsZi5uZXdfbGluZSgpCiAgICAgICAgc2VsZi5kb19wID0gRmFsc2UKICAgICAgICBzZWxmLmRvYy53cml0ZSgnKiAnKQoKICAgIGRlZiBlbmRfbGkoc2VsZik6CiAgICAgICAgc2VsZi5kb19wID0gVHJ1ZQogICAgICAgIHNlbGYubmV3X2xpbmUoKQoKICAgIGRlZiBsaShzZWxmLCBzKToKICAgICAgICBpZiBzOgogICAgICAgICAgICBzZWxmLnN0YXJ0X2xpKCkKICAgICAgICAgICAgc2VsZi5kb2Mud3JpdGVsbihzKQogICAgICAgICAgICBzZWxmLmVuZF9saSgpCgogICAgZGVmIHN0YXJ0X3VsKHNlbGYsIGF0dHJzPU5vbmUpOgogICAgICAgIGlmIHNlbGYubGlzdF9kZXB0aCAhPSAwOgogICAgICAgICAgICBzZWxmLmluZGVudCgpCiAgICAgICAgc2VsZi5saXN0X2RlcHRoICs9IDEKICAgICAgICBzZWxmLm5ld19wYXJhZ3JhcGgoKQoKICAgIGRlZiBlbmRfdWwoc2VsZik6CiAgICAgICAgc2VsZi5saXN0X2RlcHRoIC09IDEKICAgICAgICBpZiBzZWxmLmxpc3RfZGVwdGggIT0gMDoKICAgICAgICAgICAgc2VsZi5kZWRlbnQoKQogICAgICAgIHNlbGYubmV3X3BhcmFncmFwaCgpCgogICAgZGVmIHN0YXJ0X29sKHNlbGYsIGF0dHJzPU5vbmUpOgogICAgICAgICMgVE9ETzogTmVlZCB0byBjb250cm9sIHRoZSBidWxsZXRzIHVzZWQgZm9yIExJIGl0ZW1zCiAgICAgICAgaWYgc2VsZi5saXN0X2RlcHRoICE9IDA6CiAgICAgICAgICAgIHNlbGYuaW5kZW50KCkKICAgICAgICBzZWxmLmxpc3RfZGVwdGggKz0gMQogICAgICAgIHNlbGYubmV3X3BhcmFncmFwaCgpCgogICAgZGVmIGVuZF9vbChzZWxmKToKICAgICAgICBzZWxmLmxpc3RfZGVwdGggLT0gMQogICAgICAgIGlmIHNlbGYubGlzdF9kZXB0aCAhPSAwOgogICAgICAgICAgICBzZWxmLmRlZGVudCgpCiAgICAgICAgc2VsZi5uZXdfcGFyYWdyYXBoKCkKCiAgICBkZWYgc3RhcnRfZXhhbXBsZXMoc2VsZiwgYXR0cnM9Tm9uZSk6CiAgICAgICAgc2VsZi5kb2Mua2VlcF9kYXRhID0gRmFsc2UKCiAgICBkZWYgZW5kX2V4YW1wbGVzKHNlbGYpOgogICAgICAgIHNlbGYuZG9jLmtlZXBfZGF0YSA9IFRydWUKCiAgICBkZWYgc3RhcnRfZnVsbG5hbWUoc2VsZiwgYXR0cnM9Tm9uZSk6CiAgICAgICAgc2VsZi5kb2Mua2VlcF9kYXRhID0gRmFsc2UKCiAgICBkZWYgZW5kX2Z1bGxuYW1lKHNlbGYpOgogICAgICAgIHNlbGYuZG9jLmtlZXBfZGF0YSA9IFRydWUKCiAgICBkZWYgc3RhcnRfY29kZWJsb2NrKHNlbGYsIGF0dHJzPU5vbmUpOgogICAgICAgIHNlbGYuZG9jLndyaXRlKCc6OicpCiAgICAgICAgc2VsZi5pbmRlbnQoKQogICAgICAgIHNlbGYubmV3X3BhcmFncmFwaCgpCgogICAgZGVmIGVuZF9jb2RlYmxvY2soc2VsZik6CiAgICAgICAgc2VsZi5kZWRlbnQoKQogICAgICAgIHNlbGYubmV3X3BhcmFncmFwaCgpCgogICAgZGVmIGNvZGVibG9jayhzZWxmLCBjb2RlKToKICAgICAgICAiIiIKICAgICAgICBMaXRlcmFsIGNvZGUgYmxvY2tzIGFyZSBpbnRyb2R1Y2VkIGJ5IGVuZGluZyBhIHBhcmFncmFwaCB3aXRoCiAgICAgICAgdGhlIHNwZWNpYWwgbWFya2VyIDo6LiAgVGhlIGxpdGVyYWwgYmxvY2sgbXVzdCBiZSBpbmRlbnRlZAogICAgICAgIChhbmQsIGxpa2UgYWxsIHBhcmFncmFwaHMsIHNlcGFyYXRlZCBmcm9tIHRoZSBzdXJyb3VuZGluZwogICAgICAgIG9uZXMgYnkgYmxhbmsgbGluZXMpLgogICAgICAgICIiIgogICAgICAgIHNlbGYuc3RhcnRfY29kZWJsb2NrKCkKICAgICAgICBzZWxmLmRvYy53cml0ZWxuKGNvZGUpCiAgICAgICAgc2VsZi5lbmRfY29kZWJsb2NrKCkKCiAgICBkZWYgdG9jdHJlZShzZWxmKToKICAgICAgICBpZiBzZWxmLmRvYy50YXJnZXQgPT0gJ2h0bWwnOgogICAgICAgICAgICBzZWxmLmRvYy53cml0ZSgnXG4uLiB0b2N0cmVlOjpcbicpCiAgICAgICAgICAgIHNlbGYuZG9jLndyaXRlKCcgIDptYXhkZXB0aDogMVxuJykKICAgICAgICAgICAgc2VsZi5kb2Mud3JpdGUoJyAgOnRpdGxlc29ubHk6XG5cbicpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgc2VsZi5zdGFydF91bCgpCgogICAgZGVmIHRvY2l0ZW0oc2VsZiwgaXRlbSwgZmlsZV9uYW1lPU5vbmUpOgogICAgICAgIGlmIHNlbGYuZG9jLnRhcmdldCA9PSAnbWFuJzoKICAgICAgICAgICAgc2VsZi5saShpdGVtKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGlmIGZpbGVfbmFtZToKICAgICAgICAgICAgICAgIHNlbGYuZG9jLndyaXRlbG4oJyAgJXMnICUgZmlsZV9uYW1lKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgc2VsZi5kb2Mud3JpdGVsbignICAlcycgJSBpdGVtKQoKICAgIGRlZiBoaWRkZW5fdG9jdHJlZShzZWxmKToKICAgICAgICBpZiBzZWxmLmRvYy50YXJnZXQgPT0gJ2h0bWwnOgogICAgICAgICAgICBzZWxmLmRvYy53cml0ZSgnXG4uLiB0b2N0cmVlOjpcbicpCiAgICAgICAgICAgIHNlbGYuZG9jLndyaXRlKCcgIDptYXhkZXB0aDogMVxuJykKICAgICAgICAgICAgc2VsZi5kb2Mud3JpdGUoJyAgOmhpZGRlbjpcblxuJykKCiAgICBkZWYgaGlkZGVuX3RvY2l0ZW0oc2VsZiwgaXRlbSk6CiAgICAgICAgaWYgc2VsZi5kb2MudGFyZ2V0ID09ICdodG1sJzoKICAgICAgICAgICAgc2VsZi50b2NpdGVtKGl0ZW0pCgogICAgZGVmIHRhYmxlX29mX2NvbnRlbnRzKHNlbGYsIHRpdGxlPU5vbmUsIGRlcHRoPU5vbmUpOgogICAgICAgIHNlbGYuZG9jLndyaXRlKCcuLiBjb250ZW50czo6ICcpCiAgICAgICAgaWYgdGl0bGUgaXMgbm90IE5vbmU6CiAgICAgICAgICAgIHNlbGYuZG9jLndyaXRlbG4odGl0bGUpCiAgICAgICAgaWYgZGVwdGggaXMgbm90IE5vbmU6CiAgICAgICAgICAgIHNlbGYuZG9jLndyaXRlbG4oJyAgIDpkZXB0aDogJXMnICUgZGVwdGgpCgogICAgZGVmIHN0YXJ0X3NwaGlueF9weV9jbGFzcyhzZWxmLCBjbGFzc19uYW1lKToKICAgICAgICBzZWxmLm5ld19wYXJhZ3JhcGgoKQogICAgICAgIHNlbGYuZG9jLndyaXRlKCcuLiBweTpjbGFzczo6ICVzJyAlIGNsYXNzX25hbWUpCiAgICAgICAgc2VsZi5pbmRlbnQoKQogICAgICAgIHNlbGYubmV3X3BhcmFncmFwaCgpCgogICAgZGVmIGVuZF9zcGhpbnhfcHlfY2xhc3Moc2VsZik6CiAgICAgICAgc2VsZi5kZWRlbnQoKQogICAgICAgIHNlbGYubmV3X3BhcmFncmFwaCgpCgogICAgZGVmIHN0YXJ0X3NwaGlueF9weV9tZXRob2Qoc2VsZiwgbWV0aG9kX25hbWUsIHBhcmFtZXRlcnM9Tm9uZSk6CiAgICAgICAgc2VsZi5uZXdfcGFyYWdyYXBoKCkKICAgICAgICBjb250ZW50ID0gJy4uIHB5Om1ldGhvZDo6ICVzJyAlIG1ldGhvZF9uYW1lCiAgICAgICAgaWYgcGFyYW1ldGVycyBpcyBub3QgTm9uZToKICAgICAgICAgICAgY29udGVudCArPSAnKCVzKScgJSBwYXJhbWV0ZXJzCiAgICAgICAgc2VsZi5kb2Mud3JpdGUoY29udGVudCkKICAgICAgICBzZWxmLmluZGVudCgpCiAgICAgICAgc2VsZi5uZXdfcGFyYWdyYXBoKCkKCiAgICBkZWYgZW5kX3NwaGlueF9weV9tZXRob2Qoc2VsZik6CiAgICAgICAgc2VsZi5kZWRlbnQoKQogICAgICAgIHNlbGYubmV3X3BhcmFncmFwaCgpCgogICAgZGVmIHN0YXJ0X3NwaGlueF9weV9hdHRyKHNlbGYsIGF0dHJfbmFtZSk6CiAgICAgICAgc2VsZi5uZXdfcGFyYWdyYXBoKCkKICAgICAgICBzZWxmLmRvYy53cml0ZSgnLi4gcHk6YXR0cmlidXRlOjogJXMnICUgYXR0cl9uYW1lKQogICAgICAgIHNlbGYuaW5kZW50KCkKICAgICAgICBzZWxmLm5ld19wYXJhZ3JhcGgoKQoKICAgIGRlZiBlbmRfc3BoaW54X3B5X2F0dHIoc2VsZik6CiAgICAgICAgc2VsZi5kZWRlbnQoKQogICAgICAgIHNlbGYubmV3X3BhcmFncmFwaCgpCgogICAgZGVmIHdyaXRlX3B5X2RvY19zdHJpbmcoc2VsZiwgZG9jc3RyaW5nKToKICAgICAgICBkb2NzdHJpbmdfbGluZXMgPSBkb2NzdHJpbmcuc3BsaXRsaW5lcygpCiAgICAgICAgZm9yIGRvY3N0cmluZ19saW5lIGluIGRvY3N0cmluZ19saW5lczoKICAgICAgICAgICAgc2VsZi5kb2Mud3JpdGVsbihkb2NzdHJpbmdfbGluZSkKCiAgICBkZWYgZXh0ZXJuYWxfbGluayhzZWxmLCB0aXRsZSwgbGluayk6CiAgICAgICAgaWYgc2VsZi5kb2MudGFyZ2V0ID09ICdodG1sJzoKICAgICAgICAgICAgc2VsZi5kb2Mud3JpdGUoJ2AlcyA8JXM+YF8nICUgKHRpdGxlLCBsaW5rKSkKICAgICAgICBlbHNlOgogICAgICAgICAgICBzZWxmLmRvYy53cml0ZSh0aXRsZSkKCiAgICBkZWYgaW50ZXJuYWxfbGluayhzZWxmLCB0aXRsZSwgcGFnZSk6CiAgICAgICAgaWYgc2VsZi5kb2MudGFyZ2V0ID09ICdodG1sJzoKICAgICAgICAgICAgc2VsZi5kb2Mud3JpdGUoJzpkb2M6YCVzIDwlcz5gJyAlICh0aXRsZSwgcGFnZSkpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgc2VsZi5kb2Mud3JpdGUodGl0bGUpCg==
