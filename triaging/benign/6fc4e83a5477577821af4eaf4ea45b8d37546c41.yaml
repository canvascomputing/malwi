statistics:
  total_files: 1
  skipped_files: 0.0
  processed_objects: 1
  malicious_objects: 0
details:
- path: .repo_cache/malicious_repos/pypi_malregistry/awscl/1.27.67/awscl-1.27.67/awscl-1.27.67/awscli/customizations/paginate.py
  contents:
  - name: _get_all_cli_input_tokens
    score: 0.0
    code: |-
      def _get_all_cli_input_tokens(pagination_config):
          # Get all input tokens including the limit_key
          # if it exists.
          tokens = _get_input_tokens(pagination_config)
          for token_name in tokens:
              cli_name = xform_name(token_name, '-')
              yield cli_name
          if 'limit_key' in pagination_config:
              key_name = pagination_config['limit_key']
              cli_name = xform_name(key_name, '-')
              yield cli_name
    tokens: return_generator pop_top resume load_global STRING_LEN_S_ENT_HIGH load_fast STRING_LEN_S_ENT_HIGH call store_fast tokens load_fast tokens get_iter for_iter TO_NUMBER store_fast token_name load_global xform_name load_fast token_name load_const - call store_fast cli_name load_fast cli_name yield_value resume pop_top jump_backward TO_NUMBER end_for load_const limit_key load_fast STRING_LEN_S_ENT_HIGH contains_op pop_jump_if_false TO_NUMBER load_fast STRING_LEN_S_ENT_HIGH load_const limit_key binary_subscr store_fast key_name load_global xform_name load_fast key_name load_const - call store_fast cli_name load_fast cli_name yield_value resume pop_top return_const None return_const None call_intrinsic_1 INTRINSIC_STOPITERATION_ERROR reraise
    hash: 64ed61f59724579940b69e1245010fbc1b8bde7fef14235f0f491256ba896184
sources:
  .repo_cache/malicious_repos/pypi_malregistry/awscl/1.27.67/awscl-1.27.67/awscl-1.27.67/awscli/customizations/paginate.py: IyBDb3B5cmlnaHQgMjAxMyBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLgojCiMgTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIikuIFlvdQojIG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBBIGNvcHkgb2YKIyB0aGUgTGljZW5zZSBpcyBsb2NhdGVkIGF0CiMKIyAgICAgaHR0cDovL2F3cy5hbWF6b24uY29tL2FwYWNoZTIuMC8KIwojIG9yIGluIHRoZSAibGljZW5zZSIgZmlsZSBhY2NvbXBhbnlpbmcgdGhpcyBmaWxlLiBUaGlzIGZpbGUgaXMKIyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRgojIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYwojIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiIiIlRoaXMgbW9kdWxlIGhhcyBjdXN0b21pemF0aW9ucyB0byB1bmlmeSBwYWdpbmcgcGFyYW1ldGVycy4KCkZvciBhbnkgb3BlcmF0aW9uIHRoYXQgY2FuIGJlIHBhZ2luYXRlZCwgd2Ugd2lsbDoKCiAgICAqIEhpZGUgdGhlIHNlcnZpY2Ugc3BlY2lmaWMgcGFnaW5hdGlvbiBwYXJhbXMuICBUaGlzIGNhbiB2YXJ5IGFjcm9zcwogICAgc2VydmljZXMgYW5kIHdlJ3JlIGdvaW5nIHRvIHJlcGxhY2UgdGhlbSB3aXRoIGEgY29uc2lzdGVudCBzZXQgb2YKICAgIGFyZ3VtZW50cy4gIFRoZSBhcmd1bWVudHMgd2lsbCBzdGlsbCB3b3JrLCBidXQgdGhleSBhcmUgbm90CiAgICBkb2N1bWVudGVkLiAgVGhpcyBhbGxvd3MgdXMgdG8gYWRkIGEgcGFnaW5hdGlvbiBjb25maWcgYWZ0ZXIKICAgIHRoZSBmYWN0IGFuZCBzdGlsbCByZW1haW4gYmFja3dhcmRzIGNvbXBhdGlibGUgd2l0aCB1c2VycyB0aGF0CiAgICB3ZXJlIG1hbnVhbGx5IGRvaW5nIHBhZ2luYXRpb24uCiAgICAqIEFkZCBhIGBgLS1zdGFydGluZy10b2tlbmBgIGFuZCBhIGBgLS1tYXgtaXRlbXNgYCBhcmd1bWVudC4KCiIiIgppbXBvcnQgbG9nZ2luZwpmcm9tIGZ1bmN0b29scyBpbXBvcnQgcGFydGlhbAoKZnJvbSBib3RvY29yZSBpbXBvcnQgeGZvcm1fbmFtZQpmcm9tIGJvdG9jb3JlLmV4Y2VwdGlvbnMgaW1wb3J0IERhdGFOb3RGb3VuZEVycm9yLCBQYWdpbmF0aW9uRXJyb3IKZnJvbSBib3RvY29yZSBpbXBvcnQgbW9kZWwKCmZyb20gYXdzY2xpLmFyZ3VtZW50cyBpbXBvcnQgQmFzZUNMSUFyZ3VtZW50CgoKbG9nZ2VyID0gbG9nZ2luZy5nZXRMb2dnZXIoX19uYW1lX18pCgoKU1RBUlRJTkdfVE9LRU5fSEVMUCA9ICIiIgo8cD5BIHRva2VuIHRvIHNwZWNpZnkgd2hlcmUgdG8gc3RhcnQgcGFnaW5hdGluZy4gIFRoaXMgaXMgdGhlCjxjb2RlPk5leHRUb2tlbjwvY29kZT4gZnJvbSBhIHByZXZpb3VzbHkgdHJ1bmNhdGVkIHJlc3BvbnNlLjwvcD4KPHA+Rm9yIHVzYWdlIGV4YW1wbGVzLCBzZWUgPGEKaHJlZj0iaHR0cHM6Ly9kb2NzLmF3cy5hbWF6b24uY29tL2NsaS9sYXRlc3QvdXNlcmd1aWRlL3BhZ2luYXRpb24uaHRtbCIKPlBhZ2luYXRpb248L2E+IGluIHRoZSA8aT5BV1MgQ29tbWFuZCBMaW5lIEludGVyZmFjZSBVc2VyCkd1aWRlPC9pPi48L3A+CiIiIgoKTUFYX0lURU1TX0hFTFAgPSAiIiIKPHA+VGhlIHRvdGFsIG51bWJlciBvZiBpdGVtcyB0byByZXR1cm4gaW4gdGhlIGNvbW1hbmQncyBvdXRwdXQuCklmIHRoZSB0b3RhbCBudW1iZXIgb2YgaXRlbXMgYXZhaWxhYmxlIGlzIG1vcmUgdGhhbiB0aGUgdmFsdWUKc3BlY2lmaWVkLCBhIDxjb2RlPk5leHRUb2tlbjwvY29kZT4gaXMgcHJvdmlkZWQgaW4gdGhlIGNvbW1hbmQncwpvdXRwdXQuICBUbyByZXN1bWUgcGFnaW5hdGlvbiwgcHJvdmlkZSB0aGUKPGNvZGU+TmV4dFRva2VuPC9jb2RlPiB2YWx1ZSBpbiB0aGUgPGNvZGU+c3RhcnRpbmctdG9rZW48L2NvZGU+CmFyZ3VtZW50IG9mIGEgc3Vic2VxdWVudCBjb21tYW5kLiAgPGI+RG8gbm90PC9iPiB1c2UgdGhlCjxjb2RlPk5leHRUb2tlbjwvY29kZT4gcmVzcG9uc2UgZWxlbWVudCBkaXJlY3RseSBvdXRzaWRlIG9mIHRoZQpBV1MgQ0xJLjwvcD4KPHA+Rm9yIHVzYWdlIGV4YW1wbGVzLCBzZWUgPGEKaHJlZj0iaHR0cHM6Ly9kb2NzLmF3cy5hbWF6b24uY29tL2NsaS9sYXRlc3QvdXNlcmd1aWRlL3BhZ2luYXRpb24uaHRtbCIKPlBhZ2luYXRpb248L2E+IGluIHRoZSA8aT5BV1MgQ29tbWFuZCBMaW5lIEludGVyZmFjZSBVc2VyCkd1aWRlPC9pPi48L3A+CiIiIgoKUEFHRV9TSVpFX0hFTFAgPSAiIiIKPHA+VGhlIHNpemUgb2YgZWFjaCBwYWdlIHRvIGdldCBpbiB0aGUgQVdTIHNlcnZpY2UgY2FsbC4gIFRoaXMKZG9lcyBub3QgYWZmZWN0IHRoZSBudW1iZXIgb2YgaXRlbXMgcmV0dXJuZWQgaW4gdGhlIGNvbW1hbmQncwpvdXRwdXQuICBTZXR0aW5nIGEgc21hbGxlciBwYWdlIHNpemUgcmVzdWx0cyBpbiBtb3JlIGNhbGxzIHRvCnRoZSBBV1Mgc2VydmljZSwgcmV0cmlldmluZyBmZXdlciBpdGVtcyBpbiBlYWNoIGNhbGwuICBUaGlzIGNhbgpoZWxwIHByZXZlbnQgdGhlIEFXUyBzZXJ2aWNlIGNhbGxzIGZyb20gdGltaW5nIG91dC48L3A+CjxwPkZvciB1c2FnZSBleGFtcGxlcywgc2VlIDxhCmhyZWY9Imh0dHBzOi8vZG9jcy5hd3MuYW1hem9uLmNvbS9jbGkvbGF0ZXN0L3VzZXJndWlkZS9wYWdpbmF0aW9uLmh0bWwiCj5QYWdpbmF0aW9uPC9hPiBpbiB0aGUgPGk+QVdTIENvbW1hbmQgTGluZSBJbnRlcmZhY2UgVXNlcgpHdWlkZTwvaT4uPC9wPgoiIiIKCgpkZWYgcmVnaXN0ZXJfcGFnaW5hdGlvbihldmVudF9oYW5kbGVycyk6CiAgICBldmVudF9oYW5kbGVycy5yZWdpc3RlcignYnVpbGRpbmctYXJndW1lbnQtdGFibGUnLCB1bmlmeV9wYWdpbmdfcGFyYW1zKQogICAgZXZlbnRfaGFuZGxlcnMucmVnaXN0ZXJfbGFzdCgnZG9jLWRlc2NyaXB0aW9uJywgYWRkX3BhZ2luZ19kZXNjcmlwdGlvbikKCgpkZWYgZ2V0X3BhZ2luYXRvcl9jb25maWcoc2Vzc2lvbiwgc2VydmljZV9uYW1lLCBvcGVyYXRpb25fbmFtZSk6CiAgICB0cnk6CiAgICAgICAgcGFnaW5hdG9yX21vZGVsID0gc2Vzc2lvbi5nZXRfcGFnaW5hdG9yX21vZGVsKHNlcnZpY2VfbmFtZSkKICAgIGV4Y2VwdCBEYXRhTm90Rm91bmRFcnJvcjoKICAgICAgICByZXR1cm4gTm9uZQogICAgdHJ5OgogICAgICAgIG9wZXJhdGlvbl9wYWdpbmF0b3JfY29uZmlnID0gcGFnaW5hdG9yX21vZGVsLmdldF9wYWdpbmF0b3IoCiAgICAgICAgICAgIG9wZXJhdGlvbl9uYW1lKQogICAgZXhjZXB0IFZhbHVlRXJyb3I6CiAgICAgICAgcmV0dXJuIE5vbmUKICAgIHJldHVybiBvcGVyYXRpb25fcGFnaW5hdG9yX2NvbmZpZwoKCmRlZiBhZGRfcGFnaW5nX2Rlc2NyaXB0aW9uKGhlbHBfY29tbWFuZCwgKiprd2FyZ3MpOgogICAgIyBUaGlzIGN1c3RvbWl6YXRpb24gaXMgb25seSBhcHBsaWVkIHRvIHRoZSBkZXNjcmlwdGlvbiBvZgogICAgIyBPcGVyYXRpb25zLCBzbyB3ZSBtdXN0IGZpbHRlciBvdXQgYWxsIG90aGVyIGV2ZW50cy4KICAgIGlmIG5vdCBpc2luc3RhbmNlKGhlbHBfY29tbWFuZC5vYmosIG1vZGVsLk9wZXJhdGlvbk1vZGVsKToKICAgICAgICByZXR1cm4KICAgIHNlcnZpY2VfbmFtZSA9IGhlbHBfY29tbWFuZC5vYmouc2VydmljZV9tb2RlbC5zZXJ2aWNlX25hbWUKICAgIHBhZ2luYXRvcl9jb25maWcgPSBnZXRfcGFnaW5hdG9yX2NvbmZpZygKICAgICAgICBoZWxwX2NvbW1hbmQuc2Vzc2lvbiwgc2VydmljZV9uYW1lLCBoZWxwX2NvbW1hbmQub2JqLm5hbWUpCiAgICBpZiBub3QgcGFnaW5hdG9yX2NvbmZpZzoKICAgICAgICByZXR1cm4KICAgIGhlbHBfY29tbWFuZC5kb2Muc3R5bGUubmV3X3BhcmFncmFwaCgpCiAgICBoZWxwX2NvbW1hbmQuZG9jLndyaXRlbG4oCiAgICAgICAgKCdgYCVzYGAgaXMgYSBwYWdpbmF0ZWQgb3BlcmF0aW9uLiBNdWx0aXBsZSBBUEkgY2FsbHMgbWF5IGJlIGlzc3VlZCAnCiAgICAgICAgICdpbiBvcmRlciB0byByZXRyaWV2ZSB0aGUgZW50aXJlIGRhdGEgc2V0IG9mIHJlc3VsdHMuIFlvdSBjYW4gJwogICAgICAgICAnZGlzYWJsZSBwYWdpbmF0aW9uIGJ5IHByb3ZpZGluZyB0aGUgYGAtLW5vLXBhZ2luYXRlYGAgYXJndW1lbnQuJykKICAgICAgICAlIGhlbHBfY29tbWFuZC5uYW1lKQogICAgIyBPbmx5IGluY2x1ZGUgcmVzdWx0IGtleSBpbmZvcm1hdGlvbiBpZiBpdCBpcyBwcmVzZW50LgogICAgaWYgcGFnaW5hdG9yX2NvbmZpZy5nZXQoJ3Jlc3VsdF9rZXknKToKICAgICAgICBxdWVyaWVzID0gcGFnaW5hdG9yX2NvbmZpZ1sncmVzdWx0X2tleSddCiAgICAgICAgaWYgdHlwZShxdWVyaWVzKSBpcyBub3QgbGlzdDoKICAgICAgICAgICAgcXVlcmllcyA9IFtxdWVyaWVzXQogICAgICAgIHF1ZXJpZXMgPSAiLCAiLmpvaW4oWygnYGAlc2BgJyAlIHMpIGZvciBzIGluIHF1ZXJpZXNdKQogICAgICAgIGhlbHBfY29tbWFuZC5kb2Mud3JpdGVsbigKICAgICAgICAgICAgKCdXaGVuIHVzaW5nIGBgLS1vdXRwdXQgdGV4dGBgIGFuZCB0aGUgYGAtLXF1ZXJ5YGAgYXJndW1lbnQgb24gYSAnCiAgICAgICAgICAgICAncGFnaW5hdGVkIHJlc3BvbnNlLCB0aGUgYGAtLXF1ZXJ5YGAgYXJndW1lbnQgbXVzdCBleHRyYWN0IGRhdGEgJwogICAgICAgICAgICAgJ2Zyb20gdGhlIHJlc3VsdHMgb2YgdGhlIGZvbGxvd2luZyBxdWVyeSBleHByZXNzaW9uczogJXMnKQogICAgICAgICAgICAlIHF1ZXJpZXMpCgoKZGVmIHVuaWZ5X3BhZ2luZ19wYXJhbXMoYXJndW1lbnRfdGFibGUsIG9wZXJhdGlvbl9tb2RlbCwgZXZlbnRfbmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbiwgKiprd2FyZ3MpOgogICAgcGFnaW5hdG9yX2NvbmZpZyA9IGdldF9wYWdpbmF0b3JfY29uZmlnKAogICAgICAgIHNlc3Npb24sIG9wZXJhdGlvbl9tb2RlbC5zZXJ2aWNlX21vZGVsLnNlcnZpY2VfbmFtZSwKICAgICAgICBvcGVyYXRpb25fbW9kZWwubmFtZSkKICAgIGlmIHBhZ2luYXRvcl9jb25maWcgaXMgTm9uZToKICAgICAgICAjIFdlIG9ubHkgYXBwbHkgdGhlc2UgY3VzdG9taXphdGlvbnMgdG8gcGFnaW5hdGVkIHJlc3BvbnNlcy4KICAgICAgICByZXR1cm4KICAgIGxvZ2dlci5kZWJ1ZygiTW9kaWZ5aW5nIHBhZ2luZyBwYXJhbWV0ZXJzIGZvciBvcGVyYXRpb246ICVzIiwKICAgICAgICAgICAgICAgICBvcGVyYXRpb25fbW9kZWwubmFtZSkKICAgIF9yZW1vdmVfZXhpc3RpbmdfcGFnaW5nX2FyZ3VtZW50cyhhcmd1bWVudF90YWJsZSwgcGFnaW5hdG9yX2NvbmZpZykKICAgIHBhcnNlZF9hcmdzX2V2ZW50ID0gZXZlbnRfbmFtZS5yZXBsYWNlKCdidWlsZGluZy1hcmd1bWVudC10YWJsZS4nLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ29wZXJhdGlvbi1hcmdzLXBhcnNlZC4nKQogICAgc2hhZG93ZWRfYXJncyA9IHt9CiAgICBhZGRfcGFnaW5nX2FyZ3VtZW50KGFyZ3VtZW50X3RhYmxlLCAnc3RhcnRpbmctdG9rZW4nLAogICAgICAgICAgICAgICAgICAgICAgICBQYWdlQXJndW1lbnQoJ3N0YXJ0aW5nLXRva2VuJywgU1RBUlRJTkdfVE9LRU5fSEVMUCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlX3R5cGU9J3N0cmluZycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXJpYWxpemVkX25hbWU9J1N0YXJ0aW5nVG9rZW4nKSwKICAgICAgICAgICAgICAgICAgICAgICAgc2hhZG93ZWRfYXJncykKICAgIGlucHV0X21lbWJlcnMgPSBvcGVyYXRpb25fbW9kZWwuaW5wdXRfc2hhcGUubWVtYmVycwogICAgdHlwZV9uYW1lID0gJ2ludGVnZXInCiAgICBpZiAnbGltaXRfa2V5JyBpbiBwYWdpbmF0b3JfY29uZmlnOgogICAgICAgIGxpbWl0X2tleV9zaGFwZSA9IGlucHV0X21lbWJlcnNbcGFnaW5hdG9yX2NvbmZpZ1snbGltaXRfa2V5J11dCiAgICAgICAgdHlwZV9uYW1lID0gbGltaXRfa2V5X3NoYXBlLnR5cGVfbmFtZQogICAgICAgIGlmIHR5cGVfbmFtZSBub3QgaW4gUGFnZUFyZ3VtZW50LnR5cGVfbWFwOgogICAgICAgICAgICByYWlzZSBUeXBlRXJyb3IoCiAgICAgICAgICAgICAgICAoJ1Vuc3VwcG9ydGVkIHBhZ2luYXRpb24gdHlwZSB7MH0gZm9yIG9wZXJhdGlvbiB7MX0nCiAgICAgICAgICAgICAgICAgJyBhbmQgcGFyYW1ldGVyIHsyfScpLmZvcm1hdCgKICAgICAgICAgICAgICAgICAgICB0eXBlX25hbWUsIG9wZXJhdGlvbl9tb2RlbC5uYW1lLAogICAgICAgICAgICAgICAgICAgIHBhZ2luYXRvcl9jb25maWdbJ2xpbWl0X2tleSddKSkKICAgICAgICBhZGRfcGFnaW5nX2FyZ3VtZW50KGFyZ3VtZW50X3RhYmxlLCAncGFnZS1zaXplJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBhZ2VBcmd1bWVudCgncGFnZS1zaXplJywgUEFHRV9TSVpFX0hFTFAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VfdHlwZT10eXBlX25hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VyaWFsaXplZF9uYW1lPSdQYWdlU2l6ZScpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hhZG93ZWRfYXJncykKCiAgICBhZGRfcGFnaW5nX2FyZ3VtZW50KGFyZ3VtZW50X3RhYmxlLCAnbWF4LWl0ZW1zJywKICAgICAgICAgICAgICAgICAgICAgICAgUGFnZUFyZ3VtZW50KCdtYXgtaXRlbXMnLCBNQVhfSVRFTVNfSEVMUCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlX3R5cGU9dHlwZV9uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VyaWFsaXplZF9uYW1lPSdNYXhJdGVtcycpLAogICAgICAgICAgICAgICAgICAgICAgICBzaGFkb3dlZF9hcmdzKQogICAgc2Vzc2lvbi5yZWdpc3RlcigKICAgICAgICBwYXJzZWRfYXJnc19ldmVudCwKICAgICAgICBwYXJ0aWFsKGNoZWNrX3Nob3VsZF9lbmFibGVfcGFnaW5hdGlvbiwKICAgICAgICAgICAgICAgIGxpc3QoX2dldF9hbGxfY2xpX2lucHV0X3Rva2VucyhwYWdpbmF0b3JfY29uZmlnKSksCiAgICAgICAgICAgICAgICBzaGFkb3dlZF9hcmdzLCBhcmd1bWVudF90YWJsZSkpCgoKZGVmIGFkZF9wYWdpbmdfYXJndW1lbnQoYXJndW1lbnRfdGFibGUsIGFyZ19uYW1lLCBhcmd1bWVudCwgc2hhZG93ZWRfYXJncyk6CiAgICBpZiBhcmdfbmFtZSBpbiBhcmd1bWVudF90YWJsZToKICAgICAgICAjIElmIHRoZXJlJ3MgYWxyZWFkeSBhbiBlbnRyeSBpbiB0aGUgYXJnIHRhYmxlIGZvciB0aGlzIGFyZ3VtZW50LAogICAgICAgICMgdGhpcyBtZWFucyB3ZSdyZSBzaGFkb3dpbmcgYW4gYXJndW1lbnQgZm9yIHRoaXMgb3BlcmF0aW9uLiAgV2UKICAgICAgICAjIG5lZWQgdG8gc3RvcmUgdGhpcyBsYXRlciBpbiBjYXNlIHBhZ2luYXRpb24gaXMgdHVybmVkIG9mZiBiZWNhdXNlCiAgICAgICAgIyB3ZSBwdXQgdGhlc2UgYXJndW1lbnRzIGJhY2suCiAgICAgICAgIyBTZWUgdGhlIGNvbW1lbnQgaW4gY2hlY2tfc2hvdWxkX2VuYWJsZV9wYWdpbmF0aW9uKCkgZm9yIG1vcmUgaW5mby4KICAgICAgICBzaGFkb3dlZF9hcmdzW2FyZ19uYW1lXSA9IGFyZ3VtZW50X3RhYmxlW2FyZ19uYW1lXQogICAgYXJndW1lbnRfdGFibGVbYXJnX25hbWVdID0gYXJndW1lbnQKCgpkZWYgY2hlY2tfc2hvdWxkX2VuYWJsZV9wYWdpbmF0aW9uKGlucHV0X3Rva2Vucywgc2hhZG93ZWRfYXJncywgYXJndW1lbnRfdGFibGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VkX2FyZ3MsIHBhcnNlZF9nbG9iYWxzLCAqKmt3YXJncyk6CiAgICBub3JtYWxpemVkX3BhZ2luZ19hcmdzID0gWydzdGFydF90b2tlbicsICdtYXhfaXRlbXMnXQogICAgZm9yIHRva2VuIGluIGlucHV0X3Rva2VuczoKICAgICAgICBweV9uYW1lID0gdG9rZW4ucmVwbGFjZSgnLScsICdfJykKICAgICAgICBpZiBnZXRhdHRyKHBhcnNlZF9hcmdzLCBweV9uYW1lKSBpcyBub3QgTm9uZSBhbmQgXAogICAgICAgICAgICAgICAgcHlfbmFtZSBub3QgaW4gbm9ybWFsaXplZF9wYWdpbmdfYXJnczoKICAgICAgICAgICAgIyBUaGUgdXNlciBoYXMgc3BlY2lmaWVkIGEgbWFudWFsICh1bmRvY3VtZW50ZWQpIHBhZ2luYXRpb24gYXJnLgogICAgICAgICAgICAjIFdlIG5lZWQgdG8gYXV0b21hdGljYWxseSB0dXJuIHBhZ2luYXRpb24gb2ZmLgogICAgICAgICAgICBsb2dnZXIuZGVidWcoIlVzZXIgaGFzIHNwZWNpZmllZCBhIG1hbnVhbCBwYWdpbmF0aW9uIGFyZy4gIgogICAgICAgICAgICAgICAgICAgICAgICAgIkF1dG9tYXRpY2FsbHkgc2V0dGluZyAtLW5vLXBhZ2luYXRlLiIpCiAgICAgICAgICAgIHBhcnNlZF9nbG9iYWxzLnBhZ2luYXRlID0gRmFsc2UKCiAgICBpZiBub3QgcGFyc2VkX2dsb2JhbHMucGFnaW5hdGU6CiAgICAgICAgZW5zdXJlX3BhZ2luZ19wYXJhbXNfbm90X3NldChwYXJzZWRfYXJncywgc2hhZG93ZWRfYXJncykKICAgICAgICAjIEJlY2F1c2UgcGFnaW5hdGlvbiBpcyBub3cgZGlzYWJsZWQsIHRoZXJlJ3MgYSBjaGFuY2UgdGhhdAogICAgICAgICMgd2Ugd2VyZSBzaGFkb3dpbmcgYXJndW1lbnRzLiAgRm9yIGV4YW1wbGUsIHdlIGluamVjdCBhCiAgICAgICAgIyAtLW1heC1pdGVtcyBhcmd1bWVudCBpbiB1bmlmeV9wYWdpbmdfcGFyYW1zKCkuICBJZiB0aGUKICAgICAgICAjIHRoZSBvcGVyYXRpb24gYWxzbyBwcm92aWRlcyBpdHMgb3duIE1heEl0ZW1zICh3aGljaCB3ZQogICAgICAgICMgZXhwb3NlIGFzIC0tbWF4LWl0ZW1zKSB0aGVuIG91ciBjdXN0b20gcGFnaW5hdGlvbiBhcmcKICAgICAgICAjIHdhcyBzaGFkb3dpbmcgdGhlIGN1c3RvbWVycyBhcmcuICBXaGVuIHdlIHR1cm4gcGFnaW5hdGlvbgogICAgICAgICMgb2ZmIHdlIG5lZWQgdG8gcHV0IGJhY2sgdGhlIG9yaWdpbmFsIGFyZ3VtZW50IHdoaWNoIGlzCiAgICAgICAgIyB3aGF0IHdlJ3JlIGRvaW5nIGhlcmUuCiAgICAgICAgZm9yIGtleSwgdmFsdWUgaW4gc2hhZG93ZWRfYXJncy5pdGVtcygpOgogICAgICAgICAgICBhcmd1bWVudF90YWJsZVtrZXldID0gdmFsdWUKCgpkZWYgZW5zdXJlX3BhZ2luZ19wYXJhbXNfbm90X3NldChwYXJzZWRfYXJncywgc2hhZG93ZWRfYXJncyk6CiAgICBwYWdpbmdfcGFyYW1zID0gWydzdGFydGluZ190b2tlbicsICdwYWdlX3NpemUnLCAnbWF4X2l0ZW1zJ10KICAgIHNoYWRvd2VkX3BhcmFtcyA9IFtwLnJlcGxhY2UoJy0nLCAnXycpIGZvciBwIGluIHNoYWRvd2VkX2FyZ3Mua2V5cygpXQogICAgcGFyYW1zX3VzZWQgPSBbcCBmb3IgcCBpbiBwYWdpbmdfcGFyYW1zIGlmCiAgICAgICAgICAgICAgICAgICBwIG5vdCBpbiBzaGFkb3dlZF9wYXJhbXMgYW5kIGdldGF0dHIocGFyc2VkX2FyZ3MsIHAsIE5vbmUpXQoKICAgIGlmIGxlbihwYXJhbXNfdXNlZCkgPiAwOgogICAgICAgIGNvbnZlcnRlZF9wYXJhbXMgPSAnLCAnLmpvaW4oCiAgICAgICAgICAgIFsiLS0iICsgcC5yZXBsYWNlKCdfJywgJy0nKSBmb3IgcCBpbiBwYXJhbXNfdXNlZF0pCiAgICAgICAgcmFpc2UgUGFnaW5hdGlvbkVycm9yKAogICAgICAgICAgICBtZXNzYWdlPSJDYW5ub3Qgc3BlY2lmeSAtLW5vLXBhZ2luYXRlIGFsb25nIHdpdGggcGFnaW5hdGlvbiAiCiAgICAgICAgICAgICAgICAgICAgImFyZ3VtZW50czogJXMiICUgY29udmVydGVkX3BhcmFtcykKCgpkZWYgX3JlbW92ZV9leGlzdGluZ19wYWdpbmdfYXJndW1lbnRzKGFyZ3VtZW50X3RhYmxlLCBwYWdpbmF0aW9uX2NvbmZpZyk6CiAgICBmb3IgY2xpX25hbWUgaW4gX2dldF9hbGxfY2xpX2lucHV0X3Rva2VucyhwYWdpbmF0aW9uX2NvbmZpZyk6CiAgICAgICAgYXJndW1lbnRfdGFibGVbY2xpX25hbWVdLl9VTkRPQ1VNRU5URUQgPSBUcnVlCgoKZGVmIF9nZXRfYWxsX2NsaV9pbnB1dF90b2tlbnMocGFnaW5hdGlvbl9jb25maWcpOgogICAgIyBHZXQgYWxsIGlucHV0IHRva2VucyBpbmNsdWRpbmcgdGhlIGxpbWl0X2tleQogICAgIyBpZiBpdCBleGlzdHMuCiAgICB0b2tlbnMgPSBfZ2V0X2lucHV0X3Rva2VucyhwYWdpbmF0aW9uX2NvbmZpZykKICAgIGZvciB0b2tlbl9uYW1lIGluIHRva2VuczoKICAgICAgICBjbGlfbmFtZSA9IHhmb3JtX25hbWUodG9rZW5fbmFtZSwgJy0nKQogICAgICAgIHlpZWxkIGNsaV9uYW1lCiAgICBpZiAnbGltaXRfa2V5JyBpbiBwYWdpbmF0aW9uX2NvbmZpZzoKICAgICAgICBrZXlfbmFtZSA9IHBhZ2luYXRpb25fY29uZmlnWydsaW1pdF9rZXknXQogICAgICAgIGNsaV9uYW1lID0geGZvcm1fbmFtZShrZXlfbmFtZSwgJy0nKQogICAgICAgIHlpZWxkIGNsaV9uYW1lCgoKZGVmIF9nZXRfaW5wdXRfdG9rZW5zKHBhZ2luYXRpb25fY29uZmlnKToKICAgIHRva2VucyA9IHBhZ2luYXRpb25fY29uZmlnWydpbnB1dF90b2tlbiddCiAgICBpZiBub3QgaXNpbnN0YW5jZSh0b2tlbnMsIGxpc3QpOgogICAgICAgIHJldHVybiBbdG9rZW5zXQogICAgcmV0dXJuIHRva2VucwoKCmRlZiBfZ2V0X2NsaV9uYW1lKHBhcmFtX29iamVjdHMsIHRva2VuX25hbWUpOgogICAgZm9yIHBhcmFtIGluIHBhcmFtX29iamVjdHM6CiAgICAgICAgaWYgcGFyYW0ubmFtZSA9PSB0b2tlbl9uYW1lOgogICAgICAgICAgICByZXR1cm4gcGFyYW0uY2xpX25hbWUubHN0cmlwKCctJykKCgpjbGFzcyBQYWdlQXJndW1lbnQoQmFzZUNMSUFyZ3VtZW50KToKICAgIHR5cGVfbWFwID0gewogICAgICAgICdzdHJpbmcnOiBzdHIsCiAgICAgICAgJ2ludGVnZXInOiBpbnQsCiAgICAgICAgJ2xvbmcnOiBpbnQsCiAgICB9CgogICAgZGVmIF9faW5pdF9fKHNlbGYsIG5hbWUsIGRvY3VtZW50YXRpb24sIHBhcnNlX3R5cGUsIHNlcmlhbGl6ZWRfbmFtZSk6CiAgICAgICAgc2VsZi5hcmd1bWVudF9tb2RlbCA9IG1vZGVsLlNoYXBlKCdQYWdlQXJndW1lbnQnLCB7J3R5cGUnOiAnc3RyaW5nJ30pCiAgICAgICAgc2VsZi5fbmFtZSA9IG5hbWUKICAgICAgICBzZWxmLl9zZXJpYWxpemVkX25hbWUgPSBzZXJpYWxpemVkX25hbWUKICAgICAgICBzZWxmLl9kb2N1bWVudGF0aW9uID0gZG9jdW1lbnRhdGlvbgogICAgICAgIHNlbGYuX3BhcnNlX3R5cGUgPSBwYXJzZV90eXBlCiAgICAgICAgc2VsZi5fcmVxdWlyZWQgPSBGYWxzZQoKICAgIEBwcm9wZXJ0eQogICAgZGVmIGNsaV9uYW1lKHNlbGYpOgogICAgICAgIHJldHVybiAnLS0nICsgc2VsZi5fbmFtZQoKICAgIEBwcm9wZXJ0eQogICAgZGVmIGNsaV90eXBlX25hbWUoc2VsZik6CiAgICAgICAgcmV0dXJuIHNlbGYuX3BhcnNlX3R5cGUKCiAgICBAcHJvcGVydHkKICAgIGRlZiByZXF1aXJlZChzZWxmKToKICAgICAgICByZXR1cm4gc2VsZi5fcmVxdWlyZWQKCiAgICBAcmVxdWlyZWQuc2V0dGVyCiAgICBkZWYgcmVxdWlyZWQoc2VsZiwgdmFsdWUpOgogICAgICAgIHNlbGYuX3JlcXVpcmVkID0gdmFsdWUKCiAgICBAcHJvcGVydHkKICAgIGRlZiBkb2N1bWVudGF0aW9uKHNlbGYpOgogICAgICAgIHJldHVybiBzZWxmLl9kb2N1bWVudGF0aW9uCgogICAgZGVmIGFkZF90b19wYXJzZXIoc2VsZiwgcGFyc2VyKToKICAgICAgICBwYXJzZXIuYWRkX2FyZ3VtZW50KHNlbGYuY2xpX25hbWUsIGRlc3Q9c2VsZi5weV9uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1zZWxmLnR5cGVfbWFwW3NlbGYuX3BhcnNlX3R5cGVdKQoKICAgIGRlZiBhZGRfdG9fcGFyYW1zKHNlbGYsIHBhcmFtZXRlcnMsIHZhbHVlKToKICAgICAgICBpZiB2YWx1ZSBpcyBub3QgTm9uZToKICAgICAgICAgICAgcGFnaW5hdGlvbl9jb25maWcgPSBwYXJhbWV0ZXJzLmdldCgnUGFnaW5hdGlvbkNvbmZpZycsIHt9KQogICAgICAgICAgICBwYWdpbmF0aW9uX2NvbmZpZ1tzZWxmLl9zZXJpYWxpemVkX25hbWVdID0gdmFsdWUKICAgICAgICAgICAgcGFyYW1ldGVyc1snUGFnaW5hdGlvbkNvbmZpZyddID0gcGFnaW5hdGlvbl9jb25maWcK
